var Uw=Object.defineProperty;var Pw=(t,e,n)=>e in t?Uw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ce=(t,e,n)=>Pw(t,typeof e!="symbol"?e+"":e,n);function Bw(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $w(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Hh={exports:{}},_o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function Iw(){if(wb)return _o;wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:i,key:l,ref:a!==void 0?a:null,props:o}}return _o.Fragment=e,_o.jsx=n,_o.jsxs=n,_o}var kb;function Hw(){return kb||(kb=1,Hh.exports=Iw()),Hh.exports}var y=Hw(),Fh={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function Fw(){if(Tb)return Oe;Tb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function w(A,U,Z){this.props=A,this.context=U,this.refs=k,this.updater=Z||_}w.prototype.isReactComponent={},w.prototype.setState=function(A,U){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,U,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function E(){}E.prototype=w.prototype;function O(A,U,Z){this.props=A,this.context=U,this.refs=k,this.updater=Z||_}var M=O.prototype=new E;M.constructor=O,S(M,w.prototype),M.isPureReactComponent=!0;var z=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function Y(A,U,Z,W,I,ae){return Z=ae.ref,{$$typeof:t,type:A,key:U,ref:Z!==void 0?Z:null,props:ae}}function q(A,U){return Y(A.type,U,void 0,void 0,void 0,A.props)}function te(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function Q(A){var U={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return U[Z]})}var le=/\/+/g;function re(A,U){return typeof A=="object"&&A!==null&&A.key!=null?Q(""+A.key):U.toString(36)}function Te(){}function _e(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Te,Te):(A.status="pending",A.then(function(U){A.status==="pending"&&(A.status="fulfilled",A.value=U)},function(U){A.status==="pending"&&(A.status="rejected",A.reason=U)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function de(A,U,Z,W,I){var ae=typeof A;(ae==="undefined"||ae==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(ae){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case t:case e:oe=!0;break;case p:return oe=A._init,de(oe(A._payload),U,Z,W,I)}}if(oe)return I=I(A),oe=W===""?"."+re(A,0):W,z(I)?(Z="",oe!=null&&(Z=oe.replace(le,"$&/")+"/"),de(I,U,Z,"",function(qe){return qe})):I!=null&&(te(I)&&(I=q(I,Z+(I.key==null||A&&A.key===I.key?"":(""+I.key).replace(le,"$&/")+"/")+oe)),U.push(I)),1;oe=0;var De=W===""?".":W+":";if(z(A))for(var fe=0;fe<A.length;fe++)W=A[fe],ae=De+re(W,fe),oe+=de(W,U,Z,ae,I);else if(fe=v(A),typeof fe=="function")for(A=fe.call(A),fe=0;!(W=A.next()).done;)W=W.value,ae=De+re(W,fe++),oe+=de(W,U,Z,ae,I);else if(ae==="object"){if(typeof A.then=="function")return de(_e(A),U,Z,W,I);throw U=String(A),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return oe}function B(A,U,Z){if(A==null)return A;var W=[],I=0;return de(A,W,"","",function(ae){return U.call(Z,ae,I++)}),W}function ie(A){if(A._status===-1){var U=A._result;U=U(),U.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=U)}if(A._status===1)return A._result.default;throw A._result}var $=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function N(){}return Oe.Children={map:B,forEach:function(A,U,Z){B(A,function(){U.apply(this,arguments)},Z)},count:function(A){var U=0;return B(A,function(){U++}),U},toArray:function(A){return B(A,function(U){return U})||[]},only:function(A){if(!te(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Oe.Component=w,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=O,Oe.StrictMode=i,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return C.H.useMemoCache(A)}},Oe.cache=function(A){return function(){return A.apply(null,arguments)}},Oe.cloneElement=function(A,U,Z){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=S({},A.props),I=A.key,ae=void 0;if(U!=null)for(oe in U.ref!==void 0&&(ae=void 0),U.key!==void 0&&(I=""+U.key),U)!G.call(U,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&U.ref===void 0||(W[oe]=U[oe]);var oe=arguments.length-2;if(oe===1)W.children=Z;else if(1<oe){for(var De=Array(oe),fe=0;fe<oe;fe++)De[fe]=arguments[fe+2];W.children=De}return Y(A.type,I,void 0,void 0,ae,W)},Oe.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},Oe.createElement=function(A,U,Z){var W,I={},ae=null;if(U!=null)for(W in U.key!==void 0&&(ae=""+U.key),U)G.call(U,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(I[W]=U[W]);var oe=arguments.length-2;if(oe===1)I.children=Z;else if(1<oe){for(var De=Array(oe),fe=0;fe<oe;fe++)De[fe]=arguments[fe+2];I.children=De}if(A&&A.defaultProps)for(W in oe=A.defaultProps,oe)I[W]===void 0&&(I[W]=oe[W]);return Y(A,ae,void 0,void 0,null,I)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(A){return{$$typeof:u,render:A}},Oe.isValidElement=te,Oe.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:ie}},Oe.memo=function(A,U){return{$$typeof:f,type:A,compare:U===void 0?null:U}},Oe.startTransition=function(A){var U=C.T,Z={};C.T=Z;try{var W=A(),I=C.S;I!==null&&I(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(N,$)}catch(ae){$(ae)}finally{C.T=U}},Oe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Oe.use=function(A){return C.H.use(A)},Oe.useActionState=function(A,U,Z){return C.H.useActionState(A,U,Z)},Oe.useCallback=function(A,U){return C.H.useCallback(A,U)},Oe.useContext=function(A){return C.H.useContext(A)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(A,U){return C.H.useDeferredValue(A,U)},Oe.useEffect=function(A,U,Z){var W=C.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(A,U)},Oe.useId=function(){return C.H.useId()},Oe.useImperativeHandle=function(A,U,Z){return C.H.useImperativeHandle(A,U,Z)},Oe.useInsertionEffect=function(A,U){return C.H.useInsertionEffect(A,U)},Oe.useLayoutEffect=function(A,U){return C.H.useLayoutEffect(A,U)},Oe.useMemo=function(A,U){return C.H.useMemo(A,U)},Oe.useOptimistic=function(A,U){return C.H.useOptimistic(A,U)},Oe.useReducer=function(A,U,Z){return C.H.useReducer(A,U,Z)},Oe.useRef=function(A){return C.H.useRef(A)},Oe.useState=function(A){return C.H.useState(A)},Oe.useSyncExternalStore=function(A,U,Z){return C.H.useSyncExternalStore(A,U,Z)},Oe.useTransition=function(){return C.H.useTransition()},Oe.version="19.1.0",Oe}var Ab;function ag(){return Ab||(Ab=1,Fh.exports=Fw()),Fh.exports}var R=ag();const rg=sg(R),qw=Bw({__proto__:null,default:rg},[R]);var qh={exports:{}},xo={},Vh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function Vw(){return Eb||(Eb=1,function(t){function e(B,ie){var $=B.length;B.push(ie);e:for(;0<$;){var N=$-1>>>1,A=B[N];if(0<a(A,ie))B[N]=ie,B[$]=A,$=N;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var ie=B[0],$=B.pop();if($!==ie){B[0]=$;e:for(var N=0,A=B.length,U=A>>>1;N<U;){var Z=2*(N+1)-1,W=B[Z],I=Z+1,ae=B[I];if(0>a(W,$))I<A&&0>a(ae,W)?(B[N]=ae,B[I]=$,N=I):(B[N]=W,B[Z]=$,N=Z);else if(I<A&&0>a(ae,$))B[N]=ae,B[I]=$,N=I;else break e}}return ie}function a(B,ie){var $=B.sortIndex-ie.sortIndex;return $!==0?$:B.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,b=null,v=3,_=!1,S=!1,k=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function z(B){for(var ie=n(f);ie!==null;){if(ie.callback===null)i(f);else if(ie.startTime<=B)i(f),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=n(f)}}function C(B){if(k=!1,z(B),!S)if(n(h)!==null)S=!0,G||(G=!0,re());else{var ie=n(f);ie!==null&&de(C,ie.startTime-B)}}var G=!1,Y=-1,q=5,te=-1;function Q(){return w?!0:!(t.unstable_now()-te<q)}function le(){if(w=!1,G){var B=t.unstable_now();te=B;var ie=!0;try{e:{S=!1,k&&(k=!1,O(Y),Y=-1),_=!0;var $=v;try{t:{for(z(B),b=n(h);b!==null&&!(b.expirationTime>B&&Q());){var N=b.callback;if(typeof N=="function"){b.callback=null,v=b.priorityLevel;var A=N(b.expirationTime<=B);if(B=t.unstable_now(),typeof A=="function"){b.callback=A,z(B),ie=!0;break t}b===n(h)&&i(h),z(B)}else i(h);b=n(h)}if(b!==null)ie=!0;else{var U=n(f);U!==null&&de(C,U.startTime-B),ie=!1}}break e}finally{b=null,v=$,_=!1}ie=void 0}}finally{ie?re():G=!1}}}var re;if(typeof M=="function")re=function(){M(le)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,_e=Te.port2;Te.port1.onmessage=le,re=function(){_e.postMessage(null)}}else re=function(){E(le,0)};function de(B,ie){Y=E(function(){B(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(B){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var $=v;v=ie;try{return B()}finally{v=$}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=v;v=B;try{return ie()}finally{v=$}},t.unstable_scheduleCallback=function(B,ie,$){var N=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?N+$:N):$=N,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=$+A,B={id:p++,callback:ie,priorityLevel:B,startTime:$,expirationTime:A,sortIndex:-1},$>N?(B.sortIndex=$,e(f,B),n(h)===null&&B===n(f)&&(k?(O(Y),Y=-1):k=!0,de(C,$-N))):(B.sortIndex=A,e(h,B),S||_||(S=!0,G||(G=!0,re()))),B},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(B){var ie=v;return function(){var $=v;v=ie;try{return B.apply(this,arguments)}finally{v=$}}}}(Zh)),Zh}var jb;function Zw(){return jb||(jb=1,Vh.exports=Vw()),Vh.exports}var Yh={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function Yw(){if(Mb)return rn;Mb=1;var t=ag();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,p)},rn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},rn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},rn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},rn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,b=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:_}):p==="script"&&i.d.X(h,{crossOrigin:b,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},rn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},rn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,b=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},rn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},rn.requestFormReset=function(h){i.d.r(h)},rn.unstable_batchedUpdates=function(h,f){return h(f)},rn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},rn.useFormStatus=function(){return l.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var Ob;function u_(){if(Ob)return Yh.exports;Ob=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yh.exports=Yw(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function Ww(){if(Rb)return xo;Rb=1;var t=Zw(),e=ag(),n=u_();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,c=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(c=r.return),s=r.return;while(s)}return r.tag===3?c:null}function l(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function h(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var c=s,d=r;;){var g=c.return;if(g===null)break;var m=g.alternate;if(m===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===c)return u(g),s;if(m===d)return u(g),r;m=m.sibling}throw Error(i(188))}if(c.return!==d.return)c=g,d=m;else{for(var x=!1,T=g.child;T;){if(T===c){x=!0,c=g,d=m;break}if(T===d){x=!0,d=g,c=m;break}T=T.sibling}if(!x){for(T=m.child;T;){if(T===c){x=!0,c=m,d=g;break}if(T===d){x=!0,d=m,c=g;break}T=T.sibling}if(!x)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:r}function f(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=f(s),r!==null)return r;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var Te=Symbol.for("react.client.reference");function _e(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Te?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case w:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case G:return"SuspenseList";case te:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case M:return(s.displayName||"Context")+".Provider";case O:return(s._context.displayName||"Context")+".Consumer";case z:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return r=s.displayName||null,r!==null?r:_e(s.type)||"Memo";case q:r=s._payload,s=s._init;try{return _e(s(r))}catch{}}return null}var de=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},N=[],A=-1;function U(s){return{current:s}}function Z(s){0>A||(s.current=N[A],N[A]=null,A--)}function W(s,r){A++,N[A]=s.current,s.current=r}var I=U(null),ae=U(null),oe=U(null),De=U(null);function fe(s,r){switch(W(oe,r),W(ae,s),W(I,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?K0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=K0(r),s=Q0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(I),W(I,s)}function qe(){Z(I),Z(ae),Z(oe)}function et(s){s.memoizedState!==null&&W(De,s);var r=I.current,c=Q0(r,s.type);r!==c&&(W(ae,s),W(I,c))}function Xe(s){ae.current===s&&(Z(I),Z(ae)),De.current===s&&(Z(De),po._currentValue=$)}var X=Object.prototype.hasOwnProperty,ue=t.unstable_scheduleCallback,ye=t.unstable_cancelCallback,Nt=t.unstable_shouldYield,me=t.unstable_requestPaint,Ae=t.unstable_now,$e=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,un=t.unstable_UserBlockingPriority,Mt=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,tt=t.unstable_IdlePriority,Zn=t.log,An=t.unstable_setDisableYieldValue,Ot=null,Ke=null;function dn(s){if(typeof Zn=="function"&&An(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Ot,s)}catch{}}var wt=Math.clz32?Math.clz32:Ii,di=Math.log,$i=Math.LN2;function Ii(s){return s>>>=0,s===0?32:31-(di(s)/$i|0)|0}var kt=256,Os=4194304;function ti(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Hi(s,r,c){var d=s.pendingLanes;if(d===0)return 0;var g=0,m=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var T=d&134217727;return T!==0?(d=T&~m,d!==0?g=ti(d):(x&=T,x!==0?g=ti(x):c||(c=T&~s,c!==0&&(g=ti(c))))):(T=d&~m,T!==0?g=ti(T):x!==0?g=ti(x):c||(c=d&~s,c!==0&&(g=ti(c)))),g===0?0:r!==0&&r!==g&&(r&m)===0&&(m=g&-g,c=r&-r,m>=c||m===32&&(c&4194048)!==0)?r:g}function ee(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function he(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(){var s=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),s}function nt(){var s=Os;return Os<<=1,(Os&62914560)===0&&(Os=4194304),s}function Ie(s){for(var r=[],c=0;31>c;c++)r.push(s);return r}function Re(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ve(s,r,c,d,g,m){var x=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var T=s.entanglements,j=s.expirationTimes,H=s.hiddenUpdates;for(c=x&~c;0<c;){var K=31-wt(c),ne=1<<K;T[K]=0,j[K]=-1;var F=H[K];if(F!==null)for(H[K]=null,K=0;K<F.length;K++){var V=F[K];V!==null&&(V.lane&=-536870913)}c&=~ne}d!==0&&Tt(s,d,0),m!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=m&~(x&~r))}function Tt(s,r,c){s.pendingLanes|=r,s.suspendedLanes&=~r;var d=31-wt(r);s.entangledLanes|=r,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194090}function it(s,r){var c=s.entangledLanes|=r;for(s=s.entanglements;c;){var d=31-wt(c),g=1<<d;g&r|s[d]&r&&(s[d]|=r),c&=~g}}function We(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function qt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qe(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:bb(s.type))}function Jt(s,r){var c=ie.p;try{return ie.p=s,r()}finally{ie.p=c}}var Nn=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Nn,mn="__reactProps$"+Nn,da="__reactContainer$"+Nn,zu="__reactEvents$"+Nn,E1="__reactListeners$"+Nn,j1="__reactHandles$"+Nn,Bg="__reactResources$"+Nn,Tr="__reactMarker$"+Nn;function Nu(s){delete s[Vt],delete s[mn],delete s[zu],delete s[E1],delete s[j1]}function ha(s){var r=s[Vt];if(r)return r;for(var c=s.parentNode;c;){if(r=c[da]||c[Vt]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(s=nb(s);s!==null;){if(c=s[Vt])return c;s=nb(s)}return r}s=c,c=s.parentNode}return null}function fa(s){if(s=s[Vt]||s[da]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Ar(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function ga(s){var r=s[Bg];return r||(r=s[Bg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Zt(s){s[Tr]=!0}var $g=new Set,Ig={};function Rs(s,r){pa(s,r),pa(s+"Capture",r)}function pa(s,r){for(Ig[s]=r,s=0;s<r.length;s++)$g.add(r[s])}var M1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hg={},Fg={};function O1(s){return X.call(Fg,s)?!0:X.call(Hg,s)?!1:M1.test(s)?Fg[s]=!0:(Hg[s]=!0,!1)}function gl(s,r,c){if(O1(r))if(c===null)s.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+c)}}function pl(s,r,c){if(c===null)s.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+c)}}function hi(s,r,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(r,c,""+d)}}var Lu,qg;function ma(s){if(Lu===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);Lu=r&&r[1]||"",qg=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lu+s+qg}var Uu=!1;function Pu(s,r){if(!s||Uu)return"";Uu=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(V){var F=V}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(V){F=V}s.call(ne.prototype)}}else{try{throw Error()}catch(V){F=V}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(V){if(V&&F&&typeof V.stack=="string")return[V.stack,F.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=d.DetermineComponentFrameRoot(),x=m[0],T=m[1];if(x&&T){var j=x.split(`
`),H=T.split(`
`);for(g=d=0;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(d===j.length||g===H.length)for(d=j.length-1,g=H.length-1;1<=d&&0<=g&&j[d]!==H[g];)g--;for(;1<=d&&0<=g;d--,g--)if(j[d]!==H[g]){if(d!==1||g!==1)do if(d--,g--,0>g||j[d]!==H[g]){var K=`
`+j[d].replace(" at new "," at ");return s.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",s.displayName)),K}while(1<=d&&0<=g);break}}}finally{Uu=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?ma(c):""}function R1(s){switch(s.tag){case 26:case 27:case 5:return ma(s.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 15:return Pu(s.type,!1);case 11:return Pu(s.type.render,!1);case 1:return Pu(s.type,!0);case 31:return ma("Activity");default:return""}}function Vg(s){try{var r="";do r+=R1(s),s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Ln(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zg(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function C1(s){var r=Zg(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),d=""+s[r];if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,m=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(x){d=""+x,m.call(this,x)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ml(s){s._valueTracker||(s._valueTracker=C1(s))}function Yg(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var c=r.getValue(),d="";return s&&(d=Zg(s)?s.checked?"true":"false":s.value),s=d,s!==c?(r.setValue(s),!0):!1}function bl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var D1=/[\n"\\]/g;function Un(s){return s.replace(D1,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Bu(s,r,c,d,g,m,x,T){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),r!=null?x==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Ln(r)):s.value!==""+Ln(r)&&(s.value=""+Ln(r)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),r!=null?$u(s,x,Ln(r)):c!=null?$u(s,x,Ln(c)):d!=null&&s.removeAttribute("value"),g==null&&m!=null&&(s.defaultChecked=!!m),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+Ln(T):s.removeAttribute("name")}function Wg(s,r,c,d,g,m,x,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),r!=null||c!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;c=c!=null?""+Ln(c):"",r=r!=null?""+Ln(r):c,T||r===s.value||(s.value=r),s.defaultValue=r}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=T?s.checked:!!d,s.defaultChecked=!!d,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x)}function $u(s,r,c){r==="number"&&bl(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function ba(s,r,c,d){if(s=s.options,r){r={};for(var g=0;g<c.length;g++)r["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=r.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Ln(c),r=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function Gg(s,r,c){if(r!=null&&(r=""+Ln(r),r!==s.value&&(s.value=r),c==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=c!=null?""+Ln(c):""}function Xg(s,r,c,d){if(r==null){if(d!=null){if(c!=null)throw Error(i(92));if(de(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),r=c}c=Ln(r),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function ya(s,r){if(r){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=r;return}}s.textContent=r}var z1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kg(s,r,c){var d=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":d?s.setProperty(r,c):typeof c!="number"||c===0||z1.has(r)?r==="float"?s.cssFloat=c:s[r]=(""+c).trim():s[r]=c+"px"}function Qg(s,r,c){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in r)d=r[g],r.hasOwnProperty(g)&&c[g]!==d&&Kg(s,g,d)}else for(var m in r)r.hasOwnProperty(m)&&Kg(s,m,r[m])}function Iu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(s){return L1.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Hu=null;function Fu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var va=null,_a=null;function Jg(s){var r=fa(s);if(r&&(s=r.stateNode)){var c=s[mn]||null;e:switch(s=r.stateNode,r.type){case"input":if(Bu(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Un(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var d=c[r];if(d!==s&&d.form===s.form){var g=d[mn]||null;if(!g)throw Error(i(90));Bu(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<c.length;r++)d=c[r],d.form===s.form&&Yg(d)}break e;case"textarea":Gg(s,c.value,c.defaultValue);break e;case"select":r=c.value,r!=null&&ba(s,!!c.multiple,r,!1)}}}var qu=!1;function ep(s,r,c){if(qu)return s(r,c);qu=!0;try{var d=s(r);return d}finally{if(qu=!1,(va!==null||_a!==null)&&(ic(),va&&(r=va,s=_a,_a=va=null,Jg(r),s)))for(r=0;r<s.length;r++)Jg(s[r])}}function Er(s,r){var c=s.stateNode;if(c===null)return null;var d=c[mn]||null;if(d===null)return null;c=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,r,typeof c));return c}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vu=!1;if(fi)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Vu=!1}var Fi=null,Zu=null,vl=null;function tp(){if(vl)return vl;var s,r=Zu,c=r.length,d,g="value"in Fi?Fi.value:Fi.textContent,m=g.length;for(s=0;s<c&&r[s]===g[s];s++);var x=c-s;for(d=1;d<=x&&r[c-d]===g[m-d];d++);return vl=g.slice(s,1<d?1-d:void 0)}function _l(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function xl(){return!0}function np(){return!1}function bn(s){function r(c,d,g,m,x){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(c=s[T],this[T]=c?c(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xl:np,this.isPropagationStopped=np,this}return p(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),r}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=bn(Cs),Mr=p({},Cs,{view:0,detail:0}),U1=bn(Mr),Yu,Wu,Or,wl=p({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Or&&(Or&&s.type==="mousemove"?(Yu=s.screenX-Or.screenX,Wu=s.screenY-Or.screenY):Wu=Yu=0,Or=s),Yu)},movementY:function(s){return"movementY"in s?s.movementY:Wu}}),ip=bn(wl),P1=p({},wl,{dataTransfer:0}),B1=bn(P1),$1=p({},Mr,{relatedTarget:0}),Gu=bn($1),I1=p({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),H1=bn(I1),F1=p({},Cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),q1=bn(F1),V1=p({},Cs,{data:0}),sp=bn(V1),Z1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G1(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=W1[s])?!!r[s]:!1}function Xu(){return G1}var X1=p({},Mr,{key:function(s){if(s.key){var r=Z1[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=_l(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Y1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(s){return s.type==="keypress"?_l(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_l(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),K1=bn(X1),Q1=p({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ap=bn(Q1),J1=p({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),eS=bn(J1),tS=p({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),nS=bn(tS),iS=p({},wl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),sS=bn(iS),aS=p({},Cs,{newState:0,oldState:0}),rS=bn(aS),oS=[9,13,27,32],Ku=fi&&"CompositionEvent"in window,Rr=null;fi&&"documentMode"in document&&(Rr=document.documentMode);var lS=fi&&"TextEvent"in window&&!Rr,rp=fi&&(!Ku||Rr&&8<Rr&&11>=Rr),op=" ",lp=!1;function cp(s,r){switch(s){case"keyup":return oS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xa=!1;function cS(s,r){switch(s){case"compositionend":return up(r);case"keypress":return r.which!==32?null:(lp=!0,op);case"textInput":return s=r.data,s===op&&lp?null:s;default:return null}}function uS(s,r){if(xa)return s==="compositionend"||!Ku&&cp(s,r)?(s=tp(),vl=Zu=Fi=null,xa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return rp&&r.locale!=="ko"?null:r.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!dS[s.type]:r==="textarea"}function hp(s,r,c,d){va?_a?_a.push(d):_a=[d]:va=d,r=cc(r,"onChange"),0<r.length&&(c=new Sl("onChange","change",null,c,d),s.push({event:c,listeners:r}))}var Cr=null,Dr=null;function hS(s){Z0(s,0)}function kl(s){var r=Ar(s);if(Yg(r))return s}function fp(s,r){if(s==="change")return r}var gp=!1;if(fi){var Qu;if(fi){var Ju="oninput"in document;if(!Ju){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Ju=typeof pp.oninput=="function"}Qu=Ju}else Qu=!1;gp=Qu&&(!document.documentMode||9<document.documentMode)}function mp(){Cr&&(Cr.detachEvent("onpropertychange",bp),Dr=Cr=null)}function bp(s){if(s.propertyName==="value"&&kl(Dr)){var r=[];hp(r,Dr,s,Fu(s)),ep(hS,r)}}function fS(s,r,c){s==="focusin"?(mp(),Cr=r,Dr=c,Cr.attachEvent("onpropertychange",bp)):s==="focusout"&&mp()}function gS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kl(Dr)}function pS(s,r){if(s==="click")return kl(r)}function mS(s,r){if(s==="input"||s==="change")return kl(r)}function bS(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var En=typeof Object.is=="function"?Object.is:bS;function zr(s,r){if(En(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var c=Object.keys(s),d=Object.keys(r);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!X.call(r,g)||!En(s[g],r[g]))return!1}return!0}function yp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vp(s,r){var c=yp(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=r&&d>=r)return{node:c,offset:r-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=yp(c)}}function _p(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?_p(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function xp(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=bl(s.document);r instanceof s.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)s=r.contentWindow;else break;r=bl(s.document)}return r}function ed(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var yS=fi&&"documentMode"in document&&11>=document.documentMode,Sa=null,td=null,Nr=null,nd=!1;function Sp(s,r,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;nd||Sa==null||Sa!==bl(d)||(d=Sa,"selectionStart"in d&&ed(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Nr&&zr(Nr,d)||(Nr=d,d=cc(td,"onSelect"),0<d.length&&(r=new Sl("onSelect","select",null,r,c),s.push({event:r,listeners:d}),r.target=Sa)))}function Ds(s,r){var c={};return c[s.toLowerCase()]=r.toLowerCase(),c["Webkit"+s]="webkit"+r,c["Moz"+s]="moz"+r,c}var wa={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},id={},wp={};fi&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function zs(s){if(id[s])return id[s];if(!wa[s])return s;var r=wa[s],c;for(c in r)if(r.hasOwnProperty(c)&&c in wp)return id[s]=r[c];return s}var kp=zs("animationend"),Tp=zs("animationiteration"),Ap=zs("animationstart"),vS=zs("transitionrun"),_S=zs("transitionstart"),xS=zs("transitioncancel"),Ep=zs("transitionend"),jp=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function Yn(s,r){jp.set(s,r),Rs(r,[s])}var Mp=new WeakMap;function Pn(s,r){if(typeof s=="object"&&s!==null){var c=Mp.get(s);return c!==void 0?c:(r={value:s,source:r,stack:Vg(r)},Mp.set(s,r),r)}return{value:s,source:r,stack:Vg(r)}}var Bn=[],ka=0,ad=0;function Tl(){for(var s=ka,r=ad=ka=0;r<s;){var c=Bn[r];Bn[r++]=null;var d=Bn[r];Bn[r++]=null;var g=Bn[r];Bn[r++]=null;var m=Bn[r];if(Bn[r++]=null,d!==null&&g!==null){var x=d.pending;x===null?g.next=g:(g.next=x.next,x.next=g),d.pending=g}m!==0&&Op(c,g,m)}}function Al(s,r,c,d){Bn[ka++]=s,Bn[ka++]=r,Bn[ka++]=c,Bn[ka++]=d,ad|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function rd(s,r,c,d){return Al(s,r,c,d),El(s)}function Ta(s,r){return Al(s,null,null,r),El(s)}function Op(s,r,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var g=!1,m=s.return;m!==null;)m.childLanes|=c,d=m.alternate,d!==null&&(d.childLanes|=c),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(g=!0)),s=m,m=m.return;return s.tag===3?(m=s.stateNode,g&&r!==null&&(g=31-wt(c),s=m.hiddenUpdates,d=s[g],d===null?s[g]=[r]:d.push(r),r.lane=c|536870912),m):null}function El(s){if(50<ro)throw ro=0,hh=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Aa={};function SS(s,r,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,r,c,d){return new SS(s,r,c,d)}function od(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gi(s,r){var c=s.alternate;return c===null?(c=jn(s.tag,r,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=r,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,r=s.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Rp(s,r){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,r=c.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function jl(s,r,c,d,g,m){var x=0;if(d=s,typeof s=="function")od(s)&&(x=1);else if(typeof s=="string")x=kw(s,c,I.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case te:return s=jn(31,c,r,g),s.elementType=te,s.lanes=m,s;case S:return Ns(c.children,g,m,r);case k:x=8,g|=24;break;case w:return s=jn(12,c,r,g|2),s.elementType=w,s.lanes=m,s;case C:return s=jn(13,c,r,g),s.elementType=C,s.lanes=m,s;case G:return s=jn(19,c,r,g),s.elementType=G,s.lanes=m,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case M:x=10;break e;case O:x=9;break e;case z:x=11;break e;case Y:x=14;break e;case q:x=16,d=null;break e}x=29,c=Error(i(130,s===null?"null":typeof s,"")),d=null}return r=jn(x,c,r,g),r.elementType=s,r.type=d,r.lanes=m,r}function Ns(s,r,c,d){return s=jn(7,s,d,r),s.lanes=c,s}function ld(s,r,c){return s=jn(6,s,null,r),s.lanes=c,s}function cd(s,r,c){return r=jn(4,s.children!==null?s.children:[],s.key,r),r.lanes=c,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Ea=[],ja=0,Ml=null,Ol=0,$n=[],In=0,Ls=null,pi=1,mi="";function Us(s,r){Ea[ja++]=Ol,Ea[ja++]=Ml,Ml=s,Ol=r}function Cp(s,r,c){$n[In++]=pi,$n[In++]=mi,$n[In++]=Ls,Ls=s;var d=pi;s=mi;var g=32-wt(d)-1;d&=~(1<<g),c+=1;var m=32-wt(r)+g;if(30<m){var x=g-g%5;m=(d&(1<<x)-1).toString(32),d>>=x,g-=x,pi=1<<32-wt(r)+g|c<<g|d,mi=m+s}else pi=1<<m|c<<g|d,mi=s}function ud(s){s.return!==null&&(Us(s,1),Cp(s,1,0))}function dd(s){for(;s===Ml;)Ml=Ea[--ja],Ea[ja]=null,Ol=Ea[--ja],Ea[ja]=null;for(;s===Ls;)Ls=$n[--In],$n[In]=null,mi=$n[--In],$n[In]=null,pi=$n[--In],$n[In]=null}var hn=null,At=null,Ge=!1,Ps=null,ni=!1,hd=Error(i(519));function Bs(s){var r=Error(i(418,""));throw Pr(Pn(r,s)),hd}function Dp(s){var r=s.stateNode,c=s.type,d=s.memoizedProps;switch(r[Vt]=s,r[mn]=d,c){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(c=0;c<lo.length;c++)Ue(lo[c],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),Wg(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ml(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Xg(r,d.value,d.defaultValue,d.children),ml(r)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||d.suppressHydrationWarning===!0||X0(r.textContent,c)?(d.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),d.onScroll!=null&&Ue("scroll",r),d.onScrollEnd!=null&&Ue("scrollend",r),d.onClick!=null&&(r.onclick=uc),r=!0):r=!1,r||Bs(s)}function zp(s){for(hn=s.return;hn;)switch(hn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:hn=hn.return}}function Lr(s){if(s!==hn)return!1;if(!Ge)return zp(s),Ge=!0,!1;var r=s.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||jh(s.type,s.memoizedProps)),c=!c),c&&At&&Bs(s),zp(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(r===0){At=Gn(s.nextSibling);break e}r--}else c!=="$"&&c!=="$!"&&c!=="$?"||r++;s=s.nextSibling}At=null}}else r===27?(r=At,as(s.type)?(s=Ch,Ch=null,At=s):At=r):At=hn?Gn(s.stateNode.nextSibling):null;return!0}function Ur(){At=hn=null,Ge=!1}function Np(){var s=Ps;return s!==null&&(_n===null?_n=s:_n.push.apply(_n,s),Ps=null),s}function Pr(s){Ps===null?Ps=[s]:Ps.push(s)}var fd=U(null),$s=null,bi=null;function qi(s,r,c){W(fd,r._currentValue),r._currentValue=c}function yi(s){s._currentValue=fd.current,Z(fd)}function gd(s,r,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===c)break;s=s.return}}function pd(s,r,c,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var m=g.dependencies;if(m!==null){var x=g.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=g;for(var j=0;j<r.length;j++)if(T.context===r[j]){m.lanes|=c,T=m.alternate,T!==null&&(T.lanes|=c),gd(m.return,c,s),d||(x=null);break e}m=T.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(i(341));x.lanes|=c,m=x.alternate,m!==null&&(m.lanes|=c),gd(x,c,s),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function Br(s,r,c,d){s=null;for(var g=r,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var T=g.type;En(g.pendingProps.value,x.value)||(s!==null?s.push(T):s=[T])}}else if(g===De.current){if(x=g.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(po):s=[po])}g=g.return}s!==null&&pd(r,s,c,d),r.flags|=262144}function Rl(s){for(s=s.firstContext;s!==null;){if(!En(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Is(s){$s=s,bi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function an(s){return Lp($s,s)}function Cl(s,r){return $s===null&&Is(s),Lp(s,r)}function Lp(s,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},bi===null){if(s===null)throw Error(i(308));bi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else bi=bi.next=r;return c}var wS=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){r.aborted=!0,s.forEach(function(c){return c()})}},kS=t.unstable_scheduleCallback,TS=t.unstable_NormalPriority,$t={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new wS,data:new Map,refCount:0}}function $r(s){s.refCount--,s.refCount===0&&kS(TS,function(){s.controller.abort()})}var Ir=null,bd=0,Ma=0,Oa=null;function AS(s,r){if(Ir===null){var c=Ir=[];bd=0,Ma=vh(),Oa={status:"pending",value:void 0,then:function(d){c.push(d)}}}return bd++,r.then(Up,Up),r}function Up(){if(--bd===0&&Ir!==null){Oa!==null&&(Oa.status="fulfilled");var s=Ir;Ir=null,Ma=0,Oa=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function ES(s,r){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){d.status="fulfilled",d.value=r;for(var g=0;g<c.length;g++)(0,c[g])(r)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var Pp=B.S;B.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&AS(s,r),Pp!==null&&Pp(s,r)};var Hs=U(null);function yd(){var s=Hs.current;return s!==null?s:dt.pooledCache}function Dl(s,r){r===null?W(Hs,Hs.current):W(Hs,r.pool)}function Bp(){var s=yd();return s===null?null:{parent:$t._currentValue,pool:s}}var Hr=Error(i(460)),$p=Error(i(474)),zl=Error(i(542)),vd={then:function(){}};function Ip(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Nl(){}function Hp(s,r,c){switch(c=s[c],c===void 0?s.push(r):c!==r&&(r.then(Nl,Nl),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,qp(s),s;default:if(typeof r.status=="string")r.then(Nl,Nl);else{if(s=dt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(d){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=d}},function(d){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,qp(s),s}throw Fr=r,Hr}}var Fr=null;function Fp(){if(Fr===null)throw Error(i(459));var s=Fr;return Fr=null,s}function qp(s){if(s===Hr||s===zl)throw Error(i(483))}var Vi=!1;function _d(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xd(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Yi(s,r,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(st&2)!==0){var g=d.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),d.pending=r,r=El(s),Op(s,null,c),r}return Al(s,d,r,c),El(s)}function qr(s,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var d=r.lanes;d&=s.pendingLanes,c|=d,r.lanes=c,it(s,c)}}function Sd(s,r){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,m=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};m===null?g=m=x:m=m.next=x,c=c.next}while(c!==null);m===null?g=m=r:m=m.next=r}else g=m=r;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=r:s.next=r,c.lastBaseUpdate=r}var wd=!1;function Vr(){if(wd){var s=Oa;if(s!==null)throw s}}function Zr(s,r,c,d){wd=!1;var g=s.updateQueue;Vi=!1;var m=g.firstBaseUpdate,x=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var j=T,H=j.next;j.next=null,x===null?m=H:x.next=H,x=j;var K=s.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==x&&(T===null?K.firstBaseUpdate=H:T.next=H,K.lastBaseUpdate=j))}if(m!==null){var ne=g.baseState;x=0,K=H=j=null,T=m;do{var F=T.lane&-536870913,V=F!==T.lane;if(V?(Fe&F)===F:(d&F)===F){F!==0&&F===Ma&&(wd=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=s,ve=T;F=r;var lt=c;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){ne=Se.call(lt,ne,F);break e}ne=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,F=typeof Se=="function"?Se.call(lt,ne,F):Se,F==null)break e;ne=p({},ne,F);break e;case 2:Vi=!0}}F=T.callback,F!==null&&(s.flags|=64,V&&(s.flags|=8192),V=g.callbacks,V===null?g.callbacks=[F]:V.push(F))}else V={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(H=K=V,j=ne):K=K.next=V,x|=F;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;V=T,T=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);K===null&&(j=ne),g.baseState=j,g.firstBaseUpdate=H,g.lastBaseUpdate=K,m===null&&(g.shared.lanes=0),ts|=x,s.lanes=x,s.memoizedState=ne}}function Vp(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Zp(s,r){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Vp(c[s],r)}var Ra=U(null),Ll=U(0);function Yp(s,r){s=Ti,W(Ll,s),W(Ra,r),Ti=s|r.baseLanes}function kd(){W(Ll,Ti),W(Ra,Ra.current)}function Td(){Ti=Ll.current,Z(Ra),Z(Ll)}var Wi=0,Ce=null,rt=null,Lt=null,Ul=!1,Ca=!1,Fs=!1,Pl=0,Yr=0,Da=null,jS=0;function Rt(){throw Error(i(321))}function Ad(s,r){if(r===null)return!1;for(var c=0;c<r.length&&c<s.length;c++)if(!En(s[c],r[c]))return!1;return!0}function Ed(s,r,c,d,g,m){return Wi=m,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=s===null||s.memoizedState===null?Om:Rm,Fs=!1,m=c(d,g),Fs=!1,Ca&&(m=Gp(r,c,d,g)),Wp(s),m}function Wp(s){B.H=ql;var r=rt!==null&&rt.next!==null;if(Wi=0,Lt=rt=Ce=null,Ul=!1,Yr=0,Da=null,r)throw Error(i(300));s===null||Yt||(s=s.dependencies,s!==null&&Rl(s)&&(Yt=!0))}function Gp(s,r,c,d){Ce=s;var g=0;do{if(Ca&&(Da=null),Yr=0,Ca=!1,25<=g)throw Error(i(301));if(g+=1,Lt=rt=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=NS,m=r(c,d)}while(Ca);return m}function MS(){var s=B.H,r=s.useState()[0];return r=typeof r.then=="function"?Wr(r):r,s=s.useState()[0],(rt!==null?rt.memoizedState:null)!==s&&(Ce.flags|=1024),r}function jd(){var s=Pl!==0;return Pl=0,s}function Md(s,r,c){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~c}function Od(s){if(Ul){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ul=!1}Wi=0,Lt=rt=Ce=null,Ca=!1,Yr=Pl=0,Da=null}function yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ce.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Ut(){if(rt===null){var s=Ce.alternate;s=s!==null?s.memoizedState:null}else s=rt.next;var r=Lt===null?Ce.memoizedState:Lt.next;if(r!==null)Lt=r,rt=s;else{if(s===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));rt=s,s={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Lt===null?Ce.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wr(s){var r=Yr;return Yr+=1,Da===null&&(Da=[]),s=Hp(Da,s,r),r=Ce,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?Om:Rm),s}function Bl(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Wr(s);if(s.$$typeof===M)return an(s)}throw Error(i(438,String(s)))}function Cd(s){var r=null,c=Ce.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var d=Ce.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=Rd(),Ce.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(s),d=0;d<s;d++)c[d]=Q;return r.index++,c}function vi(s,r){return typeof r=="function"?r(s):r}function $l(s){var r=Ut();return Dd(r,rt,s)}function Dd(s,r,c){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var g=s.baseQueue,m=d.pending;if(m!==null){if(g!==null){var x=g.next;g.next=m.next,m.next=x}r.baseQueue=g=m,d.pending=null}if(m=s.baseState,g===null)s.memoizedState=m;else{r=g.next;var T=x=null,j=null,H=r,K=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Fe&ne)===ne:(Wi&ne)===ne){var F=H.revertLane;if(F===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===Ma&&(K=!0);else if((Wi&F)===F){H=H.next,F===Ma&&(K=!0);continue}else ne={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(T=j=ne,x=m):j=j.next=ne,Ce.lanes|=F,ts|=F;ne=H.action,Fs&&c(m,ne),m=H.hasEagerState?H.eagerState:c(m,ne)}else F={lane:ne,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(T=j=F,x=m):j=j.next=F,Ce.lanes|=ne,ts|=ne;H=H.next}while(H!==null&&H!==r);if(j===null?x=m:j.next=T,!En(m,s.memoizedState)&&(Yt=!0,K&&(c=Oa,c!==null)))throw c;s.memoizedState=m,s.baseState=x,s.baseQueue=j,d.lastRenderedState=m}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function zd(s){var r=Ut(),c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var d=c.dispatch,g=c.pending,m=r.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do m=s(m,x.action),x=x.next;while(x!==g);En(m,r.memoizedState)||(Yt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),c.lastRenderedState=m}return[m,d]}function Xp(s,r,c){var d=Ce,g=Ut(),m=Ge;if(m){if(c===void 0)throw Error(i(407));c=c()}else c=r();var x=!En((rt||g).memoizedState,c);x&&(g.memoizedState=c,Yt=!0),g=g.queue;var T=Jp.bind(null,d,g,s);if(Gr(2048,8,T,[s]),g.getSnapshot!==r||x||Lt!==null&&Lt.memoizedState.tag&1){if(d.flags|=2048,za(9,Il(),Qp.bind(null,d,g,c,r),null),dt===null)throw Error(i(349));m||(Wi&124)!==0||Kp(d,r,c)}return c}function Kp(s,r,c){s.flags|=16384,s={getSnapshot:r,value:c},r=Ce.updateQueue,r===null?(r=Rd(),Ce.updateQueue=r,r.stores=[s]):(c=r.stores,c===null?r.stores=[s]:c.push(s))}function Qp(s,r,c,d){r.value=c,r.getSnapshot=d,em(r)&&tm(s)}function Jp(s,r,c){return c(function(){em(r)&&tm(s)})}function em(s){var r=s.getSnapshot;s=s.value;try{var c=r();return!En(s,c)}catch{return!0}}function tm(s){var r=Ta(s,2);r!==null&&Dn(r,s,2)}function Nd(s){var r=yn();if(typeof s=="function"){var c=s;if(s=c(),Fs){dn(!0);try{c()}finally{dn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:s},r}function nm(s,r,c,d){return s.baseState=c,Dd(s,rt,typeof d=="function"?d:vi)}function OS(s,r,c,d,g){if(Fl(s))throw Error(i(485));if(s=r.action,s!==null){var m={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};B.T!==null?c(!0):m.isTransition=!1,d(m),c=r.pending,c===null?(m.next=r.pending=m,im(r,m)):(m.next=c.next,r.pending=c.next=m)}}function im(s,r){var c=r.action,d=r.payload,g=s.state;if(r.isTransition){var m=B.T,x={};B.T=x;try{var T=c(g,d),j=B.S;j!==null&&j(x,T),sm(s,r,T)}catch(H){Ld(s,r,H)}finally{B.T=m}}else try{m=c(g,d),sm(s,r,m)}catch(H){Ld(s,r,H)}}function sm(s,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){am(s,r,d)},function(d){return Ld(s,r,d)}):am(s,r,c)}function am(s,r,c){r.status="fulfilled",r.value=c,rm(r),s.state=c,r=s.pending,r!==null&&(c=r.next,c===r?s.pending=null:(c=c.next,r.next=c,im(s,c)))}function Ld(s,r,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=c,rm(r),r=r.next;while(r!==d)}s.action=null}function rm(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function om(s,r){return r}function lm(s,r){if(Ge){var c=dt.formState;if(c!==null){e:{var d=Ce;if(Ge){if(At){t:{for(var g=At,m=ni;g.nodeType!==8;){if(!m){g=null;break t}if(g=Gn(g.nextSibling),g===null){g=null;break t}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){At=Gn(g.nextSibling),d=g.data==="F!";break e}}Bs(d)}d=!1}d&&(r=c[0])}}return c=yn(),c.memoizedState=c.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:r},c.queue=d,c=Em.bind(null,Ce,d),d.dispatch=c,d=Nd(!1),m=Id.bind(null,Ce,!1,d.queue),d=yn(),g={state:r,dispatch:null,action:s,pending:null},d.queue=g,c=OS.bind(null,Ce,g,m,c),g.dispatch=c,d.memoizedState=s,[r,c,!1]}function cm(s){var r=Ut();return um(r,rt,s)}function um(s,r,c){if(r=Dd(s,r,om)[0],s=$l(vi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Wr(r)}catch(x){throw x===Hr?zl:x}else d=r;r=Ut();var g=r.queue,m=g.dispatch;return c!==r.memoizedState&&(Ce.flags|=2048,za(9,Il(),RS.bind(null,g,c),null)),[d,m,s]}function RS(s,r){s.action=r}function dm(s){var r=Ut(),c=rt;if(c!==null)return um(r,c,s);Ut(),r=r.memoizedState,c=Ut();var d=c.queue.dispatch;return c.memoizedState=s,[r,d,!1]}function za(s,r,c,d){return s={tag:s,create:c,deps:d,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Rd(),Ce.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,r.lastEffect=s),s}function Il(){return{destroy:void 0,resource:void 0}}function hm(){return Ut().memoizedState}function Hl(s,r,c,d){var g=yn();d=d===void 0?null:d,Ce.flags|=s,g.memoizedState=za(1|r,Il(),c,d)}function Gr(s,r,c,d){var g=Ut();d=d===void 0?null:d;var m=g.memoizedState.inst;rt!==null&&d!==null&&Ad(d,rt.memoizedState.deps)?g.memoizedState=za(r,m,c,d):(Ce.flags|=s,g.memoizedState=za(1|r,m,c,d))}function fm(s,r){Hl(8390656,8,s,r)}function gm(s,r){Gr(2048,8,s,r)}function pm(s,r){return Gr(4,2,s,r)}function mm(s,r){return Gr(4,4,s,r)}function bm(s,r){if(typeof r=="function"){s=s();var c=r(s);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ym(s,r,c){c=c!=null?c.concat([s]):null,Gr(4,4,bm.bind(null,r,s),c)}function Ud(){}function vm(s,r){var c=Ut();r=r===void 0?null:r;var d=c.memoizedState;return r!==null&&Ad(r,d[1])?d[0]:(c.memoizedState=[s,r],s)}function _m(s,r){var c=Ut();r=r===void 0?null:r;var d=c.memoizedState;if(r!==null&&Ad(r,d[1]))return d[0];if(d=s(),Fs){dn(!0);try{s()}finally{dn(!1)}}return c.memoizedState=[d,r],d}function Pd(s,r,c){return c===void 0||(Wi&1073741824)!==0?s.memoizedState=r:(s.memoizedState=c,s=w0(),Ce.lanes|=s,ts|=s,c)}function xm(s,r,c,d){return En(c,r)?c:Ra.current!==null?(s=Pd(s,c,d),En(s,r)||(Yt=!0),s):(Wi&42)===0?(Yt=!0,s.memoizedState=c):(s=w0(),Ce.lanes|=s,ts|=s,r)}function Sm(s,r,c,d,g){var m=ie.p;ie.p=m!==0&&8>m?m:8;var x=B.T,T={};B.T=T,Id(s,!1,r,c);try{var j=g(),H=B.S;if(H!==null&&H(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=ES(j,d);Xr(s,r,K,Cn(s))}else Xr(s,r,d,Cn(s))}catch(ne){Xr(s,r,{then:function(){},status:"rejected",reason:ne},Cn())}finally{ie.p=m,B.T=x}}function CS(){}function Bd(s,r,c,d){if(s.tag!==5)throw Error(i(476));var g=wm(s).queue;Sm(s,g,r,$,c===null?CS:function(){return km(s),c(d)})}function wm(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:$},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:c},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function km(s){var r=wm(s).next.queue;Xr(s,r,{},Cn())}function $d(){return an(po)}function Tm(){return Ut().memoizedState}function Am(){return Ut().memoizedState}function DS(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var c=Cn();s=Zi(c);var d=Yi(r,s,c);d!==null&&(Dn(d,r,c),qr(d,r,c)),r={cache:md()},s.payload=r;return}r=r.return}}function zS(s,r,c){var d=Cn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Fl(s)?jm(r,c):(c=rd(s,r,c,d),c!==null&&(Dn(c,s,d),Mm(c,r,d)))}function Em(s,r,c){var d=Cn();Xr(s,r,c,d)}function Xr(s,r,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Fl(s))jm(r,g);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,T=m(x,c);if(g.hasEagerState=!0,g.eagerState=T,En(T,x))return Al(s,r,g,0),dt===null&&Tl(),!1}catch{}finally{}if(c=rd(s,r,g,d),c!==null)return Dn(c,s,d),Mm(c,r,d),!0}return!1}function Id(s,r,c,d){if(d={lane:2,revertLane:vh(),action:d,hasEagerState:!1,eagerState:null,next:null},Fl(s)){if(r)throw Error(i(479))}else r=rd(s,c,d,2),r!==null&&Dn(r,s,2)}function Fl(s){var r=s.alternate;return s===Ce||r!==null&&r===Ce}function jm(s,r){Ca=Ul=!0;var c=s.pending;c===null?r.next=r:(r.next=c.next,c.next=r),s.pending=r}function Mm(s,r,c){if((c&4194048)!==0){var d=r.lanes;d&=s.pendingLanes,c|=d,r.lanes=c,it(s,c)}}var ql={readContext:an,use:Bl,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},Om={readContext:an,use:Bl,useCallback:function(s,r){return yn().memoizedState=[s,r===void 0?null:r],s},useContext:an,useEffect:fm,useImperativeHandle:function(s,r,c){c=c!=null?c.concat([s]):null,Hl(4194308,4,bm.bind(null,r,s),c)},useLayoutEffect:function(s,r){return Hl(4194308,4,s,r)},useInsertionEffect:function(s,r){Hl(4,2,s,r)},useMemo:function(s,r){var c=yn();r=r===void 0?null:r;var d=s();if(Fs){dn(!0);try{s()}finally{dn(!1)}}return c.memoizedState=[d,r],d},useReducer:function(s,r,c){var d=yn();if(c!==void 0){var g=c(r);if(Fs){dn(!0);try{c(r)}finally{dn(!1)}}}else g=r;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=zS.bind(null,Ce,s),[d.memoizedState,s]},useRef:function(s){var r=yn();return s={current:s},r.memoizedState=s},useState:function(s){s=Nd(s);var r=s.queue,c=Em.bind(null,Ce,r);return r.dispatch=c,[s.memoizedState,c]},useDebugValue:Ud,useDeferredValue:function(s,r){var c=yn();return Pd(c,s,r)},useTransition:function(){var s=Nd(!1);return s=Sm.bind(null,Ce,s.queue,!0,!1),yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,c){var d=Ce,g=yn();if(Ge){if(c===void 0)throw Error(i(407));c=c()}else{if(c=r(),dt===null)throw Error(i(349));(Fe&124)!==0||Kp(d,r,c)}g.memoizedState=c;var m={value:c,getSnapshot:r};return g.queue=m,fm(Jp.bind(null,d,m,s),[s]),d.flags|=2048,za(9,Il(),Qp.bind(null,d,m,c,r),null),c},useId:function(){var s=yn(),r=dt.identifierPrefix;if(Ge){var c=mi,d=pi;c=(d&~(1<<32-wt(d)-1)).toString(32)+c,r=""+r+"R"+c,c=Pl++,0<c&&(r+="H"+c.toString(32)),r+=""}else c=jS++,r=""+r+"r"+c.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:$d,useFormState:lm,useActionState:lm,useOptimistic:function(s){var r=yn();r.memoizedState=r.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=Id.bind(null,Ce,!0,c),c.dispatch=r,[s,r]},useMemoCache:Cd,useCacheRefresh:function(){return yn().memoizedState=DS.bind(null,Ce)}},Rm={readContext:an,use:Bl,useCallback:vm,useContext:an,useEffect:gm,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:_m,useReducer:$l,useRef:hm,useState:function(){return $l(vi)},useDebugValue:Ud,useDeferredValue:function(s,r){var c=Ut();return xm(c,rt.memoizedState,s,r)},useTransition:function(){var s=$l(vi)[0],r=Ut().memoizedState;return[typeof s=="boolean"?s:Wr(s),r]},useSyncExternalStore:Xp,useId:Tm,useHostTransitionStatus:$d,useFormState:cm,useActionState:cm,useOptimistic:function(s,r){var c=Ut();return nm(c,rt,s,r)},useMemoCache:Cd,useCacheRefresh:Am},NS={readContext:an,use:Bl,useCallback:vm,useContext:an,useEffect:gm,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:_m,useReducer:zd,useRef:hm,useState:function(){return zd(vi)},useDebugValue:Ud,useDeferredValue:function(s,r){var c=Ut();return rt===null?Pd(c,s,r):xm(c,rt.memoizedState,s,r)},useTransition:function(){var s=zd(vi)[0],r=Ut().memoizedState;return[typeof s=="boolean"?s:Wr(s),r]},useSyncExternalStore:Xp,useId:Tm,useHostTransitionStatus:$d,useFormState:dm,useActionState:dm,useOptimistic:function(s,r){var c=Ut();return rt!==null?nm(c,rt,s,r):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Cd,useCacheRefresh:Am},Na=null,Kr=0;function Vl(s){var r=Kr;return Kr+=1,Na===null&&(Na=[]),Hp(Na,s,r)}function Qr(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Zl(s,r){throw r.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Cm(s){var r=s._init;return r(s._payload)}function Dm(s){function r(L,D){if(s){var P=L.deletions;P===null?(L.deletions=[D],L.flags|=16):P.push(D)}}function c(L,D){if(!s)return null;for(;D!==null;)r(L,D),D=D.sibling;return null}function d(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function g(L,D){return L=gi(L,D),L.index=0,L.sibling=null,L}function m(L,D,P){return L.index=P,s?(P=L.alternate,P!==null?(P=P.index,P<D?(L.flags|=67108866,D):P):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function x(L){return s&&L.alternate===null&&(L.flags|=67108866),L}function T(L,D,P,J){return D===null||D.tag!==6?(D=ld(P,L.mode,J),D.return=L,D):(D=g(D,P),D.return=L,D)}function j(L,D,P,J){var ge=P.type;return ge===S?K(L,D,P.props.children,J,P.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===q&&Cm(ge)===D.type)?(D=g(D,P.props),Qr(D,P),D.return=L,D):(D=jl(P.type,P.key,P.props,null,L.mode,J),Qr(D,P),D.return=L,D)}function H(L,D,P,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=cd(P,L.mode,J),D.return=L,D):(D=g(D,P.children||[]),D.return=L,D)}function K(L,D,P,J,ge){return D===null||D.tag!==7?(D=Ns(P,L.mode,J,ge),D.return=L,D):(D=g(D,P),D.return=L,D)}function ne(L,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ld(""+D,L.mode,P),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return P=jl(D.type,D.key,D.props,null,L.mode,P),Qr(P,D),P.return=L,P;case _:return D=cd(D,L.mode,P),D.return=L,D;case q:var J=D._init;return D=J(D._payload),ne(L,D,P)}if(de(D)||re(D))return D=Ns(D,L.mode,P,null),D.return=L,D;if(typeof D.then=="function")return ne(L,Vl(D),P);if(D.$$typeof===M)return ne(L,Cl(L,D),P);Zl(L,D)}return null}function F(L,D,P,J){var ge=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:T(L,D,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return P.key===ge?j(L,D,P,J):null;case _:return P.key===ge?H(L,D,P,J):null;case q:return ge=P._init,P=ge(P._payload),F(L,D,P,J)}if(de(P)||re(P))return ge!==null?null:K(L,D,P,J,null);if(typeof P.then=="function")return F(L,D,Vl(P),J);if(P.$$typeof===M)return F(L,D,Cl(L,P),J);Zl(L,P)}return null}function V(L,D,P,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(P)||null,T(D,L,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return L=L.get(J.key===null?P:J.key)||null,j(D,L,J,ge);case _:return L=L.get(J.key===null?P:J.key)||null,H(D,L,J,ge);case q:var Ne=J._init;return J=Ne(J._payload),V(L,D,P,J,ge)}if(de(J)||re(J))return L=L.get(P)||null,K(D,L,J,ge,null);if(typeof J.then=="function")return V(L,D,P,Vl(J),ge);if(J.$$typeof===M)return V(L,D,P,Cl(D,J),ge);Zl(D,J)}return null}function Se(L,D,P,J){for(var ge=null,Ne=null,pe=D,xe=D=0,Gt=null;pe!==null&&xe<P.length;xe++){pe.index>xe?(Gt=pe,pe=null):Gt=pe.sibling;var Ze=F(L,pe,P[xe],J);if(Ze===null){pe===null&&(pe=Gt);break}s&&pe&&Ze.alternate===null&&r(L,pe),D=m(Ze,D,xe),Ne===null?ge=Ze:Ne.sibling=Ze,Ne=Ze,pe=Gt}if(xe===P.length)return c(L,pe),Ge&&Us(L,xe),ge;if(pe===null){for(;xe<P.length;xe++)pe=ne(L,P[xe],J),pe!==null&&(D=m(pe,D,xe),Ne===null?ge=pe:Ne.sibling=pe,Ne=pe);return Ge&&Us(L,xe),ge}for(pe=d(pe);xe<P.length;xe++)Gt=V(pe,L,xe,P[xe],J),Gt!==null&&(s&&Gt.alternate!==null&&pe.delete(Gt.key===null?xe:Gt.key),D=m(Gt,D,xe),Ne===null?ge=Gt:Ne.sibling=Gt,Ne=Gt);return s&&pe.forEach(function(us){return r(L,us)}),Ge&&Us(L,xe),ge}function ve(L,D,P,J){if(P==null)throw Error(i(151));for(var ge=null,Ne=null,pe=D,xe=D=0,Gt=null,Ze=P.next();pe!==null&&!Ze.done;xe++,Ze=P.next()){pe.index>xe?(Gt=pe,pe=null):Gt=pe.sibling;var us=F(L,pe,Ze.value,J);if(us===null){pe===null&&(pe=Gt);break}s&&pe&&us.alternate===null&&r(L,pe),D=m(us,D,xe),Ne===null?ge=us:Ne.sibling=us,Ne=us,pe=Gt}if(Ze.done)return c(L,pe),Ge&&Us(L,xe),ge;if(pe===null){for(;!Ze.done;xe++,Ze=P.next())Ze=ne(L,Ze.value,J),Ze!==null&&(D=m(Ze,D,xe),Ne===null?ge=Ze:Ne.sibling=Ze,Ne=Ze);return Ge&&Us(L,xe),ge}for(pe=d(pe);!Ze.done;xe++,Ze=P.next())Ze=V(pe,L,xe,Ze.value,J),Ze!==null&&(s&&Ze.alternate!==null&&pe.delete(Ze.key===null?xe:Ze.key),D=m(Ze,D,xe),Ne===null?ge=Ze:Ne.sibling=Ze,Ne=Ze);return s&&pe.forEach(function(Lw){return r(L,Lw)}),Ge&&Us(L,xe),ge}function lt(L,D,P,J){if(typeof P=="object"&&P!==null&&P.type===S&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case v:e:{for(var ge=P.key;D!==null;){if(D.key===ge){if(ge=P.type,ge===S){if(D.tag===7){c(L,D.sibling),J=g(D,P.props.children),J.return=L,L=J;break e}}else if(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===q&&Cm(ge)===D.type){c(L,D.sibling),J=g(D,P.props),Qr(J,P),J.return=L,L=J;break e}c(L,D);break}else r(L,D);D=D.sibling}P.type===S?(J=Ns(P.props.children,L.mode,J,P.key),J.return=L,L=J):(J=jl(P.type,P.key,P.props,null,L.mode,J),Qr(J,P),J.return=L,L=J)}return x(L);case _:e:{for(ge=P.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){c(L,D.sibling),J=g(D,P.children||[]),J.return=L,L=J;break e}else{c(L,D);break}else r(L,D);D=D.sibling}J=cd(P,L.mode,J),J.return=L,L=J}return x(L);case q:return ge=P._init,P=ge(P._payload),lt(L,D,P,J)}if(de(P))return Se(L,D,P,J);if(re(P)){if(ge=re(P),typeof ge!="function")throw Error(i(150));return P=ge.call(P),ve(L,D,P,J)}if(typeof P.then=="function")return lt(L,D,Vl(P),J);if(P.$$typeof===M)return lt(L,D,Cl(L,P),J);Zl(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(c(L,D.sibling),J=g(D,P),J.return=L,L=J):(c(L,D),J=ld(P,L.mode,J),J.return=L,L=J),x(L)):c(L,D)}return function(L,D,P,J){try{Kr=0;var ge=lt(L,D,P,J);return Na=null,ge}catch(pe){if(pe===Hr||pe===zl)throw pe;var Ne=jn(29,pe,null,L.mode);return Ne.lanes=J,Ne.return=L,Ne}finally{}}}var La=Dm(!0),zm=Dm(!1),Hn=U(null),ii=null;function Gi(s){var r=s.alternate;W(It,It.current&1),W(Hn,s),ii===null&&(r===null||Ra.current!==null||r.memoizedState!==null)&&(ii=s)}function Nm(s){if(s.tag===22){if(W(It,It.current),W(Hn,s),ii===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(ii=s)}}else Xi()}function Xi(){W(It,It.current),W(Hn,Hn.current)}function _i(s){Z(Hn),ii===s&&(ii=null),Z(It)}var It=U(0);function Yl(s){for(var r=s;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Rh(c)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hd(s,r,c,d){r=s.memoizedState,c=c(d,r),c=c==null?r:p({},r,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Fd={enqueueSetState:function(s,r,c){s=s._reactInternals;var d=Cn(),g=Zi(d);g.payload=r,c!=null&&(g.callback=c),r=Yi(s,g,d),r!==null&&(Dn(r,s,d),qr(r,s,d))},enqueueReplaceState:function(s,r,c){s=s._reactInternals;var d=Cn(),g=Zi(d);g.tag=1,g.payload=r,c!=null&&(g.callback=c),r=Yi(s,g,d),r!==null&&(Dn(r,s,d),qr(r,s,d))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var c=Cn(),d=Zi(c);d.tag=2,r!=null&&(d.callback=r),r=Yi(s,d,c),r!==null&&(Dn(r,s,c),qr(r,s,c))}};function Lm(s,r,c,d,g,m,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,m,x):r.prototype&&r.prototype.isPureReactComponent?!zr(c,d)||!zr(g,m):!0}function Um(s,r,c,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,d),r.state!==s&&Fd.enqueueReplaceState(r,r.state,null)}function qs(s,r){var c=r;if("ref"in r){c={};for(var d in r)d!=="ref"&&(c[d]=r[d])}if(s=s.defaultProps){c===r&&(c=p({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}var Wl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Pm(s){Wl(s)}function Bm(s){console.error(s)}function $m(s){Wl(s)}function Gl(s,r){try{var c=s.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function Im(s,r,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function qd(s,r,c){return c=Zi(c),c.tag=3,c.payload={element:null},c.callback=function(){Gl(s,r)},c}function Hm(s){return s=Zi(s),s.tag=3,s}function Fm(s,r,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var m=d.value;s.payload=function(){return g(m)},s.callback=function(){Im(r,c,d)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Im(r,c,d),typeof g!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function LS(s,r,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=c.alternate,r!==null&&Br(r,c,g,!0),c=Hn.current,c!==null){switch(c.tag){case 13:return ii===null?gh():c.alternate===null&&Et===0&&(Et=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===vd?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([d]):r.add(d),mh(s,d,g)),!1;case 22:return c.flags|=65536,d===vd?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([d]):c.add(d)),mh(s,d,g)),!1}throw Error(i(435,c.tag))}return mh(s,d,g),gh(),!1}if(Ge)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,d!==hd&&(s=Error(i(422),{cause:d}),Pr(Pn(s,c)))):(d!==hd&&(r=Error(i(423),{cause:d}),Pr(Pn(r,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=Pn(d,c),g=qd(s.stateNode,d,g),Sd(s,g),Et!==4&&(Et=2)),!1;var m=Error(i(520),{cause:d});if(m=Pn(m,c),ao===null?ao=[m]:ao.push(m),Et!==4&&(Et=2),r===null)return!0;d=Pn(d,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=qd(c.stateNode,d,s),Sd(c,s),!1;case 1:if(r=c.type,m=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ns===null||!ns.has(m))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Hm(g),Fm(g,s,c,d),Sd(c,g),!1}c=c.return}while(c!==null);return!1}var qm=Error(i(461)),Yt=!1;function en(s,r,c,d){r.child=s===null?zm(r,null,c,d):La(r,s.child,c,d)}function Vm(s,r,c,d,g){c=c.render;var m=r.ref;if("ref"in d){var x={};for(var T in d)T!=="ref"&&(x[T]=d[T])}else x=d;return Is(r),d=Ed(s,r,c,x,m,g),T=jd(),s!==null&&!Yt?(Md(s,r,g),xi(s,r,g)):(Ge&&T&&ud(r),r.flags|=1,en(s,r,d,g),r.child)}function Zm(s,r,c,d,g){if(s===null){var m=c.type;return typeof m=="function"&&!od(m)&&m.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=m,Ym(s,r,m,d,g)):(s=jl(c.type,null,d,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(m=s.child,!Qd(s,g)){var x=m.memoizedProps;if(c=c.compare,c=c!==null?c:zr,c(x,d)&&s.ref===r.ref)return xi(s,r,g)}return r.flags|=1,s=gi(m,d),s.ref=r.ref,s.return=r,r.child=s}function Ym(s,r,c,d,g){if(s!==null){var m=s.memoizedProps;if(zr(m,d)&&s.ref===r.ref)if(Yt=!1,r.pendingProps=d=m,Qd(s,g))(s.flags&131072)!==0&&(Yt=!0);else return r.lanes=s.lanes,xi(s,r,g)}return Vd(s,r,c,d,g)}function Wm(s,r,c){var d=r.pendingProps,g=d.children,m=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=m!==null?m.baseLanes|c:c,s!==null){for(g=r.child=s.child,m=0;g!==null;)m=m|g.lanes|g.childLanes,g=g.sibling;r.childLanes=m&~d}else r.childLanes=0,r.child=null;return Gm(s,r,d,c)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Dl(r,m!==null?m.cachePool:null),m!==null?Yp(r,m):kd(),Nm(r);else return r.lanes=r.childLanes=536870912,Gm(s,r,m!==null?m.baseLanes|c:c,c)}else m!==null?(Dl(r,m.cachePool),Yp(r,m),Xi(),r.memoizedState=null):(s!==null&&Dl(r,null),kd(),Xi());return en(s,r,g,c),r.child}function Gm(s,r,c,d){var g=yd();return g=g===null?null:{parent:$t._currentValue,pool:g},r.memoizedState={baseLanes:c,cachePool:g},s!==null&&Dl(r,null),kd(),Nm(r),s!==null&&Br(s,r,d,!0),null}function Xl(s,r){var c=r.ref;if(c===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(r.flags|=4194816)}}function Vd(s,r,c,d,g){return Is(r),c=Ed(s,r,c,d,void 0,g),d=jd(),s!==null&&!Yt?(Md(s,r,g),xi(s,r,g)):(Ge&&d&&ud(r),r.flags|=1,en(s,r,c,g),r.child)}function Xm(s,r,c,d,g,m){return Is(r),r.updateQueue=null,c=Gp(r,d,c,g),Wp(s),d=jd(),s!==null&&!Yt?(Md(s,r,m),xi(s,r,m)):(Ge&&d&&ud(r),r.flags|=1,en(s,r,c,m),r.child)}function Km(s,r,c,d,g){if(Is(r),r.stateNode===null){var m=Aa,x=c.contextType;typeof x=="object"&&x!==null&&(m=an(x)),m=new c(d,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Fd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=d,m.state=r.memoizedState,m.refs={},_d(r),x=c.contextType,m.context=typeof x=="object"&&x!==null?an(x):Aa,m.state=r.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(Hd(r,c,x,d),m.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Fd.enqueueReplaceState(m,m.state,null),Zr(r,d,m,g),Vr(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(s===null){m=r.stateNode;var T=r.memoizedProps,j=qs(c,T);m.props=j;var H=m.context,K=c.contextType;x=Aa,typeof K=="object"&&K!==null&&(x=an(K));var ne=c.getDerivedStateFromProps;K=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||H!==x)&&Um(r,m,d,x),Vi=!1;var F=r.memoizedState;m.state=F,Zr(r,d,m,g),Vr(),H=r.memoizedState,T||F!==H||Vi?(typeof ne=="function"&&(Hd(r,c,ne,d),H=r.memoizedState),(j=Vi||Lm(r,c,j,d,F,H,x))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=H),m.props=d,m.state=H,m.context=x,d=j):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{m=r.stateNode,xd(s,r),x=r.memoizedProps,K=qs(c,x),m.props=K,ne=r.pendingProps,F=m.context,H=c.contextType,j=Aa,typeof H=="object"&&H!==null&&(j=an(H)),T=c.getDerivedStateFromProps,(H=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ne||F!==j)&&Um(r,m,d,j),Vi=!1,F=r.memoizedState,m.state=F,Zr(r,d,m,g),Vr();var V=r.memoizedState;x!==ne||F!==V||Vi||s!==null&&s.dependencies!==null&&Rl(s.dependencies)?(typeof T=="function"&&(Hd(r,c,T,d),V=r.memoizedState),(K=Vi||Lm(r,c,K,d,F,V,j)||s!==null&&s.dependencies!==null&&Rl(s.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(d,V,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(d,V,j)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===s.memoizedProps&&F===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&F===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=V),m.props=d,m.state=V,m.context=j,d=K):(typeof m.componentDidUpdate!="function"||x===s.memoizedProps&&F===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&F===s.memoizedState||(r.flags|=1024),d=!1)}return m=d,Xl(s,r),d=(r.flags&128)!==0,m||d?(m=r.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,s!==null&&d?(r.child=La(r,s.child,null,g),r.child=La(r,null,c,g)):en(s,r,c,g),r.memoizedState=m.state,s=r.child):s=xi(s,r,g),s}function Qm(s,r,c,d){return Ur(),r.flags|=256,en(s,r,c,d),r.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(s){return{baseLanes:s,cachePool:Bp()}}function Wd(s,r,c){return s=s!==null?s.childLanes&~c:0,r&&(s|=Fn),s}function Jm(s,r,c){var d=r.pendingProps,g=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=s!==null&&s.memoizedState===null?!1:(It.current&2)!==0),x&&(g=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ge){if(g?Gi(r):Xi(),Ge){var T=At,j;if(j=T){e:{for(j=T,T=ni;j.nodeType!==8;){if(!T){T=null;break e}if(j=Gn(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ls!==null?{id:pi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},j=jn(18,null,null,0),j.stateNode=T,j.return=r,r.child=j,hn=r,At=null,j=!0):j=!1}j||Bs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Rh(T)?r.lanes=32:r.lanes=536870912,null;_i(r)}return T=d.children,d=d.fallback,g?(Xi(),g=r.mode,T=Kl({mode:"hidden",children:T},g),d=Ns(d,g,c,null),T.return=r,d.return=r,T.sibling=d,r.child=T,g=r.child,g.memoizedState=Yd(c),g.childLanes=Wd(s,x,c),r.memoizedState=Zd,d):(Gi(r),Gd(r,T))}if(j=s.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(m)r.flags&256?(Gi(r),r.flags&=-257,r=Xd(s,r,c)):r.memoizedState!==null?(Xi(),r.child=s.child,r.flags|=128,r=null):(Xi(),g=d.fallback,T=r.mode,d=Kl({mode:"visible",children:d.children},T),g=Ns(g,T,c,null),g.flags|=2,d.return=r,g.return=r,d.sibling=g,r.child=d,La(r,s.child,null,c),d=r.child,d.memoizedState=Yd(c),d.childLanes=Wd(s,x,c),r.memoizedState=Zd,r=g);else if(Gi(r),Rh(T)){if(x=T.nextSibling&&T.nextSibling.dataset,x)var H=x.dgst;x=H,d=Error(i(419)),d.stack="",d.digest=x,Pr({value:d,source:null,stack:null}),r=Xd(s,r,c)}else if(Yt||Br(s,r,c,!1),x=(c&s.childLanes)!==0,Yt||x){if(x=dt,x!==null&&(d=c&-c,d=(d&42)!==0?1:We(d),d=(d&(x.suspendedLanes|c))!==0?0:d,d!==0&&d!==j.retryLane))throw j.retryLane=d,Ta(s,d),Dn(x,s,d),qm;T.data==="$?"||gh(),r=Xd(s,r,c)}else T.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=j.treeContext,At=Gn(T.nextSibling),hn=r,Ge=!0,Ps=null,ni=!1,s!==null&&($n[In++]=pi,$n[In++]=mi,$n[In++]=Ls,pi=s.id,mi=s.overflow,Ls=r),r=Gd(r,d.children),r.flags|=4096);return r}return g?(Xi(),g=d.fallback,T=r.mode,j=s.child,H=j.sibling,d=gi(j,{mode:"hidden",children:d.children}),d.subtreeFlags=j.subtreeFlags&65011712,H!==null?g=gi(H,g):(g=Ns(g,T,c,null),g.flags|=2),g.return=r,d.return=r,d.sibling=g,r.child=d,d=g,g=r.child,T=s.child.memoizedState,T===null?T=Yd(c):(j=T.cachePool,j!==null?(H=$t._currentValue,j=j.parent!==H?{parent:H,pool:H}:j):j=Bp(),T={baseLanes:T.baseLanes|c,cachePool:j}),g.memoizedState=T,g.childLanes=Wd(s,x,c),r.memoizedState=Zd,d):(Gi(r),c=s.child,s=c.sibling,c=gi(c,{mode:"visible",children:d.children}),c.return=r,c.sibling=null,s!==null&&(x=r.deletions,x===null?(r.deletions=[s],r.flags|=16):x.push(s)),r.child=c,r.memoizedState=null,c)}function Gd(s,r){return r=Kl({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Kl(s,r){return s=jn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Xd(s,r,c){return La(r,s.child,null,c),s=Gd(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function e0(s,r,c){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),gd(s.return,r,c)}function Kd(s,r,c,d,g){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=c,m.tailMode=g)}function t0(s,r,c){var d=r.pendingProps,g=d.revealOrder,m=d.tail;if(en(s,r,d.children,c),d=It.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&e0(s,c,r);else if(s.tag===19)e0(s,c,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(W(It,d),g){case"forwards":for(c=r.child,g=null;c!==null;)s=c.alternate,s!==null&&Yl(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=r.child,r.child=null):(g=c.sibling,c.sibling=null),Kd(r,!1,g,c,m);break;case"backwards":for(c=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&Yl(s)===null){r.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Kd(r,!0,c,null,m);break;case"together":Kd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xi(s,r,c){if(s!==null&&(r.dependencies=s.dependencies),ts|=r.lanes,(c&r.childLanes)===0)if(s!==null){if(Br(s,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,c=gi(s,s.pendingProps),r.child=c,c.return=r;s.sibling!==null;)s=s.sibling,c=c.sibling=gi(s,s.pendingProps),c.return=r;c.sibling=null}return r.child}function Qd(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Rl(s)))}function US(s,r,c){switch(r.tag){case 3:fe(r,r.stateNode.containerInfo),qi(r,$t,s.memoizedState.cache),Ur();break;case 27:case 5:et(r);break;case 4:fe(r,r.stateNode.containerInfo);break;case 10:qi(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Gi(r),r.flags|=128,null):(c&r.child.childLanes)!==0?Jm(s,r,c):(Gi(r),s=xi(s,r,c),s!==null?s.sibling:null);Gi(r);break;case 19:var g=(s.flags&128)!==0;if(d=(c&r.childLanes)!==0,d||(Br(s,r,c,!1),d=(c&r.childLanes)!==0),g){if(d)return t0(s,r,c);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(It,It.current),d)break;return null;case 22:case 23:return r.lanes=0,Wm(s,r,c);case 24:qi(r,$t,s.memoizedState.cache)}return xi(s,r,c)}function n0(s,r,c){if(s!==null)if(s.memoizedProps!==r.pendingProps)Yt=!0;else{if(!Qd(s,c)&&(r.flags&128)===0)return Yt=!1,US(s,r,c);Yt=(s.flags&131072)!==0}else Yt=!1,Ge&&(r.flags&1048576)!==0&&Cp(r,Ol,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var d=r.elementType,g=d._init;if(d=g(d._payload),r.type=d,typeof d=="function")od(d)?(s=qs(d,s),r.tag=1,r=Km(null,r,d,s,c)):(r.tag=0,r=Vd(null,r,d,s,c));else{if(d!=null){if(g=d.$$typeof,g===z){r.tag=11,r=Vm(null,r,d,s,c);break e}else if(g===Y){r.tag=14,r=Zm(null,r,d,s,c);break e}}throw r=_e(d)||d,Error(i(306,r,""))}}return r;case 0:return Vd(s,r,r.type,r.pendingProps,c);case 1:return d=r.type,g=qs(d,r.pendingProps),Km(s,r,d,g,c);case 3:e:{if(fe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));d=r.pendingProps;var m=r.memoizedState;g=m.element,xd(s,r),Zr(r,d,null,c);var x=r.memoizedState;if(d=x.cache,qi(r,$t,d),d!==m.cache&&pd(r,[$t],c,!0),Vr(),d=x.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Qm(s,r,d,c);break e}else if(d!==g){g=Pn(Error(i(424)),r),Pr(g),r=Qm(s,r,d,c);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(At=Gn(s.firstChild),hn=r,Ge=!0,Ps=null,ni=!0,c=zm(r,null,d,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ur(),d===g){r=xi(s,r,c);break e}en(s,r,d,c)}r=r.child}return r;case 26:return Xl(s,r),s===null?(c=rb(r.type,null,r.pendingProps,null))?r.memoizedState=c:Ge||(c=r.type,s=r.pendingProps,d=dc(oe.current).createElement(c),d[Vt]=r,d[mn]=s,nn(d,c,s),Zt(d),r.stateNode=d):r.memoizedState=rb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return et(r),s===null&&Ge&&(d=r.stateNode=ib(r.type,r.pendingProps,oe.current),hn=r,ni=!0,g=At,as(r.type)?(Ch=g,At=Gn(d.firstChild)):At=g),en(s,r,r.pendingProps.children,c),Xl(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ge&&((g=d=At)&&(d=dw(d,r.type,r.pendingProps,ni),d!==null?(r.stateNode=d,hn=r,At=Gn(d.firstChild),ni=!1,g=!0):g=!1),g||Bs(r)),et(r),g=r.type,m=r.pendingProps,x=s!==null?s.memoizedProps:null,d=m.children,jh(g,m)?d=null:x!==null&&jh(g,x)&&(r.flags|=32),r.memoizedState!==null&&(g=Ed(s,r,MS,null,null,c),po._currentValue=g),Xl(s,r),en(s,r,d,c),r.child;case 6:return s===null&&Ge&&((s=c=At)&&(c=hw(c,r.pendingProps,ni),c!==null?(r.stateNode=c,hn=r,At=null,s=!0):s=!1),s||Bs(r)),null;case 13:return Jm(s,r,c);case 4:return fe(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=La(r,null,d,c):en(s,r,d,c),r.child;case 11:return Vm(s,r,r.type,r.pendingProps,c);case 7:return en(s,r,r.pendingProps,c),r.child;case 8:return en(s,r,r.pendingProps.children,c),r.child;case 12:return en(s,r,r.pendingProps.children,c),r.child;case 10:return d=r.pendingProps,qi(r,r.type,d.value),en(s,r,d.children,c),r.child;case 9:return g=r.type._context,d=r.pendingProps.children,Is(r),g=an(g),d=d(g),r.flags|=1,en(s,r,d,c),r.child;case 14:return Zm(s,r,r.type,r.pendingProps,c);case 15:return Ym(s,r,r.type,r.pendingProps,c);case 19:return t0(s,r,c);case 31:return d=r.pendingProps,c=r.mode,d={mode:d.mode,children:d.children},s===null?(c=Kl(d,c),c.ref=r.ref,r.child=c,c.return=r,r=c):(c=gi(s.child,d),c.ref=r.ref,r.child=c,c.return=r,r=c),r;case 22:return Wm(s,r,c);case 24:return Is(r),d=an($t),s===null?(g=yd(),g===null&&(g=dt,m=md(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=c),g=m),r.memoizedState={parent:d,cache:g},_d(r),qi(r,$t,g)):((s.lanes&c)!==0&&(xd(s,r),Zr(r,null,null,c),Vr()),g=s.memoizedState,m=r.memoizedState,g.parent!==d?(g={parent:d,cache:d},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),qi(r,$t,d)):(d=m.cache,qi(r,$t,d),d!==g.cache&&pd(r,[$t],c,!0))),en(s,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Si(s){s.flags|=4}function i0(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!db(r)){if(r=Hn.current,r!==null&&((Fe&4194048)===Fe?ii!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==ii))throw Fr=vd,$p;s.flags|=8192}}function Ql(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?nt():536870912,s.lanes|=r,$a|=r)}function Jr(s,r){if(!Ge)switch(s.tailMode){case"hidden":r=s.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function xt(s){var r=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(r)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=c,r}function PS(s,r,c){var d=r.pendingProps;switch(dd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return xt(r),null;case 3:return c=r.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),yi($t),qe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Lr(r)?Si(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Np())),xt(r),null;case 26:return c=r.memoizedState,s===null?(Si(r),c!==null?(xt(r),i0(r,c)):(xt(r),r.flags&=-16777217)):c?c!==s.memoizedState?(Si(r),xt(r),i0(r,c)):(xt(r),r.flags&=-16777217):(s.memoizedProps!==d&&Si(r),xt(r),r.flags&=-16777217),null;case 27:Xe(r),c=oe.current;var g=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==d&&Si(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return xt(r),null}s=I.current,Lr(r)?Dp(r):(s=ib(g,d,c),r.stateNode=s,Si(r))}return xt(r),null;case 5:if(Xe(r),c=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&Si(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return xt(r),null}if(s=I.current,Lr(r))Dp(r);else{switch(g=dc(oe.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}s[Vt]=r,s[mn]=d;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=s;e:switch(nn(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Si(r)}}return xt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==d&&Si(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(s=oe.current,Lr(r)){if(s=r.stateNode,c=r.memoizedProps,d=null,g=hn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[Vt]=r,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||X0(s.nodeValue,c)),s||Bs(r)}else s=dc(s).createTextNode(d),s[Vt]=r,r.stateNode=s}return xt(r),null;case 13:if(d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Lr(r),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Vt]=r}else Ur(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),g=!1}else g=Np(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(_i(r),r):(_i(r),null)}if(_i(r),(r.flags&128)!==0)return r.lanes=c,r;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=r.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var m=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(m=d.memoizedState.cachePool.pool),m!==g&&(d.flags|=2048)}return c!==s&&c&&(r.child.flags|=8192),Ql(r,r.updateQueue),xt(r),null;case 4:return qe(),s===null&&wh(r.stateNode.containerInfo),xt(r),null;case 10:return yi(r.type),xt(r),null;case 19:if(Z(It),g=r.memoizedState,g===null)return xt(r),null;if(d=(r.flags&128)!==0,m=g.rendering,m===null)if(d)Jr(g,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(m=Yl(s),m!==null){for(r.flags|=128,Jr(g,!1),s=m.updateQueue,r.updateQueue=s,Ql(r,s),r.subtreeFlags=0,s=c,c=r.child;c!==null;)Rp(c,s),c=c.sibling;return W(It,It.current&1|2),r.child}s=s.sibling}g.tail!==null&&Ae()>tc&&(r.flags|=128,d=!0,Jr(g,!1),r.lanes=4194304)}else{if(!d)if(s=Yl(m),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,Ql(r,s),Jr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!m.alternate&&!Ge)return xt(r),null}else 2*Ae()-g.renderingStartTime>tc&&c!==536870912&&(r.flags|=128,d=!0,Jr(g,!1),r.lanes=4194304);g.isBackwards?(m.sibling=r.child,r.child=m):(s=g.last,s!==null?s.sibling=m:r.child=m,g.last=m)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Ae(),r.sibling=null,s=It.current,W(It,d?s&1|2:s&1),r):(xt(r),null);case 22:case 23:return _i(r),Td(),d=r.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(c&536870912)!==0&&(r.flags&128)===0&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),c=r.updateQueue,c!==null&&Ql(r,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048),s!==null&&Z(Hs),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),yi($t),xt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function BS(s,r){switch(dd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return yi($t),qe(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Xe(r),null;case 13:if(_i(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ur()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return Z(It),null;case 4:return qe(),null;case 10:return yi(r.type),null;case 22:case 23:return _i(r),Td(),s!==null&&Z(Hs),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return yi($t),null;case 25:return null;default:return null}}function s0(s,r){switch(dd(r),r.tag){case 3:yi($t),qe();break;case 26:case 27:case 5:Xe(r);break;case 4:qe();break;case 13:_i(r);break;case 19:Z(It);break;case 10:yi(r.type);break;case 22:case 23:_i(r),Td(),s!==null&&Z(Hs);break;case 24:yi($t)}}function eo(s,r){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&s)===s){d=void 0;var m=c.create,x=c.inst;d=m(),x.destroy=d}c=c.next}while(c!==g)}}catch(T){ut(r,r.return,T)}}function Ki(s,r,c){try{var d=r.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var m=g.next;d=m;do{if((d.tag&s)===s){var x=d.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,g=r;var j=c,H=T;try{H()}catch(K){ut(g,j,K)}}}d=d.next}while(d!==m)}}catch(K){ut(r,r.return,K)}}function a0(s){var r=s.updateQueue;if(r!==null){var c=s.stateNode;try{Zp(r,c)}catch(d){ut(s,s.return,d)}}}function r0(s,r,c){c.props=qs(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){ut(s,r,d)}}function to(s,r){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(g){ut(s,r,g)}}function si(s,r){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){ut(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ut(s,r,g)}else c.current=null}function o0(s){var r=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){ut(s,s.return,g)}}function Jd(s,r,c){try{var d=s.stateNode;rw(d,s.type,c,r),d[mn]=r}catch(g){ut(s,s.return,g)}}function l0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&as(s.type)||s.tag===4}function eh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||l0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&as(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function th(s,r,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(s),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=uc));else if(d!==4&&(d===27&&as(s.type)&&(c=s.stateNode,r=null),s=s.child,s!==null))for(th(s,r,c),s=s.sibling;s!==null;)th(s,r,c),s=s.sibling}function Jl(s,r,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?c.insertBefore(s,r):c.appendChild(s);else if(d!==4&&(d===27&&as(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Jl(s,r,c),s=s.sibling;s!==null;)Jl(s,r,c),s=s.sibling}function c0(s){var r=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);nn(r,d,c),r[Vt]=s,r[mn]=c}catch(m){ut(s,s.return,m)}}var wi=!1,Ct=!1,nh=!1,u0=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function $S(s,r){if(s=s.containerInfo,Ah=bc,s=xp(s),ed(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{c.nodeType,m.nodeType}catch{c=null;break e}var x=0,T=-1,j=-1,H=0,K=0,ne=s,F=null;t:for(;;){for(var V;ne!==c||g!==0&&ne.nodeType!==3||(T=x+g),ne!==m||d!==0&&ne.nodeType!==3||(j=x+d),ne.nodeType===3&&(x+=ne.nodeValue.length),(V=ne.firstChild)!==null;)F=ne,ne=V;for(;;){if(ne===s)break t;if(F===c&&++H===g&&(T=x),F===m&&++K===d&&(j=x),(V=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=V}c=T===-1||j===-1?null:{start:T,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(Eh={focusedElem:s,selectionRange:c},bc=!1,Wt=r;Wt!==null;)if(r=Wt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Wt=s;else for(;Wt!==null;){switch(r=Wt,m=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&m!==null){s=void 0,c=r,g=m.memoizedProps,m=m.memoizedState,d=c.stateNode;try{var Se=qs(c.type,g,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(Se,m),d.__reactInternalSnapshotBeforeUpdate=s}catch(ve){ut(c,c.return,ve)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,c=s.nodeType,c===9)Oh(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Oh(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Wt=s;break}Wt=r.return}}function d0(s,r,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Qi(s,c),d&4&&eo(5,c);break;case 1:if(Qi(s,c),d&4)if(s=c.stateNode,r===null)try{s.componentDidMount()}catch(x){ut(c,c.return,x)}else{var g=qs(c.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(x){ut(c,c.return,x)}}d&64&&a0(c),d&512&&to(c,c.return);break;case 3:if(Qi(s,c),d&64&&(s=c.updateQueue,s!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{Zp(s,r)}catch(x){ut(c,c.return,x)}}break;case 27:r===null&&d&4&&c0(c);case 26:case 5:Qi(s,c),r===null&&d&4&&o0(c),d&512&&to(c,c.return);break;case 12:Qi(s,c);break;case 13:Qi(s,c),d&4&&g0(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=GS.bind(null,c),fw(s,c))));break;case 22:if(d=c.memoizedState!==null||wi,!d){r=r!==null&&r.memoizedState!==null||Ct,g=wi;var m=Ct;wi=d,(Ct=r)&&!m?Ji(s,c,(c.subtreeFlags&8772)!==0):Qi(s,c),wi=g,Ct=m}break;case 30:break;default:Qi(s,c)}}function h0(s){var r=s.alternate;r!==null&&(s.alternate=null,h0(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Nu(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var yt=null,vn=!1;function ki(s,r,c){for(c=c.child;c!==null;)f0(s,r,c),c=c.sibling}function f0(s,r,c){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Ot,c)}catch{}switch(c.tag){case 26:Ct||si(c,r),ki(s,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ct||si(c,r);var d=yt,g=vn;as(c.type)&&(yt=c.stateNode,vn=!1),ki(s,r,c),uo(c.stateNode),yt=d,vn=g;break;case 5:Ct||si(c,r);case 6:if(d=yt,g=vn,yt=null,ki(s,r,c),yt=d,vn=g,yt!==null)if(vn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(c.stateNode)}catch(m){ut(c,r,m)}else try{yt.removeChild(c.stateNode)}catch(m){ut(c,r,m)}break;case 18:yt!==null&&(vn?(s=yt,tb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),vo(s)):tb(yt,c.stateNode));break;case 4:d=yt,g=vn,yt=c.stateNode.containerInfo,vn=!0,ki(s,r,c),yt=d,vn=g;break;case 0:case 11:case 14:case 15:Ct||Ki(2,c,r),Ct||Ki(4,c,r),ki(s,r,c);break;case 1:Ct||(si(c,r),d=c.stateNode,typeof d.componentWillUnmount=="function"&&r0(c,r,d)),ki(s,r,c);break;case 21:ki(s,r,c);break;case 22:Ct=(d=Ct)||c.memoizedState!==null,ki(s,r,c),Ct=d;break;default:ki(s,r,c)}}function g0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{vo(s)}catch(c){ut(r,r.return,c)}}function IS(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new u0),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new u0),r;default:throw Error(i(435,s.tag))}}function ih(s,r){var c=IS(s);r.forEach(function(d){var g=XS.bind(null,s,d);c.has(d)||(c.add(d),d.then(g,g))})}function Mn(s,r){var c=r.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],m=s,x=r,T=x;e:for(;T!==null;){switch(T.tag){case 27:if(as(T.type)){yt=T.stateNode,vn=!1;break e}break;case 5:yt=T.stateNode,vn=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(yt===null)throw Error(i(160));f0(m,x,g),yt=null,vn=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)p0(r,s),r=r.sibling}var Wn=null;function p0(s,r){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Mn(r,s),On(s),d&4&&(Ki(3,s,s.return),eo(3,s),Ki(5,s,s.return));break;case 1:Mn(r,s),On(s),d&512&&(Ct||c===null||si(c,c.return)),d&64&&wi&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=Wn;if(Mn(r,s),On(s),d&512&&(Ct||c===null||si(c,c.return)),d&4){var m=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":m=g.getElementsByTagName("title")[0],(!m||m[Tr]||m[Vt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(d),g.head.insertBefore(m,g.querySelector("head > title"))),nn(m,d,c),m[Vt]=s,Zt(m),d=m;break e;case"link":var x=cb("link","href",g).get(d+(c.href||""));if(x){for(var T=0;T<x.length;T++)if(m=x[T],m.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&m.getAttribute("rel")===(c.rel==null?null:c.rel)&&m.getAttribute("title")===(c.title==null?null:c.title)&&m.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(T,1);break t}}m=g.createElement(d),nn(m,d,c),g.head.appendChild(m);break;case"meta":if(x=cb("meta","content",g).get(d+(c.content||""))){for(T=0;T<x.length;T++)if(m=x[T],m.getAttribute("content")===(c.content==null?null:""+c.content)&&m.getAttribute("name")===(c.name==null?null:c.name)&&m.getAttribute("property")===(c.property==null?null:c.property)&&m.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&m.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(T,1);break t}}m=g.createElement(d),nn(m,d,c),g.head.appendChild(m);break;default:throw Error(i(468,d))}m[Vt]=s,Zt(m),d=m}s.stateNode=d}else ub(g,s.type,s.stateNode);else s.stateNode=lb(g,d,s.memoizedProps);else m!==d?(m===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):m.count--,d===null?ub(g,s.type,s.stateNode):lb(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Jd(s,s.memoizedProps,c.memoizedProps)}break;case 27:Mn(r,s),On(s),d&512&&(Ct||c===null||si(c,c.return)),c!==null&&d&4&&Jd(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Mn(r,s),On(s),d&512&&(Ct||c===null||si(c,c.return)),s.flags&32){g=s.stateNode;try{ya(g,"")}catch(V){ut(s,s.return,V)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,Jd(s,g,c!==null?c.memoizedProps:g)),d&1024&&(nh=!0);break;case 6:if(Mn(r,s),On(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(V){ut(s,s.return,V)}}break;case 3:if(gc=null,g=Wn,Wn=hc(r.containerInfo),Mn(r,s),Wn=g,On(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{vo(r.containerInfo)}catch(V){ut(s,s.return,V)}nh&&(nh=!1,m0(s));break;case 4:d=Wn,Wn=hc(s.stateNode.containerInfo),Mn(r,s),On(s),Wn=d;break;case 12:Mn(r,s),On(s);break;case 13:Mn(r,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ch=Ae()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,ih(s,d)));break;case 22:g=s.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,H=wi,K=Ct;if(wi=H||g,Ct=K||j,Mn(r,s),Ct=K,wi=H,On(s),d&8192)e:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(c===null||j||wi||Ct||Vs(s)),c=null,r=s;;){if(r.tag===5||r.tag===26){if(c===null){j=c=r;try{if(m=j.stateNode,g)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{T=j.stateNode;var ne=j.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(V){ut(j,j.return,V)}}}else if(r.tag===6){if(c===null){j=r;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(V){ut(j,j.return,V)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,ih(s,c))));break;case 19:Mn(r,s),On(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,ih(s,d)));break;case 30:break;case 21:break;default:Mn(r,s),On(s)}}function On(s){var r=s.flags;if(r&2){try{for(var c,d=s.return;d!==null;){if(l0(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,m=eh(s);Jl(s,m,g);break;case 5:var x=c.stateNode;c.flags&32&&(ya(x,""),c.flags&=-33);var T=eh(s);Jl(s,T,x);break;case 3:case 4:var j=c.stateNode.containerInfo,H=eh(s);th(s,H,j);break;default:throw Error(i(161))}}catch(K){ut(s,s.return,K)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function m0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;m0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Qi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)d0(s,r.alternate,r),r=r.sibling}function Vs(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ki(4,r,r.return),Vs(r);break;case 1:si(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&r0(r,r.return,c),Vs(r);break;case 27:uo(r.stateNode);case 26:case 5:si(r,r.return),Vs(r);break;case 22:r.memoizedState===null&&Vs(r);break;case 30:Vs(r);break;default:Vs(r)}s=s.sibling}}function Ji(s,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,g=s,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:Ji(g,m,c),eo(4,m);break;case 1:if(Ji(g,m,c),d=m,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){ut(d,d.return,H)}if(d=m,g=d.updateQueue,g!==null){var T=d.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)Vp(j[g],T)}catch(H){ut(d,d.return,H)}}c&&x&64&&a0(m),to(m,m.return);break;case 27:c0(m);case 26:case 5:Ji(g,m,c),c&&d===null&&x&4&&o0(m),to(m,m.return);break;case 12:Ji(g,m,c);break;case 13:Ji(g,m,c),c&&x&4&&g0(g,m);break;case 22:m.memoizedState===null&&Ji(g,m,c),to(m,m.return);break;case 30:break;default:Ji(g,m,c)}r=r.sibling}}function sh(s,r){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&$r(c))}function ah(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&$r(s))}function ai(s,r,c,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b0(s,r,c,d),r=r.sibling}function b0(s,r,c,d){var g=r.flags;switch(r.tag){case 0:case 11:case 15:ai(s,r,c,d),g&2048&&eo(9,r);break;case 1:ai(s,r,c,d);break;case 3:ai(s,r,c,d),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&$r(s)));break;case 12:if(g&2048){ai(s,r,c,d),s=r.stateNode;try{var m=r.memoizedProps,x=m.id,T=m.onPostCommit;typeof T=="function"&&T(x,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){ut(r,r.return,j)}}else ai(s,r,c,d);break;case 13:ai(s,r,c,d);break;case 23:break;case 22:m=r.stateNode,x=r.alternate,r.memoizedState!==null?m._visibility&2?ai(s,r,c,d):no(s,r):m._visibility&2?ai(s,r,c,d):(m._visibility|=2,Ua(s,r,c,d,(r.subtreeFlags&10256)!==0)),g&2048&&sh(x,r);break;case 24:ai(s,r,c,d),g&2048&&ah(r.alternate,r);break;default:ai(s,r,c,d)}}function Ua(s,r,c,d,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=s,x=r,T=c,j=d,H=x.flags;switch(x.tag){case 0:case 11:case 15:Ua(m,x,T,j,g),eo(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?Ua(m,x,T,j,g):no(m,x):(K._visibility|=2,Ua(m,x,T,j,g)),g&&H&2048&&sh(x.alternate,x);break;case 24:Ua(m,x,T,j,g),g&&H&2048&&ah(x.alternate,x);break;default:Ua(m,x,T,j,g)}r=r.sibling}}function no(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=s,d=r,g=d.flags;switch(d.tag){case 22:no(c,d),g&2048&&sh(d.alternate,d);break;case 24:no(c,d),g&2048&&ah(d.alternate,d);break;default:no(c,d)}r=r.sibling}}var io=8192;function Pa(s){if(s.subtreeFlags&io)for(s=s.child;s!==null;)y0(s),s=s.sibling}function y0(s){switch(s.tag){case 26:Pa(s),s.flags&io&&s.memoizedState!==null&&Aw(Wn,s.memoizedState,s.memoizedProps);break;case 5:Pa(s);break;case 3:case 4:var r=Wn;Wn=hc(s.stateNode.containerInfo),Pa(s),Wn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=io,io=16777216,Pa(s),io=r):Pa(s));break;default:Pa(s)}}function v0(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function so(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var d=r[c];Wt=d,x0(d,s)}v0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_0(s),s=s.sibling}function _0(s){switch(s.tag){case 0:case 11:case 15:so(s),s.flags&2048&&Ki(9,s,s.return);break;case 3:so(s);break;case 12:so(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,ec(s)):so(s);break;default:so(s)}}function ec(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var d=r[c];Wt=d,x0(d,s)}v0(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ki(8,r,r.return),ec(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,ec(r));break;default:ec(r)}s=s.sibling}}function x0(s,r){for(;Wt!==null;){var c=Wt;switch(c.tag){case 0:case 11:case 15:Ki(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:$r(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Wt=d;else e:for(c=s;Wt!==null;){d=Wt;var g=d.sibling,m=d.return;if(h0(d),d===c){Wt=null;break e}if(g!==null){g.return=m,Wt=g;break e}Wt=m}}}var HS={getCacheForType:function(s){var r=an($t),c=r.data.get(s);return c===void 0&&(c=s(),r.data.set(s,c)),c}},FS=typeof WeakMap=="function"?WeakMap:Map,st=0,dt=null,Le=null,Fe=0,at=0,Rn=null,es=!1,Ba=!1,rh=!1,Ti=0,Et=0,ts=0,Zs=0,oh=0,Fn=0,$a=0,ao=null,_n=null,lh=!1,ch=0,tc=1/0,nc=null,ns=null,tn=0,is=null,Ia=null,Ha=0,uh=0,dh=null,S0=null,ro=0,hh=null;function Cn(){if((st&2)!==0&&Fe!==0)return Fe&-Fe;if(B.T!==null){var s=Ma;return s!==0?s:vh()}return Qe()}function w0(){Fn===0&&(Fn=(Fe&536870912)===0||Ge?ke():536870912);var s=Hn.current;return s!==null&&(s.flags|=32),Fn}function Dn(s,r,c){(s===dt&&(at===2||at===9)||s.cancelPendingCommit!==null)&&(Fa(s,0),ss(s,Fe,Fn,!1)),Re(s,c),((st&2)===0||s!==dt)&&(s===dt&&((st&2)===0&&(Zs|=c),Et===4&&ss(s,Fe,Fn,!1)),ri(s))}function k0(s,r,c){if((st&6)!==0)throw Error(i(327));var d=!c&&(r&124)===0&&(r&s.expiredLanes)===0||ee(s,r),g=d?ZS(s,r):ph(s,r,!0),m=d;do{if(g===0){Ba&&!d&&ss(s,r,0,!1);break}else{if(c=s.current.alternate,m&&!qS(c)){g=ph(s,r,!1),m=!1;continue}if(g===2){if(m=r,s.errorRecoveryDisabledLanes&m)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var T=s;g=ao;var j=T.current.memoizedState.isDehydrated;if(j&&(Fa(T,x).flags|=256),x=ph(T,x,!1),x!==2){if(rh&&!j){T.errorRecoveryDisabledLanes|=m,Zs|=m,g=4;break e}m=_n,_n=g,m!==null&&(_n===null?_n=m:_n.push.apply(_n,m))}g=x}if(m=!1,g!==2)continue}}if(g===1){Fa(s,0),ss(s,r,0,!0);break}e:{switch(d=s,m=g,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ss(d,r,Fn,!es);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=ch+300-Ae(),10<g)){if(ss(d,r,Fn,!es),Hi(d,0,!0)!==0)break e;d.timeoutHandle=J0(T0.bind(null,d,c,_n,nc,lh,r,Fn,Zs,$a,es,m,2,-0,0),g);break e}T0(d,c,_n,nc,lh,r,Fn,Zs,$a,es,m,0,-0,0)}}break}while(!0);ri(s)}function T0(s,r,c,d,g,m,x,T,j,H,K,ne,F,V){if(s.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(go={stylesheets:null,count:0,unsuspend:Tw},y0(r),ne=Ew(),ne!==null)){s.cancelPendingCommit=ne(C0.bind(null,s,r,m,c,d,g,x,T,j,K,1,F,V)),ss(s,m,x,!H);return}C0(s,r,m,c,d,g,x,T,j)}function qS(s){for(var r=s;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],m=g.getSnapshot;g=g.value;try{if(!En(m(),g))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ss(s,r,c,d){r&=~oh,r&=~Zs,s.suspendedLanes|=r,s.pingedLanes&=~r,d&&(s.warmLanes|=r),d=s.expirationTimes;for(var g=r;0<g;){var m=31-wt(g),x=1<<m;d[m]=-1,g&=~x}c!==0&&Tt(s,c,r)}function ic(){return(st&6)===0?(oo(0),!1):!0}function fh(){if(Le!==null){if(at===0)var s=Le.return;else s=Le,bi=$s=null,Od(s),Na=null,Kr=0,s=Le;for(;s!==null;)s0(s.alternate,s),s=s.return;Le=null}}function Fa(s,r){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,lw(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),fh(),dt=s,Le=c=gi(s.current,null),Fe=r,at=0,Rn=null,es=!1,Ba=ee(s,r),rh=!1,$a=Fn=oh=Zs=ts=Et=0,_n=ao=null,lh=!1,(r&8)!==0&&(r|=r&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=r;0<d;){var g=31-wt(d),m=1<<g;r|=s[g],d&=~m}return Ti=r,Tl(),c}function A0(s,r){Ce=null,B.H=ql,r===Hr||r===zl?(r=Fp(),at=3):r===$p?(r=Fp(),at=4):at=r===qm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Le===null&&(Et=1,Gl(s,Pn(r,s.current)))}function E0(){var s=B.H;return B.H=ql,s===null?ql:s}function j0(){var s=B.A;return B.A=HS,s}function gh(){Et=4,es||(Fe&4194048)!==Fe&&Hn.current!==null||(Ba=!0),(ts&134217727)===0&&(Zs&134217727)===0||dt===null||ss(dt,Fe,Fn,!1)}function ph(s,r,c){var d=st;st|=2;var g=E0(),m=j0();(dt!==s||Fe!==r)&&(nc=null,Fa(s,r)),r=!1;var x=Et;e:do try{if(at!==0&&Le!==null){var T=Le,j=Rn;switch(at){case 8:fh(),x=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var H=at;if(at=0,Rn=null,qa(s,T,j,H),c&&Ba){x=0;break e}break;default:H=at,at=0,Rn=null,qa(s,T,j,H)}}VS(),x=Et;break}catch(K){A0(s,K)}while(!0);return r&&s.shellSuspendCounter++,bi=$s=null,st=d,B.H=g,B.A=m,Le===null&&(dt=null,Fe=0,Tl()),x}function VS(){for(;Le!==null;)M0(Le)}function ZS(s,r){var c=st;st|=2;var d=E0(),g=j0();dt!==s||Fe!==r?(nc=null,tc=Ae()+500,Fa(s,r)):Ba=ee(s,r);e:do try{if(at!==0&&Le!==null){r=Le;var m=Rn;t:switch(at){case 1:at=0,Rn=null,qa(s,r,m,1);break;case 2:case 9:if(Ip(m)){at=0,Rn=null,O0(r);break}r=function(){at!==2&&at!==9||dt!==s||(at=7),ri(s)},m.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Ip(m)?(at=0,Rn=null,O0(r)):(at=0,Rn=null,qa(s,r,m,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var T=Le;if(!x||db(x)){at=0,Rn=null;var j=T.sibling;if(j!==null)Le=j;else{var H=T.return;H!==null?(Le=H,sc(H)):Le=null}break t}}at=0,Rn=null,qa(s,r,m,5);break;case 6:at=0,Rn=null,qa(s,r,m,6);break;case 8:fh(),Et=6;break e;default:throw Error(i(462))}}YS();break}catch(K){A0(s,K)}while(!0);return bi=$s=null,B.H=d,B.A=g,st=c,Le!==null?0:(dt=null,Fe=0,Tl(),Et)}function YS(){for(;Le!==null&&!Nt();)M0(Le)}function M0(s){var r=n0(s.alternate,s,Ti);s.memoizedProps=s.pendingProps,r===null?sc(s):Le=r}function O0(s){var r=s,c=r.alternate;switch(r.tag){case 15:case 0:r=Xm(c,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=Xm(c,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:Od(r);default:s0(c,r),r=Le=Rp(r,Ti),r=n0(c,r,Ti)}s.memoizedProps=s.pendingProps,r===null?sc(s):Le=r}function qa(s,r,c,d){bi=$s=null,Od(r),Na=null,Kr=0;var g=r.return;try{if(LS(s,g,r,c,Fe)){Et=1,Gl(s,Pn(c,s.current)),Le=null;return}}catch(m){if(g!==null)throw Le=g,m;Et=1,Gl(s,Pn(c,s.current)),Le=null;return}r.flags&32768?(Ge||d===1?s=!0:Ba||(Fe&536870912)!==0?s=!1:(es=s=!0,(d===2||d===9||d===3||d===6)&&(d=Hn.current,d!==null&&d.tag===13&&(d.flags|=16384))),R0(r,s)):sc(r)}function sc(s){var r=s;do{if((r.flags&32768)!==0){R0(r,es);return}s=r.return;var c=PS(r.alternate,r,Ti);if(c!==null){Le=c;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=s}while(r!==null);Et===0&&(Et=5)}function R0(s,r){do{var c=BS(s.alternate,s);if(c!==null){c.flags&=32767,Le=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(s=s.sibling,s!==null)){Le=s;return}Le=s=c}while(s!==null);Et=6,Le=null}function C0(s,r,c,d,g,m,x,T,j){s.cancelPendingCommit=null;do ac();while(tn!==0);if((st&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=ad,Ve(s,c,m,x,T,j),s===dt&&(Le=dt=null,Fe=0),Ia=r,is=s,Ha=c,uh=m,dh=g,S0=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,KS(Mt,function(){return U0(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=B.T,B.T=null,g=ie.p,ie.p=2,x=st,st|=4;try{$S(s,r,c)}finally{st=x,ie.p=g,B.T=d}}tn=1,D0(),z0(),N0()}}function D0(){if(tn===1){tn=0;var s=is,r=Ia,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var d=ie.p;ie.p=2;var g=st;st|=4;try{p0(r,s);var m=Eh,x=xp(s.containerInfo),T=m.focusedElem,j=m.selectionRange;if(x!==T&&T&&T.ownerDocument&&_p(T.ownerDocument.documentElement,T)){if(j!==null&&ed(T)){var H=j.start,K=j.end;if(K===void 0&&(K=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(K,T.value.length);else{var ne=T.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var V=F.getSelection(),Se=T.textContent.length,ve=Math.min(j.start,Se),lt=j.end===void 0?ve:Math.min(j.end,Se);!V.extend&&ve>lt&&(x=lt,lt=ve,ve=x);var L=vp(T,ve),D=vp(T,lt);if(L&&D&&(V.rangeCount!==1||V.anchorNode!==L.node||V.anchorOffset!==L.offset||V.focusNode!==D.node||V.focusOffset!==D.offset)){var P=ne.createRange();P.setStart(L.node,L.offset),V.removeAllRanges(),ve>lt?(V.addRange(P),V.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),V.addRange(P))}}}}for(ne=[],V=T;V=V.parentNode;)V.nodeType===1&&ne.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var J=ne[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}bc=!!Ah,Eh=Ah=null}finally{st=g,ie.p=d,B.T=c}}s.current=r,tn=2}}function z0(){if(tn===2){tn=0;var s=is,r=Ia,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var d=ie.p;ie.p=2;var g=st;st|=4;try{d0(s,r.alternate,r)}finally{st=g,ie.p=d,B.T=c}}tn=3}}function N0(){if(tn===4||tn===3){tn=0,me();var s=is,r=Ia,c=Ha,d=S0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?tn=5:(tn=0,Ia=is=null,L0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ns=null),qt(c),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Ot,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=B.T,g=ie.p,ie.p=2,B.T=null;try{for(var m=s.onRecoverableError,x=0;x<d.length;x++){var T=d[x];m(T.value,{componentStack:T.stack})}}finally{B.T=r,ie.p=g}}(Ha&3)!==0&&ac(),ri(s),g=s.pendingLanes,(c&4194090)!==0&&(g&42)!==0?s===hh?ro++:(ro=0,hh=s):ro=0,oo(0)}}function L0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,$r(r)))}function ac(s){return D0(),z0(),N0(),U0()}function U0(){if(tn!==5)return!1;var s=is,r=uh;uh=0;var c=qt(Ha),d=B.T,g=ie.p;try{ie.p=32>c?32:c,B.T=null,c=dh,dh=null;var m=is,x=Ha;if(tn=0,Ia=is=null,Ha=0,(st&6)!==0)throw Error(i(331));var T=st;if(st|=4,_0(m.current),b0(m,m.current,x,c),st=T,oo(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Ot,m)}catch{}return!0}finally{ie.p=g,B.T=d,L0(s,r)}}function P0(s,r,c){r=Pn(c,r),r=qd(s.stateNode,r,2),s=Yi(s,r,2),s!==null&&(Re(s,2),ri(s))}function ut(s,r,c){if(s.tag===3)P0(s,s,c);else for(;r!==null;){if(r.tag===3){P0(r,s,c);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ns===null||!ns.has(d))){s=Pn(c,s),c=Hm(2),d=Yi(r,c,2),d!==null&&(Fm(c,d,r,s),Re(d,2),ri(d));break}}r=r.return}}function mh(s,r,c){var d=s.pingCache;if(d===null){d=s.pingCache=new FS;var g=new Set;d.set(r,g)}else g=d.get(r),g===void 0&&(g=new Set,d.set(r,g));g.has(c)||(rh=!0,g.add(c),s=WS.bind(null,s,r,c),r.then(s,s))}function WS(s,r,c){var d=s.pingCache;d!==null&&d.delete(r),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,dt===s&&(Fe&c)===c&&(Et===4||Et===3&&(Fe&62914560)===Fe&&300>Ae()-ch?(st&2)===0&&Fa(s,0):oh|=c,$a===Fe&&($a=0)),ri(s)}function B0(s,r){r===0&&(r=nt()),s=Ta(s,r),s!==null&&(Re(s,r),ri(s))}function GS(s){var r=s.memoizedState,c=0;r!==null&&(c=r.retryLane),B0(s,c)}function XS(s,r){var c=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),B0(s,c)}function KS(s,r){return ue(s,r)}var rc=null,Va=null,bh=!1,oc=!1,yh=!1,Ys=0;function ri(s){s!==Va&&s.next===null&&(Va===null?rc=Va=s:Va=Va.next=s),oc=!0,bh||(bh=!0,JS())}function oo(s,r){if(!yh&&oc){yh=!0;do for(var c=!1,d=rc;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var m=0;else{var x=d.suspendedLanes,T=d.pingedLanes;m=(1<<31-wt(42|s)+1)-1,m&=g&~(x&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(c=!0,F0(d,m))}else m=Fe,m=Hi(d,d===dt?m:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(m&3)===0||ee(d,m)||(c=!0,F0(d,m));d=d.next}while(c);yh=!1}}function QS(){$0()}function $0(){oc=bh=!1;var s=0;Ys!==0&&(ow()&&(s=Ys),Ys=0);for(var r=Ae(),c=null,d=rc;d!==null;){var g=d.next,m=I0(d,r);m===0?(d.next=null,c===null?rc=g:c.next=g,g===null&&(Va=c)):(c=d,(s!==0||(m&3)!==0)&&(oc=!0)),d=g}oo(s)}function I0(s,r){for(var c=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var x=31-wt(m),T=1<<x,j=g[x];j===-1?((T&c)===0||(T&d)!==0)&&(g[x]=he(T,r)):j<=r&&(s.expiredLanes|=T),m&=~T}if(r=dt,c=Fe,c=Hi(s,s===r?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===r&&(at===2||at===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&ye(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ee(s,c)){if(r=c&-c,r===s.callbackPriority)return r;switch(d!==null&&ye(d),qt(c)){case 2:case 8:c=un;break;case 32:c=Mt;break;case 268435456:c=tt;break;default:c=Mt}return d=H0.bind(null,s),c=ue(c,d),s.callbackPriority=r,s.callbackNode=c,r}return d!==null&&d!==null&&ye(d),s.callbackPriority=2,s.callbackNode=null,2}function H0(s,r){if(tn!==0&&tn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(ac()&&s.callbackNode!==c)return null;var d=Fe;return d=Hi(s,s===dt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(k0(s,d,r),I0(s,Ae()),s.callbackNode!=null&&s.callbackNode===c?H0.bind(null,s):null)}function F0(s,r){if(ac())return null;k0(s,r,!0)}function JS(){cw(function(){(st&6)!==0?ue(ze,QS):$0()})}function vh(){return Ys===0&&(Ys=ke()),Ys}function q0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yl(""+s)}function V0(s,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,s.id&&c.setAttribute("form",s.id),r.parentNode.insertBefore(c,r),s=new FormData(s),c.parentNode.removeChild(c),s}function ew(s,r,c,d,g){if(r==="submit"&&c&&c.stateNode===g){var m=q0((g[mn]||null).action),x=d.submitter;x&&(r=(r=x[mn]||null)?q0(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var T=new Sl("action","action",null,d,g);s.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ys!==0){var j=x?V0(g,x):new FormData(g);Bd(c,{pending:!0,data:j,method:g.method,action:m},null,j)}}else typeof m=="function"&&(T.preventDefault(),j=x?V0(g,x):new FormData(g),Bd(c,{pending:!0,data:j,method:g.method,action:m},m,j))},currentTarget:g}]})}}for(var _h=0;_h<sd.length;_h++){var xh=sd[_h],tw=xh.toLowerCase(),nw=xh[0].toUpperCase()+xh.slice(1);Yn(tw,"on"+nw)}Yn(kp,"onAnimationEnd"),Yn(Tp,"onAnimationIteration"),Yn(Ap,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(vS,"onTransitionRun"),Yn(_S,"onTransitionStart"),Yn(xS,"onTransitionCancel"),Yn(Ep,"onTransitionEnd"),pa("onMouseEnter",["mouseout","mouseover"]),pa("onMouseLeave",["mouseout","mouseover"]),pa("onPointerEnter",["pointerout","pointerover"]),pa("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function Z0(s,r){r=(r&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],g=d.event;d=d.listeners;e:{var m=void 0;if(r)for(var x=d.length-1;0<=x;x--){var T=d[x],j=T.instance,H=T.currentTarget;if(T=T.listener,j!==m&&g.isPropagationStopped())break e;m=T,g.currentTarget=H;try{m(g)}catch(K){Wl(K)}g.currentTarget=null,m=j}else for(x=0;x<d.length;x++){if(T=d[x],j=T.instance,H=T.currentTarget,T=T.listener,j!==m&&g.isPropagationStopped())break e;m=T,g.currentTarget=H;try{m(g)}catch(K){Wl(K)}g.currentTarget=null,m=j}}}}function Ue(s,r){var c=r[zu];c===void 0&&(c=r[zu]=new Set);var d=s+"__bubble";c.has(d)||(Y0(r,s,2,!1),c.add(d))}function Sh(s,r,c){var d=0;r&&(d|=4),Y0(c,s,d,r)}var lc="_reactListening"+Math.random().toString(36).slice(2);function wh(s){if(!s[lc]){s[lc]=!0,$g.forEach(function(c){c!=="selectionchange"&&(iw.has(c)||Sh(c,!1,s),Sh(c,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[lc]||(r[lc]=!0,Sh("selectionchange",!1,r))}}function Y0(s,r,c,d){switch(bb(r)){case 2:var g=Ow;break;case 8:g=Rw;break;default:g=Uh}c=g.bind(null,r,c,s),g=void 0,!Vu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(r,c,{capture:!0,passive:g}):s.addEventListener(r,c,!0):g!==void 0?s.addEventListener(r,c,{passive:g}):s.addEventListener(r,c,!1)}function kh(s,r,c,d,g){var m=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var T=d.stateNode.containerInfo;if(T===g)break;if(x===4)for(x=d.return;x!==null;){var j=x.tag;if((j===3||j===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;T!==null;){if(x=ha(T),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){d=m=x;continue e}T=T.parentNode}}d=d.return}ep(function(){var H=m,K=Fu(c),ne=[];e:{var F=jp.get(s);if(F!==void 0){var V=Sl,Se=s;switch(s){case"keypress":if(_l(c)===0)break e;case"keydown":case"keyup":V=K1;break;case"focusin":Se="focus",V=Gu;break;case"focusout":Se="blur",V=Gu;break;case"beforeblur":case"afterblur":V=Gu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=B1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=eS;break;case kp:case Tp:case Ap:V=H1;break;case Ep:V=nS;break;case"scroll":case"scrollend":V=U1;break;case"wheel":V=sS;break;case"copy":case"cut":case"paste":V=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=ap;break;case"toggle":case"beforetoggle":V=rS}var ve=(r&4)!==0,lt=!ve&&(s==="scroll"||s==="scrollend"),L=ve?F!==null?F+"Capture":null:F;ve=[];for(var D=H,P;D!==null;){var J=D;if(P=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||P===null||L===null||(J=Er(D,L),J!=null&&ve.push(co(D,J,P))),lt)break;D=D.return}0<ve.length&&(F=new V(F,Se,null,c,K),ne.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=s==="mouseover"||s==="pointerover",V=s==="mouseout"||s==="pointerout",F&&c!==Hu&&(Se=c.relatedTarget||c.fromElement)&&(ha(Se)||Se[da]))break e;if((V||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,V?(Se=c.relatedTarget||c.toElement,V=H,Se=Se?ha(Se):null,Se!==null&&(lt=o(Se),ve=Se.tag,Se!==lt||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(V=null,Se=H),V!==Se)){if(ve=ip,J="onMouseLeave",L="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(ve=ap,J="onPointerLeave",L="onPointerEnter",D="pointer"),lt=V==null?F:Ar(V),P=Se==null?F:Ar(Se),F=new ve(J,D+"leave",V,c,K),F.target=lt,F.relatedTarget=P,J=null,ha(K)===H&&(ve=new ve(L,D+"enter",Se,c,K),ve.target=P,ve.relatedTarget=lt,J=ve),lt=J,V&&Se)t:{for(ve=V,L=Se,D=0,P=ve;P;P=Za(P))D++;for(P=0,J=L;J;J=Za(J))P++;for(;0<D-P;)ve=Za(ve),D--;for(;0<P-D;)L=Za(L),P--;for(;D--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=Za(ve),L=Za(L)}ve=null}else ve=null;V!==null&&W0(ne,F,V,ve,!1),Se!==null&&lt!==null&&W0(ne,lt,Se,ve,!0)}}e:{if(F=H?Ar(H):window,V=F.nodeName&&F.nodeName.toLowerCase(),V==="select"||V==="input"&&F.type==="file")var ge=fp;else if(dp(F))if(gp)ge=mS;else{ge=gS;var Ne=fS}else V=F.nodeName,!V||V.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Iu(H.elementType)&&(ge=fp):ge=pS;if(ge&&(ge=ge(s,H))){hp(ne,ge,c,K);break e}Ne&&Ne(s,F,H),s==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&$u(F,"number",F.value)}switch(Ne=H?Ar(H):window,s){case"focusin":(dp(Ne)||Ne.contentEditable==="true")&&(Sa=Ne,td=H,Nr=null);break;case"focusout":Nr=td=Sa=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Sp(ne,c,K);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":Sp(ne,c,K)}var pe;if(Ku)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else xa?cp(s,c)&&(xe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(xe="onCompositionStart");xe&&(rp&&c.locale!=="ko"&&(xa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&xa&&(pe=tp()):(Fi=K,Zu="value"in Fi?Fi.value:Fi.textContent,xa=!0)),Ne=cc(H,xe),0<Ne.length&&(xe=new sp(xe,s,null,c,K),ne.push({event:xe,listeners:Ne}),pe?xe.data=pe:(pe=up(c),pe!==null&&(xe.data=pe)))),(pe=lS?cS(s,c):uS(s,c))&&(xe=cc(H,"onBeforeInput"),0<xe.length&&(Ne=new sp("onBeforeInput","beforeinput",null,c,K),ne.push({event:Ne,listeners:xe}),Ne.data=pe)),ew(ne,s,H,c,K)}Z0(ne,r)})}function co(s,r,c){return{instance:s,listener:r,currentTarget:c}}function cc(s,r){for(var c=r+"Capture",d=[];s!==null;){var g=s,m=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=Er(s,c),g!=null&&d.unshift(co(s,g,m)),g=Er(s,r),g!=null&&d.push(co(s,g,m))),s.tag===3)return d;s=s.return}return[]}function Za(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function W0(s,r,c,d,g){for(var m=r._reactName,x=[];c!==null&&c!==d;){var T=c,j=T.alternate,H=T.stateNode;if(T=T.tag,j!==null&&j===d)break;T!==5&&T!==26&&T!==27||H===null||(j=H,g?(H=Er(c,m),H!=null&&x.unshift(co(c,H,j))):g||(H=Er(c,m),H!=null&&x.push(co(c,H,j)))),c=c.return}x.length!==0&&s.push({event:r,listeners:x})}var sw=/\r\n?/g,aw=/\u0000|\uFFFD/g;function G0(s){return(typeof s=="string"?s:""+s).replace(sw,`
`).replace(aw,"")}function X0(s,r){return r=G0(r),G0(s)===r}function uc(){}function ot(s,r,c,d,g,m){switch(c){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||ya(s,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&ya(s,""+d);break;case"className":pl(s,"class",d);break;case"tabIndex":pl(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(s,c,d);break;case"style":Qg(s,d,m);break;case"data":if(r!=="object"){pl(s,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=yl(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(c==="formAction"?(r!=="input"&&ot(s,r,"name",g.name,g,null),ot(s,r,"formEncType",g.formEncType,g,null),ot(s,r,"formMethod",g.formMethod,g,null),ot(s,r,"formTarget",g.formTarget,g,null)):(ot(s,r,"encType",g.encType,g,null),ot(s,r,"method",g.method,g,null),ot(s,r,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=yl(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=uc);break;case"onScroll":d!=null&&Ue("scroll",s);break;case"onScrollEnd":d!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=yl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),gl(s,"popover",d);break;case"xlinkActuate":hi(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":hi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":hi(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":hi(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":hi(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":hi(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":hi(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":hi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":hi(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":gl(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=N1.get(c)||c,gl(s,c,d))}}function Th(s,r,c,d,g,m){switch(c){case"style":Qg(s,d,m);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof d=="string"?ya(s,d):(typeof d=="number"||typeof d=="bigint")&&ya(s,""+d);break;case"onScroll":d!=null&&Ue("scroll",s);break;case"onScrollEnd":d!=null&&Ue("scrollend",s);break;case"onClick":d!=null&&(s.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ig.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),r=c.slice(2,g?c.length-7:void 0),m=s[mn]||null,m=m!=null?m[c]:null,typeof m=="function"&&s.removeEventListener(r,m,g),typeof d=="function")){typeof m!="function"&&m!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(r,d,g);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):gl(s,c,d)}}}function nn(s,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var d=!1,g=!1,m;for(m in c)if(c.hasOwnProperty(m)){var x=c[m];if(x!=null)switch(m){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,m,x,c,null)}}g&&ot(s,r,"srcSet",c.srcSet,c,null),d&&ot(s,r,"src",c.src,c,null);return;case"input":Ue("invalid",s);var T=m=x=g=null,j=null,H=null;for(d in c)if(c.hasOwnProperty(d)){var K=c[d];if(K!=null)switch(d){case"name":g=K;break;case"type":x=K;break;case"checked":j=K;break;case"defaultChecked":H=K;break;case"value":m=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:ot(s,r,d,K,c,null)}}Wg(s,m,T,j,H,x,g,!1),ml(s);return;case"select":Ue("invalid",s),d=x=m=null;for(g in c)if(c.hasOwnProperty(g)&&(T=c[g],T!=null))switch(g){case"value":m=T;break;case"defaultValue":x=T;break;case"multiple":d=T;default:ot(s,r,g,T,c,null)}r=m,c=x,s.multiple=!!d,r!=null?ba(s,!!d,r,!1):c!=null&&ba(s,!!d,c,!0);return;case"textarea":Ue("invalid",s),m=g=d=null;for(x in c)if(c.hasOwnProperty(x)&&(T=c[x],T!=null))switch(x){case"value":d=T;break;case"defaultValue":g=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:ot(s,r,x,T,c,null)}Xg(s,d,g,m),ml(s);return;case"option":for(j in c)if(c.hasOwnProperty(j)&&(d=c[j],d!=null))switch(j){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ot(s,r,j,d,c,null)}return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(d=0;d<lo.length;d++)Ue(lo[d],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in c)if(c.hasOwnProperty(H)&&(d=c[H],d!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ot(s,r,H,d,c,null)}return;default:if(Iu(r)){for(K in c)c.hasOwnProperty(K)&&(d=c[K],d!==void 0&&Th(s,r,K,d,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(d=c[T],d!=null&&ot(s,r,T,d,c,null))}function rw(s,r,c,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,x=null,T=null,j=null,H=null,K=null;for(V in c){var ne=c[V];if(c.hasOwnProperty(V)&&ne!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":j=ne;default:d.hasOwnProperty(V)||ot(s,r,V,null,d,ne)}}for(var F in d){var V=d[F];if(ne=c[F],d.hasOwnProperty(F)&&(V!=null||ne!=null))switch(F){case"type":m=V;break;case"name":g=V;break;case"checked":H=V;break;case"defaultChecked":K=V;break;case"value":x=V;break;case"defaultValue":T=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,r));break;default:V!==ne&&ot(s,r,F,V,d,ne)}}Bu(s,x,T,j,H,K,m,g);return;case"select":V=x=T=F=null;for(m in c)if(j=c[m],c.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":V=j;default:d.hasOwnProperty(m)||ot(s,r,m,null,d,j)}for(g in d)if(m=d[g],j=c[g],d.hasOwnProperty(g)&&(m!=null||j!=null))switch(g){case"value":F=m;break;case"defaultValue":T=m;break;case"multiple":x=m;default:m!==j&&ot(s,r,g,m,d,j)}r=T,c=x,d=V,F!=null?ba(s,!!c,F,!1):!!d!=!!c&&(r!=null?ba(s,!!c,r,!0):ba(s,!!c,c?[]:"",!1));return;case"textarea":V=F=null;for(T in c)if(g=c[T],c.hasOwnProperty(T)&&g!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ot(s,r,T,null,d,g)}for(x in d)if(g=d[x],m=c[x],d.hasOwnProperty(x)&&(g!=null||m!=null))switch(x){case"value":F=g;break;case"defaultValue":V=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==m&&ot(s,r,x,g,d,m)}Gg(s,F,V);return;case"option":for(var Se in c)if(F=c[Se],c.hasOwnProperty(Se)&&F!=null&&!d.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:ot(s,r,Se,null,d,F)}for(j in d)if(F=d[j],V=c[j],d.hasOwnProperty(j)&&F!==V&&(F!=null||V!=null))switch(j){case"selected":s.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ot(s,r,j,F,d,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in c)F=c[ve],c.hasOwnProperty(ve)&&F!=null&&!d.hasOwnProperty(ve)&&ot(s,r,ve,null,d,F);for(H in d)if(F=d[H],V=c[H],d.hasOwnProperty(H)&&F!==V&&(F!=null||V!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:ot(s,r,H,F,d,V)}return;default:if(Iu(r)){for(var lt in c)F=c[lt],c.hasOwnProperty(lt)&&F!==void 0&&!d.hasOwnProperty(lt)&&Th(s,r,lt,void 0,d,F);for(K in d)F=d[K],V=c[K],!d.hasOwnProperty(K)||F===V||F===void 0&&V===void 0||Th(s,r,K,F,d,V);return}}for(var L in c)F=c[L],c.hasOwnProperty(L)&&F!=null&&!d.hasOwnProperty(L)&&ot(s,r,L,null,d,F);for(ne in d)F=d[ne],V=c[ne],!d.hasOwnProperty(ne)||F===V||F==null&&V==null||ot(s,r,ne,F,d,V)}var Ah=null,Eh=null;function dc(s){return s.nodeType===9?s:s.ownerDocument}function K0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function jh(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mh=null;function ow(){var s=window.event;return s&&s.type==="popstate"?s===Mh?!1:(Mh=s,!0):(Mh=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(s){return eb.resolve(null).then(s).catch(uw)}:J0;function uw(s){setTimeout(function(){throw s})}function as(s){return s==="head"}function tb(s,r){var c=r,d=0,g=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(0<d&&8>d){c=d;var x=s.ownerDocument;if(c&1&&uo(x.documentElement),c&2&&uo(x.body),c&4)for(c=x.head,uo(c),x=c.firstChild;x;){var T=x.nextSibling,j=x.nodeName;x[Tr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=T}}if(g===0){s.removeChild(m),vo(r);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:d=c.charCodeAt(0)-48;else d=0;c=m}while(c);vo(r)}function Oh(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Oh(c),Nu(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function dw(s,r,c,d){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Tr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=Gn(s.nextSibling),s===null)break}return null}function hw(s,r,c){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Gn(s.nextSibling),s===null))return null;return s}function Rh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function fw(s,r){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")r();else{var d=function(){r(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Gn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Ch=null;function nb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(r===0)return s;r--}else c==="/$"&&r++}s=s.previousSibling}return null}function ib(s,r,c){switch(r=dc(c),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function uo(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Nu(s)}var qn=new Map,sb=new Set;function hc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ai=ie.d;ie.d={f:gw,r:pw,D:mw,C:bw,L:yw,m:vw,X:xw,S:_w,M:Sw};function gw(){var s=Ai.f(),r=ic();return s||r}function pw(s){var r=fa(s);r!==null&&r.tag===5&&r.type==="form"?km(r):Ai.r(s)}var Ya=typeof document>"u"?null:document;function ab(s,r,c){var d=Ya;if(d&&typeof r=="string"&&r){var g=Un(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),sb.has(g)||(sb.add(g),s={rel:s,crossOrigin:c,href:r},d.querySelector(g)===null&&(r=d.createElement("link"),nn(r,"link",s),Zt(r),d.head.appendChild(r)))}}function mw(s){Ai.D(s),ab("dns-prefetch",s,null)}function bw(s,r){Ai.C(s,r),ab("preconnect",s,r)}function yw(s,r,c){Ai.L(s,r,c);var d=Ya;if(d&&s&&r){var g='link[rel="preload"][as="'+Un(r)+'"]';r==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Un(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Un(c.imageSizes)+'"]')):g+='[href="'+Un(s)+'"]';var m=g;switch(r){case"style":m=Wa(s);break;case"script":m=Ga(s)}qn.has(m)||(s=p({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:s,as:r},c),qn.set(m,s),d.querySelector(g)!==null||r==="style"&&d.querySelector(ho(m))||r==="script"&&d.querySelector(fo(m))||(r=d.createElement("link"),nn(r,"link",s),Zt(r),d.head.appendChild(r)))}}function vw(s,r){Ai.m(s,r);var c=Ya;if(c&&s){var d=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Un(d)+'"][href="'+Un(s)+'"]',m=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ga(s)}if(!qn.has(m)&&(s=p({rel:"modulepreload",href:s},r),qn.set(m,s),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(fo(m)))return}d=c.createElement("link"),nn(d,"link",s),Zt(d),c.head.appendChild(d)}}}function _w(s,r,c){Ai.S(s,r,c);var d=Ya;if(d&&s){var g=ga(d).hoistableStyles,m=Wa(s);r=r||"default";var x=g.get(m);if(!x){var T={loading:0,preload:null};if(x=d.querySelector(ho(m)))T.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":r},c),(c=qn.get(m))&&Dh(s,c);var j=x=d.createElement("link");Zt(j),nn(j,"link",s),j._p=new Promise(function(H,K){j.onload=H,j.onerror=K}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(x,r,d)}x={type:"stylesheet",instance:x,count:1,state:T},g.set(m,x)}}}function xw(s,r){Ai.X(s,r);var c=Ya;if(c&&s){var d=ga(c).hoistableScripts,g=Ga(s),m=d.get(g);m||(m=c.querySelector(fo(g)),m||(s=p({src:s,async:!0},r),(r=qn.get(g))&&zh(s,r),m=c.createElement("script"),Zt(m),nn(m,"link",s),c.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},d.set(g,m))}}function Sw(s,r){Ai.M(s,r);var c=Ya;if(c&&s){var d=ga(c).hoistableScripts,g=Ga(s),m=d.get(g);m||(m=c.querySelector(fo(g)),m||(s=p({src:s,async:!0,type:"module"},r),(r=qn.get(g))&&zh(s,r),m=c.createElement("script"),Zt(m),nn(m,"link",s),c.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},d.set(g,m))}}function rb(s,r,c,d){var g=(g=oe.current)?hc(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=Wa(c.href),c=ga(g).hoistableStyles,d=c.get(r),d||(d={type:"style",instance:null,count:0,state:null},c.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Wa(c.href);var m=ga(g).hoistableStyles,x=m.get(s);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,x),(m=g.querySelector(ho(s)))&&!m._p&&(x.instance=m,x.state.loading=5),qn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},qn.set(s,c),m||ww(g,s,c,x.state))),r&&d===null)throw Error(i(528,""));return x}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ga(c),c=ga(g).hoistableScripts,d=c.get(r),d||(d={type:"script",instance:null,count:0,state:null},c.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Wa(s){return'href="'+Un(s)+'"'}function ho(s){return'link[rel="stylesheet"]['+s+"]"}function ob(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function ww(s,r,c,d){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=s.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),nn(r,"link",c),Zt(r),s.head.appendChild(r))}function Ga(s){return'[src="'+Un(s)+'"]'}function fo(s){return"script[async]"+s}function lb(s,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var d=s.querySelector('style[data-href~="'+Un(c.href)+'"]');if(d)return r.instance=d,Zt(d),d;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Zt(d),nn(d,"style",g),fc(d,c.precedence,s),r.instance=d;case"stylesheet":g=Wa(c.href);var m=s.querySelector(ho(g));if(m)return r.state.loading|=4,r.instance=m,Zt(m),m;d=ob(c),(g=qn.get(g))&&Dh(d,g),m=(s.ownerDocument||s).createElement("link"),Zt(m);var x=m;return x._p=new Promise(function(T,j){x.onload=T,x.onerror=j}),nn(m,"link",d),r.state.loading|=4,fc(m,c.precedence,s),r.instance=m;case"script":return m=Ga(c.src),(g=s.querySelector(fo(m)))?(r.instance=g,Zt(g),g):(d=c,(g=qn.get(m))&&(d=p({},c),zh(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),Zt(g),nn(g,"link",d),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,fc(d,c.precedence,s));return r.instance}function fc(s,r,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,m=g,x=0;x<d.length;x++){var T=d[x];if(T.dataset.precedence===r)m=T;else if(m!==g)break}m?m.parentNode.insertBefore(s,m.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(s,r.firstChild))}function Dh(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function zh(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var gc=null;function cb(s,r,c){if(gc===null){var d=new Map,g=gc=new Map;g.set(c,d)}else g=gc,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var m=c[g];if(!(m[Tr]||m[Vt]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=s+x;var T=d.get(x);T?T.push(m):d.set(x,[m])}}return d}function ub(s,r,c){s=s.ownerDocument||s,s.head.insertBefore(c,r==="title"?s.querySelector("head > title"):null)}function kw(s,r,c){if(c===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function db(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var go=null;function Tw(){}function Aw(s,r,c){if(go===null)throw Error(i(475));var d=go;if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Wa(c.href),m=s.querySelector(ho(g));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=pc.bind(d),s.then(d,d)),r.state.loading|=4,r.instance=m,Zt(m);return}m=s.ownerDocument||s,c=ob(c),(g=qn.get(g))&&Dh(c,g),m=m.createElement("link"),Zt(m);var x=m;x._p=new Promise(function(T,j){x.onload=T,x.onerror=j}),nn(m,"link",c),r.instance=m}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=pc.bind(d),s.addEventListener("load",r),s.addEventListener("error",r))}}function Ew(){if(go===null)throw Error(i(475));var s=go;return s.stylesheets&&s.count===0&&Nh(s,s.stylesheets),0<s.count?function(r){var c=setTimeout(function(){if(s.stylesheets&&Nh(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(c)}}:null}function pc(){if(this.count--,this.count===0){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mc=null;function Nh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mc=new Map,r.forEach(jw,s),mc=null,pc.call(s))}function jw(s,r){if(!(r.state.loading&4)){var c=mc.get(s);if(c)var d=c.get(null);else{c=new Map,mc.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var x=g[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),d=x)}d&&c.set(null,d)}g=r.instance,x=g.getAttribute("data-precedence"),m=c.get(x)||d,m===d&&c.set(null,g),c.set(x,g),this.count++,d=pc.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),m?m.parentNode.insertBefore(g,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var po={$$typeof:M,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Mw(s,r,c,d,g,m,x,T){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function hb(s,r,c,d,g,m,x,T,j,H,K,ne){return s=new Mw(s,r,c,x,T,j,H,ne),r=1,m===!0&&(r|=24),m=jn(3,null,null,r),s.current=m,m.stateNode=s,r=md(),r.refCount++,s.pooledCache=r,r.refCount++,m.memoizedState={element:d,isDehydrated:c,cache:r},_d(m),s}function fb(s){return s?(s=Aa,s):Aa}function gb(s,r,c,d,g,m){g=fb(g),d.context===null?d.context=g:d.pendingContext=g,d=Zi(r),d.payload={element:c},m=m===void 0?null:m,m!==null&&(d.callback=m),c=Yi(s,d,r),c!==null&&(Dn(c,s,r),qr(c,s,r))}function pb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<r?c:r}}function Lh(s,r){pb(s,r),(s=s.alternate)&&pb(s,r)}function mb(s){if(s.tag===13){var r=Ta(s,67108864);r!==null&&Dn(r,s,67108864),Lh(s,67108864)}}var bc=!0;function Ow(s,r,c,d){var g=B.T;B.T=null;var m=ie.p;try{ie.p=2,Uh(s,r,c,d)}finally{ie.p=m,B.T=g}}function Rw(s,r,c,d){var g=B.T;B.T=null;var m=ie.p;try{ie.p=8,Uh(s,r,c,d)}finally{ie.p=m,B.T=g}}function Uh(s,r,c,d){if(bc){var g=Ph(d);if(g===null)kh(s,r,d,yc,c),yb(s,d);else if(Dw(g,s,r,c,d))d.stopPropagation();else if(yb(s,d),r&4&&-1<Cw.indexOf(s)){for(;g!==null;){var m=fa(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=ti(m.pendingLanes);if(x!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var j=1<<31-wt(x);T.entanglements[1]|=j,x&=~j}ri(m),(st&6)===0&&(tc=Ae()+500,oo(0))}}break;case 13:T=Ta(m,2),T!==null&&Dn(T,m,2),ic(),Lh(m,2)}if(m=Ph(d),m===null&&kh(s,r,d,yc,c),m===g)break;g=m}g!==null&&d.stopPropagation()}else kh(s,r,d,null,c)}}function Ph(s){return s=Fu(s),Bh(s)}var yc=null;function Bh(s){if(yc=null,s=ha(s),s!==null){var r=o(s);if(r===null)s=null;else{var c=r.tag;if(c===13){if(s=l(r),s!==null)return s;s=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return yc=s,null}function bb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case ze:return 2;case un:return 8;case Mt:case Ft:return 32;case tt:return 268435456;default:return 32}default:return 32}}var $h=!1,rs=null,os=null,ls=null,mo=new Map,bo=new Map,cs=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yb(s,r){switch(s){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":mo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(r.pointerId)}}function yo(s,r,c,d,g,m){return s===null||s.nativeEvent!==m?(s={blockedOn:r,domEventName:c,eventSystemFlags:d,nativeEvent:m,targetContainers:[g]},r!==null&&(r=fa(r),r!==null&&mb(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function Dw(s,r,c,d,g){switch(r){case"focusin":return rs=yo(rs,s,r,c,d,g),!0;case"dragenter":return os=yo(os,s,r,c,d,g),!0;case"mouseover":return ls=yo(ls,s,r,c,d,g),!0;case"pointerover":var m=g.pointerId;return mo.set(m,yo(mo.get(m)||null,s,r,c,d,g)),!0;case"gotpointercapture":return m=g.pointerId,bo.set(m,yo(bo.get(m)||null,s,r,c,d,g)),!0}return!1}function vb(s){var r=ha(s.target);if(r!==null){var c=o(r);if(c!==null){if(r=c.tag,r===13){if(r=l(c),r!==null){s.blockedOn=r,Jt(s.priority,function(){if(c.tag===13){var d=Cn();d=We(d);var g=Ta(c,d);g!==null&&Dn(g,c,d),Lh(c,d)}});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vc(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var c=Ph(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);Hu=d,c.target.dispatchEvent(d),Hu=null}else return r=fa(c),r!==null&&mb(r),s.blockedOn=c,!1;r.shift()}return!0}function _b(s,r,c){vc(s)&&c.delete(r)}function zw(){$h=!1,rs!==null&&vc(rs)&&(rs=null),os!==null&&vc(os)&&(os=null),ls!==null&&vc(ls)&&(ls=null),mo.forEach(_b),bo.forEach(_b)}function _c(s,r){s.blockedOn===r&&(s.blockedOn=null,$h||($h=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zw)))}var xc=null;function xb(s){xc!==s&&(xc=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xc===s&&(xc=null);for(var r=0;r<s.length;r+=3){var c=s[r],d=s[r+1],g=s[r+2];if(typeof d!="function"){if(Bh(d||c)===null)continue;break}var m=fa(c);m!==null&&(s.splice(r,3),r-=3,Bd(m,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function vo(s){function r(j){return _c(j,s)}rs!==null&&_c(rs,s),os!==null&&_c(os,s),ls!==null&&_c(ls,s),mo.forEach(r),bo.forEach(r);for(var c=0;c<cs.length;c++){var d=cs[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<cs.length&&(c=cs[0],c.blockedOn===null);)vb(c),c.blockedOn===null&&cs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],m=c[d+1],x=g[mn]||null;if(typeof m=="function")x||xb(c);else if(x){var T=null;if(m&&m.hasAttribute("formAction")){if(g=m,x=m[mn]||null)T=x.formAction;else if(Bh(g)!==null)continue}else T=x.action;typeof T=="function"?c[d+1]=T:(c.splice(d,3),d-=3),xb(c)}}}function Ih(s){this._internalRoot=s}Sc.prototype.render=Ih.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var c=r.current,d=Cn();gb(c,d,s,r,null,null)},Sc.prototype.unmount=Ih.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;gb(s.current,2,null,s,null,null),ic(),r[da]=null}};function Sc(s){this._internalRoot=s}Sc.prototype.unstable_scheduleHydration=function(s){if(s){var r=Qe();s={blockedOn:null,target:s,priority:r};for(var c=0;c<cs.length&&r!==0&&r<cs[c].priority;c++);cs.splice(c,0,s),c===0&&vb(s)}};var Sb=e.version;if(Sb!=="19.1.0")throw Error(i(527,Sb,"19.1.0"));ie.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(r),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var Nw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Ot=wc.inject(Nw),Ke=wc}catch{}}return xo.createRoot=function(s,r){if(!a(s))throw Error(i(299));var c=!1,d="",g=Pm,m=Bm,x=$m,T=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=hb(s,1,!1,null,null,c,d,g,m,x,T,null),s[da]=r.current,wh(s),new Ih(r)},xo.hydrateRoot=function(s,r,c){if(!a(s))throw Error(i(299));var d=!1,g="",m=Pm,x=Bm,T=$m,j=null,H=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(m=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(j=c.unstable_transitionCallbacks),c.formState!==void 0&&(H=c.formState)),r=hb(s,1,!0,r,c??null,d,g,m,x,T,j,H),r.context=fb(null),c=r.current,d=Cn(),d=We(d),g=Zi(d),g.callback=null,Yi(c,g,d),c=d,r.current.lanes=c,Re(r,c),ri(r),s[da]=r.current,wh(s),new Sc(r)},xo.version="19.1.0",xo}var Cb;function Gw(){if(Cb)return qh.exports;Cb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qh.exports=Ww(),qh.exports}var Xw=Gw();const Kw=sg(Xw);u_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Go.apply(this,arguments)}var ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ps||(ps={}));const Db="popstate";function Qw(t){t===void 0&&(t={});function e(i,a){let{pathname:o,search:l,hash:u}=i.location;return Sf("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:ou(a)}return e2(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function d_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jw(){return Math.random().toString(36).substr(2,8)}function zb(t,e){return{usr:t.state,key:t.key,idx:e}}function Sf(t,e,n,i){return n===void 0&&(n=null),Go({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yr(e):e,{state:n,key:e&&e.key||i||Jw()})}function ou(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function yr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function e2(t,e,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,l=a.history,u=ps.Pop,h=null,f=p();f==null&&(f=0,l.replaceState(Go({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function b(){u=ps.Pop;let w=p(),E=w==null?null:w-f;f=w,h&&h({action:u,location:k.location,delta:E})}function v(w,E){u=ps.Push;let O=Sf(k.location,w,E);f=p()+1;let M=zb(O,f),z=k.createHref(O);try{l.pushState(M,"",z)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(z)}o&&h&&h({action:u,location:k.location,delta:1})}function _(w,E){u=ps.Replace;let O=Sf(k.location,w,E);f=p();let M=zb(O,f),z=k.createHref(O);l.replaceState(M,"",z),o&&h&&h({action:u,location:k.location,delta:0})}function S(w){let E=a.location.origin!=="null"?a.location.origin:a.location.href,O=typeof w=="string"?w:ou(w);return O=O.replace(/ $/,"%20"),zt(E,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,E)}let k={get action(){return u},get location(){return t(a,l)},listen(w){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Db,b),h=w,()=>{a.removeEventListener(Db,b),h=null}},createHref(w){return e(a,w)},createURL:S,encodeLocation(w){let E=S(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:_,go(w){return l.go(w)}};return k}var Nb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Nb||(Nb={}));function t2(t,e,n){return n===void 0&&(n="/"),n2(t,e,n)}function n2(t,e,n,i){let a=typeof e=="string"?yr(e):e,o=og(a.pathname||"/",n);if(o==null)return null;let l=h_(t);i2(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=p2(o);u=h2(l[h],f)}return u}function h_(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(zt(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=xs([i,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(zt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),h_(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:u2(f,o.index),routesMeta:p})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let h of f_(o.path))a(o,l,h)}),e}function f_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let l=f_(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),a&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function i2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const s2=/^:[\w-]+$/,a2=3,r2=2,o2=1,l2=10,c2=-2,Lb=t=>t==="*";function u2(t,e){let n=t.split("/"),i=n.length;return n.some(Lb)&&(i+=c2),e&&(i+=r2),n.filter(a=>!Lb(a)).reduce((a,o)=>a+(s2.test(o)?a2:o===""?o2:l2),i)}function d2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function h2(t,e,n){let{routesMeta:i}=t,a={},o="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",b=f2({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),v=h.route;if(!b)return null;Object.assign(a,b.params),l.push({params:a,pathname:xs([o,b.pathname]),pathnameBase:v2(xs([o,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(o=xs([o,b.pathnameBase]))}return l}function f2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=g2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((f,p,b)=>{let{paramName:v,isOptional:_}=p;if(v==="*"){let k=u[b]||"";l=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const S=u[b];return _&&!S?f[v]=void 0:f[v]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function g2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),d_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function p2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return d_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function og(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function m2(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?yr(t):t;return{pathname:n?n.startsWith("/")?n:b2(n,e):e,search:_2(i),hash:x2(a)}}function b2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Wh(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lg(t,e){let n=y2(t);return e?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function cg(t,e,n,i){i===void 0&&(i=!1);let a;typeof t=="string"?a=yr(t):(a=Go({},t),zt(!a.pathname||!a.pathname.includes("?"),Wh("?","pathname","search",a)),zt(!a.pathname||!a.pathname.includes("#"),Wh("#","pathname","hash",a)),zt(!a.search||!a.search.includes("#"),Wh("#","search","hash",a)));let o=t===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=n;else{let b=e.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),b-=1;a.pathname=v.join("/")}u=b>=0?e[b]:"/"}let h=m2(a,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}const xs=t=>t.join("/").replace(/\/\/+/g,"/"),v2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const g_=["post","put","patch","delete"];new Set(g_);const w2=["get",...g_];new Set(w2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xo.apply(this,arguments)}const ug=R.createContext(null),k2=R.createContext(null),Ts=R.createContext(null),xu=R.createContext(null),Pi=R.createContext({outlet:null,matches:[],isDataRoute:!1}),p_=R.createContext(null);function T2(t,e){let{relative:n}=e===void 0?{}:e;vr()||zt(!1);let{basename:i,navigator:a}=R.useContext(Ts),{hash:o,pathname:l,search:u}=b_(t,{relative:n}),h=l;return i!=="/"&&(h=l==="/"?i:xs([i,l])),a.createHref({pathname:h,search:u,hash:o})}function vr(){return R.useContext(xu)!=null}function _r(){return vr()||zt(!1),R.useContext(xu).location}function m_(t){R.useContext(Ts).static||R.useLayoutEffect(t)}function Bi(){let{isDataRoute:t}=R.useContext(Pi);return t?B2():A2()}function A2(){vr()||zt(!1);let t=R.useContext(ug),{basename:e,future:n,navigator:i}=R.useContext(Ts),{matches:a}=R.useContext(Pi),{pathname:o}=_r(),l=JSON.stringify(lg(a,n.v7_relativeSplatPath)),u=R.useRef(!1);return m_(()=>{u.current=!0}),R.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){i.go(f);return}let b=cg(f,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:xs([e,b.pathname])),(p.replace?i.replace:i.push)(b,p.state,p)},[e,i,l,o,t])}function E2(){let{matches:t}=R.useContext(Pi),e=t[t.length-1];return e?e.params:{}}function b_(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=R.useContext(Ts),{matches:a}=R.useContext(Pi),{pathname:o}=_r(),l=JSON.stringify(lg(a,i.v7_relativeSplatPath));return R.useMemo(()=>cg(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function j2(t,e){return M2(t,e)}function M2(t,e,n,i){vr()||zt(!1);let{navigator:a}=R.useContext(Ts),{matches:o}=R.useContext(Pi),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=_r(),p;if(e){var b;let w=typeof e=="string"?yr(e):e;h==="/"||(b=w.pathname)!=null&&b.startsWith(h)||zt(!1),p=w}else p=f;let v=p.pathname||"/",_=v;if(h!=="/"){let w=h.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=t2(t,{pathname:_}),k=z2(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:xs([h,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:xs([h,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,i);return e&&k?R.createElement(xu.Provider,{value:{location:Xo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ps.Pop}},k):k}function O2(){let t=P2(),e=S2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,null)}const R2=R.createElement(O2,null);class C2 extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Pi.Provider,{value:this.props.routeContext},R.createElement(p_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D2(t){let{routeContext:e,match:n,children:i}=t,a=R.useContext(ug);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Pi.Provider,{value:e},i)}function z2(t,e,n,i){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let p=l.findIndex(b=>b.route.id&&(u==null?void 0:u[b.route.id])!==void 0);p>=0||zt(!1),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let p=0;p<l.length;p++){let b=l[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=p),b.route.id){let{loaderData:v,errors:_}=n,S=b.route.loader&&v[b.route.id]===void 0&&(!_||_[b.route.id]===void 0);if(b.route.lazy||S){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,b,v)=>{let _,S=!1,k=null,w=null;n&&(_=u&&b.route.id?u[b.route.id]:void 0,k=b.route.errorElement||R2,h&&(f<0&&v===0?($2("route-fallback"),S=!0,w=null):f===v&&(S=!0,w=b.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,v+1)),O=()=>{let M;return _?M=k:S?M=w:b.route.Component?M=R.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=p,R.createElement(D2,{match:b,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:M})};return n&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?R.createElement(C2,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:O(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):O()},null)}var y_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(y_||{}),v_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(v_||{});function N2(t){let e=R.useContext(ug);return e||zt(!1),e}function L2(t){let e=R.useContext(k2);return e||zt(!1),e}function U2(t){let e=R.useContext(Pi);return e||zt(!1),e}function __(t){let e=U2(),n=e.matches[e.matches.length-1];return n.route.id||zt(!1),n.route.id}function P2(){var t;let e=R.useContext(p_),n=L2(),i=__();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function B2(){let{router:t}=N2(y_.UseNavigateStable),e=__(v_.UseNavigateStable),n=R.useRef(!1);return m_(()=>{n.current=!0}),R.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Xo({fromRouteId:e},o)))},[t,e])}const Ub={};function $2(t,e,n){Ub[t]||(Ub[t]=!0)}function I2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function H2(t){let{to:e,replace:n,state:i,relative:a}=t;vr()||zt(!1);let{future:o,static:l}=R.useContext(Ts),{matches:u}=R.useContext(Pi),{pathname:h}=_r(),f=Bi(),p=cg(e,lg(u,o.v7_relativeSplatPath),h,a==="path"),b=JSON.stringify(p);return R.useEffect(()=>f(JSON.parse(b),{replace:n,state:i,relative:a}),[f,b,a,n,i]),null}function ji(t){zt(!1)}function F2(t){let{basename:e="/",children:n=null,location:i,navigationType:a=ps.Pop,navigator:o,static:l=!1,future:u}=t;vr()&&zt(!1);let h=e.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:h,navigator:o,static:l,future:Xo({v7_relativeSplatPath:!1},u)}),[h,u,o,l]);typeof i=="string"&&(i=yr(i));let{pathname:p="/",search:b="",hash:v="",state:_=null,key:S="default"}=i,k=R.useMemo(()=>{let w=og(p,h);return w==null?null:{location:{pathname:w,search:b,hash:v,state:_,key:S},navigationType:a}},[h,p,b,v,_,S,a]);return k==null?null:R.createElement(Ts.Provider,{value:f},R.createElement(xu.Provider,{children:n,value:k}))}function q2(t){let{children:e,location:n}=t;return j2(wf(e),n)}new Promise(()=>{});function wf(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(i,a)=>{if(!R.isValidElement(i))return;let o=[...e,a];if(i.type===R.Fragment){n.push.apply(n,wf(i.props.children,o));return}i.type!==ji&&zt(!1),!i.props.index||!i.props.children||zt(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=wf(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kf.apply(this,arguments)}function V2(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Z2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Y2(t,e){return t.button===0&&(!e||e==="_self")&&!Z2(t)}const W2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G2="6";try{window.__reactRouterVersion=G2}catch{}const X2="startTransition",Pb=qw[X2];function K2(t){let{basename:e,children:n,future:i,window:a}=t,o=R.useRef();o.current==null&&(o.current=Qw({window:a,v5Compat:!0}));let l=o.current,[u,h]=R.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},p=R.useCallback(b=>{f&&Pb?Pb(()=>h(b)):h(b)},[h,f]);return R.useLayoutEffect(()=>l.listen(p),[l,p]),R.useEffect(()=>I2(i),[i]),R.createElement(F2,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:i})}const Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ek=R.forwardRef(function(e,n){let{onClick:i,relative:a,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:b}=e,v=V2(e,W2),{basename:_}=R.useContext(Ts),S,k=!1;if(typeof f=="string"&&J2.test(f)&&(S=f,Q2))try{let M=new URL(window.location.href),z=f.startsWith("//")?new URL(M.protocol+f):new URL(f),C=og(z.pathname,_);z.origin===M.origin&&C!=null?f=C+z.search+z.hash:k=!0}catch{}let w=T2(f,{relative:a}),E=tk(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:a,viewTransition:b});function O(M){i&&i(M),M.defaultPrevented||E(M)}return R.createElement("a",kf({},v,{href:S||w,onClick:k||o?i:O,ref:n,target:h}))});var Bb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bb||(Bb={}));var $b;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($b||($b={}));function tk(t,e){let{target:n,replace:i,state:a,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,h=Bi(),f=_r(),p=b_(t,{relative:l});return R.useCallback(b=>{if(Y2(b,n)){b.preventDefault();let v=i!==void 0?i:ou(f)===ou(p);h(t,{replace:v,state:a,preventScrollReset:o,relative:l,viewTransition:u})}},[f,h,p,i,a,n,t,o,l,u])}const Gh="https://api.ownertechnology.com",Xh="auth_token",Tc="auth_user";async function Ib(t){const e=await t.text();try{return e?JSON.parse(e):null}catch{return{raw:e}}}class nk{constructor(){this.baseUrl=Gh}getToken(){return localStorage.getItem(Xh)}getUser(){try{return JSON.parse(localStorage.getItem(Tc)||"null")}catch{return null}}getPermissions(){const e=localStorage.getItem("permissions");return e?JSON.parse(e):{}}setPermissions(e){localStorage.setItem("permissions",JSON.stringify(e))}hasAccess(e){const n=this.getPermissions(),i=this.getUser();return(i==null?void 0:i.role)==="admin"?!0:n[e]===!0}clearAuth(){localStorage.removeItem(Xh),localStorage.removeItem(Tc),localStorage.removeItem("permissions")}async request(e,n={}){const i=`${this.baseUrl}${e}`,a=this.getToken(),o={...n,headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...n.headers}};console.log("[API] Request:",{url:i,method:o.method,body:n.body});const l=await fetch(i,o);if(console.log("[API] Response:",{status:l.status,ok:l.ok}),l.status===401){this.clearAuth(),window.location.href="/login";return}if(!l.ok){const u=await l.json().catch(()=>({}));throw console.error("[API] Error:",u),new Error(u.detail||"Erreur API")}return l.json()}async get(e){return this.request(e,{method:"GET"})}async post(e,n){return this.request(e,{method:"POST",body:JSON.stringify(n)})}async patch(e,n){return this.request(e,{method:"PATCH",body:JSON.stringify(n)})}async delete(e){return this.request(e,{method:"DELETE"})}async login(e,n){const i=await fetch(`${Gh}/api/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:String(e).trim().toLowerCase(),password:String(n)})}),a=await Ib(i);if(!i.ok){const h=(a==null?void 0:a.detail)||(a==null?void 0:a.message)||(a==null?void 0:a.error)||`Erreur login (HTTP ${i.status})`;throw new Error(h)}const o=(a==null?void 0:a.data)??a,l=(o==null?void 0:o.access_token)||(o==null?void 0:o.token)||(o==null?void 0:o.accessToken)||null;if(!l)throw console.error("Login payload unexpected:",a),new Error("Rponse login invalide : token manquant.");const u=(o==null?void 0:o.user)??null;return localStorage.setItem(Xh,l),u?localStorage.setItem(Tc,JSON.stringify(u)):localStorage.removeItem(Tc),o.permissions&&this.setPermissions(o.permissions),o}async getMe(){const e=this.getToken();if(!e)throw new Error("No token");const n=await fetch(`${Gh}/api/v1/auth/me`,{headers:{Authorization:`Bearer ${e}`}}),i=await Ib(n);if(!n.ok){const a=(i==null?void 0:i.detail)||(i==null?void 0:i.message)||`HTTP ${n.status}`;throw new Error(a)}return(i==null?void 0:i.data)??i}logout(){this.clearAuth(),window.location.href="/login"}async getLeads(e={}){const n=new URLSearchParams(e).toString();return this.request(`/api/v1/leads${n?`?${n}`:""}`)}async getLead(e){return this.request(`/api/v1/leads/${e}`)}async updateLead(e,n){return this.request(`/api/v1/leads/${e}`,{method:"PATCH",body:JSON.stringify(n)})}async assignLead(e,n){return this.request(`/api/v1/leads/${e}/assign`,{method:"POST",body:JSON.stringify({assigned_to:n})})}async unassignLead(e){return this.request(`/api/v1/leads/${e}/unassign`,{method:"POST"})}async getAssignableUsers(){return this.request("/api/v1/users/assignable")}async getMyLeads(){return this.request("/api/v1/tracking/my-leads")}async updateTracking(e,n){return this.request(`/api/v1/tracking/${e}`,{method:"PATCH",body:JSON.stringify(n)})}async getUsers(){return this.request("/api/v1/users")}async createUser(e){return this.request("/api/v1/users",{method:"POST",body:JSON.stringify(e)})}async getLeaderboardStats(e="current_month"){return this.request(`/api/v1/leaderboard/stats?period=${e}`)}async getLeadQuality(e="current_month"){return this.request(`/api/v1/monitoring/lead-quality?period=${e}`)}async getLeaderboardChart(){return this.request("/api/v1/leaderboard/chart")}}const we=new nk;var tu={exports:{}},ik=tu.exports,Hb;function sk(){return Hb||(Hb=1,function(t,e){(function(n,i){i()})(ik,function(){function n(f,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function i(f,p,b){var v=new XMLHttpRequest;v.open("GET",f),v.responseType="blob",v.onload=function(){h(v.response,p,b)},v.onerror=function(){console.error("could not download file")},v.send()}function a(f){var p=new XMLHttpRequest;p.open("HEAD",f,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(p)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof kc=="object"&&kc.global===kc?kc:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(f,p,b){var v=l.URL||l.webkitURL,_=document.createElement("a");p=p||f.name||"download",_.download=p,_.rel="noopener",typeof f=="string"?(_.href=f,_.origin===location.origin?o(_):a(_.href)?i(f,p,b):o(_,_.target="_blank")):(_.href=v.createObjectURL(f),setTimeout(function(){v.revokeObjectURL(_.href)},4e4),setTimeout(function(){o(_)},0))}:"msSaveOrOpenBlob"in navigator?function(f,p,b){if(p=p||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(n(f,b),p);else if(a(f))i(f,p,b);else{var v=document.createElement("a");v.href=f,v.target="_blank",setTimeout(function(){o(v)})}}:function(f,p,b,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof f=="string")return i(f,p,b);var _=f.type==="application/octet-stream",S=/constructor/i.test(l.HTMLElement)||l.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||_&&S||u)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var M=w.result;M=k?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=M:location=M,v=null},w.readAsDataURL(f)}else{var E=l.URL||l.webkitURL,O=E.createObjectURL(f);v?v.location=O:location.href=O,v=null,setTimeout(function(){E.revokeObjectURL(O)},4e4)}});l.saveAs=h.saveAs=h,t.exports=h})}(tu)),tu.exports}sk();const Su="/assets/my_image-B1WSx5nz.png",ol="/assets/my_image2-C8QHlkHG.png",Tf="/assets/1st-place-Bi-IZpo5.png",Af="/assets/2st-place-BBjlYcTl.png",Ef="/assets/3st-place-BWYBywSS.png",ak="/assets/light-cqFuIf6H.png",rk="/assets/dark-CN2tlPiE.png",ok="/assets/trophy-DMiZU9TF.png",lk="/assets/icon1-CbvqETr1.png",ck="/assets/icon2-CAeZAv-k.png",uk="/assets/icon3-CxxAsVwA.png",dk="/assets/crown-AoNsNfU-.png",hk="modulepreload",fk=function(t){return"/"+t},Fb={},ll=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=l(n.map(f=>{if(f=fk(f),f in Fb)return;Fb[f]=!0;const p=f.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${b}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":hk,p||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((_,S)=>{v.addEventListener("load",_),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},gk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ll(async()=>{const{default:i}=await Promise.resolve().then(()=>xr);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class dg extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class pk extends dg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mk extends dg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bk extends dg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jf||(jf={}));var yk=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(b){l(b)}}function h(p){try{f(i.throw(p))}catch(b){l(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,h)}f((i=i.apply(t,e||[])).next())})};class vk{constructor(e,{headers:n={},customFetch:i,region:a=jf.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=gk(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return yk(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:l}=n;let u={},{region:h}=n;h||(h=this.region),h&&h!=="any"&&(u["x-region"]=h);let f;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:f}).catch(S=>{throw new pk(S)}),b=p.headers.get("x-relay-error");if(b&&b==="true")throw new mk(p);if(!p.ok)throw new bk(p);let v=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield p.json():v==="application/octet-stream"?_=yield p.blob():v==="text/event-stream"?_=p:v==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null}}catch(a){return{data:null,error:a}}})}}var Xt={},Xa={},Ka={},Qa={},Ja={},er={},_k=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gr=_k();const xk=gr.fetch,x_=gr.fetch.bind(gr),S_=gr.Headers,Sk=gr.Request,wk=gr.Response,xr=Object.freeze(Object.defineProperty({__proto__:null,Headers:S_,Request:Sk,Response:wk,default:x_,fetch:xk},Symbol.toStringTag,{value:"Module"})),kk=$w(xr);var Ac={},qb;function w_(){if(qb)return Ac;qb=1,Object.defineProperty(Ac,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ac.default=t,Ac}var Vb;function k_(){if(Vb)return er;Vb=1;var t=er&&er.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(er,"__esModule",{value:!0});const e=t(kk),n=t(w_());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,b,v;let _=null,S=null,k=null,w=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const C=await f.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=C:S=JSON.parse(C))}const M=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),z=(b=f.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");M&&z&&z.length>1&&(k=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,w=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const M=await f.text();try{_=JSON.parse(M),Array.isArray(_)&&f.status===404&&(S=[],_=null,w=200,E="OK")}catch{f.status===404&&M===""?(w=204,E="No Content"):_={message:M}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,w=200,E="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:S,count:k,status:w,statusText:E}});return this.shouldThrowOnError||(h=h.catch(f=>{var p,b,v;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(b=f==null?void 0:f.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}}return er.default=i,er}var Zb;function T_(){if(Zb)return Ja;Zb=1;var t=Ja&&Ja.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ja,"__esModule",{value:!0});const e=t(k_());class n extends e.default{select(a){let o=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${a}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,o,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(f,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:f="text"}={}){var p;const b=[a?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${v}"; options=${b};`,f==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ja.default=n,Ja}var Yb;function hg(){if(Yb)return Qa;Yb=1;var t=Qa&&Qa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qa,"__esModule",{value:!0});const e=t(T_());class n extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${h}fts${f}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return Qa.default=n,Qa}var Wb;function A_(){if(Wb)return Ka;Wb=1;var t=Ka&&Ka.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ka,"__esModule",{value:!0});const e=t(hg());class n{constructor(a,{headers:o={},schema:l,fetch:u}){this.url=a,this.headers=o,this.schema=l,this.fetch=u}select(a,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let h=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:o,defaultToNull:l=!0}={}){const u="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const f=a.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(f.length>0){const p=[...new Set(f)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){const f="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),h||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(a)){const b=a.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(b.length>0){const v=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const o="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ka.default=n,Ka}var So={},wo={},Gb;function Tk(){return Gb||(Gb=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.version=void 0,wo.version="0.0.0-automated"),wo}var Xb;function Ak(){if(Xb)return So;Xb=1,Object.defineProperty(So,"__esModule",{value:!0}),So.DEFAULT_HEADERS=void 0;const t=Tk();return So.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},So}var Kb;function Ek(){if(Kb)return Xa;Kb=1;var t=Xa&&Xa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Xa,"__esModule",{value:!0});const e=t(A_()),n=t(hg()),i=Ak();class a{constructor(l,{headers:u={},schema:h,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),u),this.schemaName=h,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:f=!1,count:p}={}){let b;const v=new URL(`${this.url}/rpc/${l}`);let _;h||f?(b=h?"HEAD":"GET",Object.entries(u).filter(([k,w])=>w!==void 0).map(([k,w])=>[k,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([k,w])=>{v.searchParams.append(k,w)})):(b="POST",_=u);const S=Object.assign({},this.headers);return p&&(S.Prefer=`count=${p}`),new n.default({method:b,url:v,headers:S,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Xa.default=a,Xa}var Qb;function jk(){if(Qb)return Xt;Qb=1;var t=Xt&&Xt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.PostgrestError=Xt.PostgrestBuilder=Xt.PostgrestTransformBuilder=Xt.PostgrestFilterBuilder=Xt.PostgrestQueryBuilder=Xt.PostgrestClient=void 0;const e=t(Ek());Xt.PostgrestClient=e.default;const n=t(A_());Xt.PostgrestQueryBuilder=n.default;const i=t(hg());Xt.PostgrestFilterBuilder=i.default;const a=t(T_());Xt.PostgrestTransformBuilder=a.default;const o=t(k_());Xt.PostgrestBuilder=o.default;const l=t(w_());return Xt.PostgrestError=l.default,Xt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:l.default},Xt}var Mk=jk();const Ok=sg(Mk),{PostgrestClient:Rk,PostgrestQueryBuilder:xN,PostgrestFilterBuilder:SN,PostgrestTransformBuilder:wN,PostgrestBuilder:kN,PostgrestError:TN}=Ok;let Mf;typeof window>"u"?Mf=require("ws"):Mf=window.WebSocket;const Ck="2.11.10",Dk={"X-Client-Info":`realtime-js/${Ck}`},zk="1.0.0",E_=1e4,Nk=1e3;var dr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(dr||(dr={}));var gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gn||(gn={}));var Kn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Kn||(Kn={}));var Of;(function(t){t.websocket="websocket"})(Of||(Of={}));var na;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(na||(na={}));class Lk{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const a=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=i.decode(e.slice(l,l+a));l=l+a;const h=i.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(i.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:h,payload:f}}}class j_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ht||(ht={}));const Jb=(t,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((o,l)=>(o[l]=Uk(l,t,e,a),o),{})},Uk=(t,e,n,i)=>{const a=e.find(u=>u.name===t),o=a==null?void 0:a.type,l=n[t];return o&&!i.includes(o)?M_(o,l):Rf(l)},M_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ik(e,n)}switch(t){case ht.bool:return Pk(e);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return Bk(e);case ht.json:case ht.jsonb:return $k(e);case ht.timestamp:return Hk(e);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return Rf(e);default:return Rf(e)}},Rf=t=>t,Pk=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Bk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$k=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ik=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>M_(e,u))}return t},Hk=t=>typeof t=="string"?t.replace(" ","T"):t,O_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Kh{constructor(e,n,i={},a=E_){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ey;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ey||(ey={}));class No{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=No.syncState(this.state,a,o,l),this.pendingDiffs.forEach(h=>{this.state=No.syncDiff(this.state,h,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=No.syncDiff(this.state,a,o,l),u())}),this.onJoin((a,o,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:l})}),this.onLeave((a,o,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const o=this.cloneDeep(e),l=this.transformState(n),u={},h={};return this.map(o,(f,p)=>{l[f]||(h[f]=p)}),this.map(l,(f,p)=>{const b=o[f];if(b){const v=p.map(w=>w.presence_ref),_=b.map(w=>w.presence_ref),S=p.filter(w=>_.indexOf(w.presence_ref)<0),k=b.filter(w=>v.indexOf(w.presence_ref)<0);S.length>0&&(u[f]=S),k.length>0&&(h[f]=k)}else u[f]=p}),this.syncDiff(o,{joins:u,leaves:h},i,a)}static syncDiff(e,n,i,a){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(u,h)=>{var f;const p=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(h),p.length>0){const b=e[u].map(_=>_.presence_ref),v=p.filter(_=>b.indexOf(_.presence_ref)<0);e[u].unshift(...v)}i(u,p,h)}),this.map(l,(u,h)=>{let f=e[u];if(!f)return;const p=h.map(b=>b.presence_ref);f=f.filter(b=>p.indexOf(b.presence_ref)<0),e[u]=f,a(u,f,h),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ty;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ty||(ty={}));var ny;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ny||(ny={}));var Ci;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));class fg{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kh(this,Kn.join,this.params,this.timeout),this.rejoinTimer=new j_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kn.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new No(this),this.broadcastEndpointURL=O_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(p=>e==null?void 0:e(Ci.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Ci.CLOSED));const h={},f={broadcast:o,presence:l,postgres_changes:(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(p=>p.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){e==null||e(Ci.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,S=[];for(let k=0;k<_;k++){const w=v[k],{filter:{event:E,schema:O,table:M,filter:z}}=w,C=p&&p[k];if(C&&C.event===E&&C.schema===O&&C.table===M&&C.filter===z)S.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=gn.errored,e==null||e(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Ci.SUBSCRIBED);return}}).receive("error",p=>{this.state=gn.errored,e==null||e(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(i=>{const a=new Kh(this,Kn.leave,{},e);a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),l}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Kh(this,e,n,i);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,o;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:f,join:p}=Kn;if(i&&[u,h,f,p].indexOf(l)>=0&&i!==this._joinRef())return;let v=this._onMessage(l,n,i);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var S,k,w;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((w=(k=_.filter)===null||k===void 0?void 0:k.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===l}).map(_=>_.callback(v,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var S,k,w,E,O,M;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const z=_.id,C=(S=_.filter)===null||S===void 0?void 0:S.event;return z&&((k=n.ids)===null||k===void 0?void 0:k.includes(z))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const z=(O=(E=_==null?void 0:_.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return z==="*"||z===((M=n==null?void 0:n.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:k,table:w,commit_timestamp:E,type:O,errors:M}=S;v=Object.assign(Object.assign({},{schema:k,table:w,commit_timestamp:E,eventType:O,new:{},old:{},errors:M}),this._getPayloadRecords(S))}_.callback(v,i)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),o={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&fg.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Kn.close,{},e)}_onError(e){this._on(Kn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Jb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Jb(e.columns,e.old_record)),n}}const iy=()=>{},Fk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qk{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Dk,this.params={},this.timeout=E_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iy,this.ref=0,this.logger=iy,this.conn=null,this.sendBuffer=[],this.serializer=new Lk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>ll(async()=>{const{default:h}=await Promise.resolve().then(()=>xr);return{default:h}},void 0).then(({default:h})=>h(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${Of.websocket}`,this.httpEndpoint=O_(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,l)=>l(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new j_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Mf),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Vk(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zk}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(i=>i._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case dr.connecting:return na.Connecting;case dr.open:return na.Open;case dr.closing:return na.Closing;default:return na.Closed}}isConnected(){return this.connectionState()===na.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new fg(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:i,payload:a,ref:o}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${n} ${i} (${o})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),i.joinedOnce&&i._isJoined()&&i._push(Kn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Nk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:a,payload:o,ref:l}=n;i==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${a} ${l&&"("+l+")"||""}`,o),Array.from(this.channels).filter(u=>u._isMember(i)).forEach(u=>u._trigger(a,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Kn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([Fk],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class Vk{constructor(e,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class gg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Kt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zk extends gg{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cf extends gg{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Yk=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(b){l(b)}}function h(p){try{f(i.throw(p))}catch(b){l(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,h)}f((i=i.apply(t,e||[])).next())})};const R_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ll(async()=>{const{default:i}=await Promise.resolve().then(()=>xr);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},Wk=()=>Yk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ll(()=>Promise.resolve().then(()=>xr),void 0)).Response:Response}),Df=t=>{if(Array.isArray(t))return t.map(n=>Df(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Df(i)}),e};var ca=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(b){l(b)}}function h(p){try{f(i.throw(p))}catch(b){l(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,h)}f((i=i.apply(t,e||[])).next())})};const Qh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gk=(t,e,n)=>ca(void 0,void 0,void 0,function*(){const i=yield Wk();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{e(new Zk(Qh(a),t.status||500))}).catch(a=>{e(new Cf(Qh(a),a))}):e(new Cf(Qh(t),t))}),Xk=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(a.body=JSON.stringify(i)),Object.assign(Object.assign({},a),n))};function cl(t,e,n,i,a,o){return ca(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,Xk(e,i,a,o)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>Gk(h,u,i))})})}function lu(t,e,n,i){return ca(this,void 0,void 0,function*(){return cl(t,"GET",e,n,i)})}function fs(t,e,n,i,a){return ca(this,void 0,void 0,function*(){return cl(t,"POST",e,i,a,n)})}function Kk(t,e,n,i,a){return ca(this,void 0,void 0,function*(){return cl(t,"PUT",e,i,a,n)})}function Qk(t,e,n,i){return ca(this,void 0,void 0,function*(){return cl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function C_(t,e,n,i,a){return ca(this,void 0,void 0,function*(){return cl(t,"DELETE",e,i,a,n)})}var xn=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(b){l(b)}}function h(p){try{f(i.throw(p))}catch(b){l(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,h)}f((i=i.apply(t,e||[])).next())})};const Jk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eT{constructor(e,n={},i,a){this.url=e,this.headers=n,this.bucketId=i,this.fetch=R_(a)}uploadOrUpdate(e,n,i,a){return xn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},sy),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=i,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),b=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),v=yield b.json();return b.ok?{data:{path:f,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(Kt(o))return{data:null,error:o};throw o}})}upload(e,n,i){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,a){return xn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let h;const f=Object.assign({upsert:sy.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",f.cacheControl)):(h=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const b=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:p}),v=yield b.json();return b.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(h){if(Kt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return xn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const o=yield fs(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new gg("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}update(e,n,i){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return xn(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}copy(e,n,i){return xn(this,void 0,void 0,function*(){try{return{data:{path:(yield fs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,i){return xn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield fs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,i){return xn(this,void 0,void 0,function*(){try{const a=yield fs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}download(e,n){return xn(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield lu(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Kt(u))return{data:null,error:u};throw u}})}info(e){return xn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield lu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Df(i),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}exists(e){return xn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Qk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Kt(i)&&i instanceof Cf){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),a=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&a.push(h);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${f}`)}}}remove(e){return xn(this,void 0,void 0,function*(){try{return{data:yield C_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}list(e,n,i){return xn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Jk),n),{prefix:e||""});return{data:yield fs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const tT="2.7.1",nT={"X-Client-Info":`storage-js/${tT}`};var tr=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(b){l(b)}}function h(p){try{f(i.throw(p))}catch(b){l(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,h)}f((i=i.apply(t,e||[])).next())})};class iT{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},nT),n),this.fetch=R_(i)}listBuckets(){return tr(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Kt(e))return{data:null,error:e};throw e}})}getBucket(e){return tr(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return tr(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return tr(this,void 0,void 0,function*(){try{return{data:yield Kk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return tr(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return tr(this,void 0,void 0,function*(){try{return{data:yield C_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}}class sT extends iT{constructor(e,n={},i){super(e,n,i)}from(e){return new eT(this.url,this.headers,e,this.fetch)}}const aT="2.50.0";let Oo="";typeof Deno<"u"?Oo="deno":typeof document<"u"?Oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oo="react-native":Oo="node";const rT={"X-Client-Info":`supabase-js-${Oo}/${aT}`},oT={headers:rT},lT={schema:"public"},cT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uT={};var dT=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(b){l(b)}}function h(p){try{f(i.throw(p))}catch(b){l(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,h)}f((i=i.apply(t,e||[])).next())})};const hT=t=>{let e;return t?e=t:typeof fetch>"u"?e=x_:e=fetch,(...n)=>e(...n)},fT=()=>typeof Headers>"u"?S_:Headers,gT=(t,e,n)=>{const i=hT(n),a=fT();return(o,l)=>dT(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:t;let f=new a(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),i(o,Object.assign(Object.assign({},l),{headers:f}))})};var pT=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(b){l(b)}}function h(p){try{f(i.throw(p))}catch(b){l(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,h)}f((i=i.apply(t,e||[])).next())})};function mT(t){return t.endsWith("/")?t:t+"/"}function bT(t,e){var n,i;const{db:a,auth:o,realtime:l,global:u}=t,{db:h,auth:f,realtime:p,global:b}=e,v={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},p),l),global:Object.assign(Object.assign(Object.assign({},b),u),{headers:Object.assign(Object.assign({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(i=u==null?void 0:u.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>pT(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const D_="2.70.0",lr=30*1e3,zf=3,Jh=zf*lr,yT="http://localhost:9999",vT="supabase.auth.token",_T={"X-Client-Info":`gotrue-js/${D_}`},Nf="X-Supabase-Api-Version",z_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ST=6e5;class pg extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wT extends pg{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function kT(t){return je(t)&&t.name==="AuthApiError"}class N_ extends pg{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class As extends pg{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class hs extends As{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TT(t){return je(t)&&t.name==="AuthSessionMissingError"}class Ec extends As{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jc extends As{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mc extends As{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AT(t){return je(t)&&t.name==="AuthImplicitGrantRedirectError"}class ay extends As{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lf extends As{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ef(t){return je(t)&&t.name==="AuthRetryableFetchError"}class ry extends As{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Lo extends As{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oy=` 	
\r=`.split(""),ET=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<oy.length;e+=1)t[oy[e].charCodeAt(0)]=-2;for(let e=0;e<cu.length;e+=1)t[cu[e].charCodeAt(0)]=e;return t})();function ly(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(cu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(cu[i]),e.queuedBits-=6}}function L_(t,e,n){const i=ET[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cy(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=l=>{OT(l,i,n)};for(let l=0;l<t.length;l+=1)L_(t.charCodeAt(l),a,o);return e.join("")}function jT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function MT(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}jT(i,e)}}function OT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function RT(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)L_(t.charCodeAt(a),n,i);return new Uint8Array(e)}function CT(t){const e=[];return MT(t,n=>e.push(n)),new Uint8Array(e)}function DT(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>ly(a,n,i)),ly(null,n,i),e.join("")}function zT(t){return Math.round(Date.now()/1e3)+t}function NT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xn=()=>typeof window<"u"&&typeof document<"u",Ws={tested:!1,writable:!1},Uo=()=>{if(!Xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ws.tested)return Ws.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ws.tested=!0,Ws.writable=!0}catch{Ws.tested=!0,Ws.writable=!1}return Ws.writable};function LT(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const U_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ll(async()=>{const{default:i}=await Promise.resolve().then(()=>xr);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},UT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",P_=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Oc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rc=async(t,e)=>{await t.removeItem(e)};class wu{constructor(){this.promise=new wu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}wu.promiseConstructor=Promise;function tf(t){const e=t.split(".");if(e.length!==3)throw new Lo("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!xT.test(e[i]))throw new Lo("JWT not in base64url format");return{header:JSON.parse(cy(e[0])),payload:JSON.parse(cy(e[1])),signature:RT(e[2]),raw:{header:e[0],payload:e[1]}}}async function PT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function BT(t,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){i(l);return}}catch(l){if(!e(o,l)){a(l);return}}})()})}function $T(t){return("0"+t.toString(16)).substr(-2)}function IT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,$T).join("")}async function HT(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function FT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await HT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nr(t,e,n=!1){const i=IT();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await P_(t,`${e}-code-verifier`,a);const o=await FT(i);return[o,i===o?"plain":"s256"]}const qT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VT(t){const e=t.headers.get(Nf);if(!e||!e.match(qT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function YT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ir(t){if(!WT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var GT=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n};const Js=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XT=[502,503,504];async function uy(t){var e;if(!UT(t))throw new Lf(Js(t),0);if(XT.includes(t.status))throw new Lf(Js(t),t.status);let n;try{n=await t.json()}catch(o){throw new N_(Js(o),o)}let i;const a=VT(t);if(a&&a.getTime()>=z_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new ry(Js(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new hs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new ry(Js(n),t.status,n.weak_password.reasons);throw new wT(Js(n),t.status||500,i)}const KT=(t,e,n,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function Pe(t,e,n,i){var a;const o=Object.assign({},i==null?void 0:i.headers);o[Nf]||(o[Nf]=z_["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await QT(t,e,n+u,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function QT(t,e,n,i,a,o){const l=KT(e,i,a,o);let u;try{u=await t(n,Object.assign({},l))}catch(h){throw console.error(h),new Lf(Js(h),0)}if(u.ok||await uy(u),i!=null&&i.noResolveJson)return u;try{return await u.json()}catch(h){await uy(h)}}function Mi(t){var e;let n=null;nA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=zT(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function dy(t){const e=Mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function JT(t){return{data:t,error:null}}function eA(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o}=t,l=GT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function tA(t){return t}function nA(t){return t.access_token&&t.refresh_token&&t.expires_in}const nf=["global","local","others"];var iA=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n};class sA{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=U_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=nf[0]){if(nf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nf.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gs})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=iA(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:eA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,o,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},p=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:tA});if(p.error)throw p.error;const b=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);f[`${w}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(je(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ir(e);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ir(e);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:gs})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){ir(e);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:gs})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ir(e.userId);try{const{data:n,error:i}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ir(e.userId),ir(e.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}}const aA={getItem:t=>Uo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Uo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Uo()&&globalThis.localStorage.removeItem(t)}};function hy(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function rA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sr={debug:!!(globalThis&&Uo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class oA extends B_{}async function lA(t,e,n){sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new oA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}rA();const cA={url:yT,storageKey:vT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_T,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fy(t,e,n){return await n()}class Ko{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ko.nextInstanceID,Ko.nextInstanceID+=1,this.instanceID>0&&Xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},cA),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new sA({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=U_(a.fetch),this.lock=a.lock||fy,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Xn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lA:this.lock=fy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Uo()?this.storage=aA:(this.memoryStorage={},this.storage=hy(this.memoryStorage)):(this.memoryStorage={},this.storage=hy(this.memoryStorage)),Xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${D_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=LT(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Xn()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),AT(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return je(n)?{error:n}:{error:new N_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Mi}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(je(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,i,a;try{let o;if("email"in e){const{email:p,password:b,options:v}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await nr(this.storage,this.storageKey)),o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:b,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:S},xform:Mi})}else if("phone"in e){const{phone:p,password:b,options:v}=e;o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(a=v==null?void 0:v.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Mi})}else throw new jc("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(je(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:u}=e;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:dy})}else if("phone"in e){const{phone:o,password:l,options:u}=e;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:dy})}else throw new jc("You must provide either an email or phone number and a password");const{data:i,error:a}=n;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Ec}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,a,o,l,u,h,f,p,b,v,_;let S,k;if("message"in e)S=e.message,k=e.signature;else{const{chain:w,wallet:E,statement:O,options:M}=e;let z;if(Xn())if(typeof E=="object")z=E;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))z=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=E}const C=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const G=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),O?{statement:O}:null));let Y;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")Y=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)Y=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)S=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),k=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${C.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(i=M==null?void 0:M.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=M==null?void 0:M.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((l=M==null?void 0:M.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((f=M==null?void 0:M.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(p=M==null?void 0:M.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const G=await z.signMessage(new TextEncoder().encode(S),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=G}}try{const{data:w,error:E}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:DT(k)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Mi});if(E)throw E;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ec}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:E})}catch(w){if(je(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await Oc(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{const{data:o,error:l}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Mi});if(await Rc(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ec}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:l})}catch(o){if(je(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:o,nonce:l}=e,u=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mi}),{data:h,error:f}=u;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ec}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,a,o,l;try{if("email"in e){const{email:u,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await nr(this.storage,this.storageKey));const{error:b}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:u,options:h}=e,{data:f,error:p}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new jc("You must provide either an email or phone number.")}catch(u){if(je(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,i;try{let a,o;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Mi});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,i,a;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await nr(this.storage,this.storageKey)),await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:JT})}catch(o){if(je(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new hs;const{error:a}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:l}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:l,error:u}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new jc("You must provide either an email or phone number and a type")}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Oc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Jh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,f,p)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,p))})}return{data:{session:e},error:null}}const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gs}):await this._useSession(async n=>{var i,a,o;const{data:l,error:u}=n;if(u)throw u;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:gs})})}catch(n){if(je(n))return TT(n)&&(await this._removeSession(),await Rc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new hs;const l=a.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await nr(this.storage,this.storageKey));const{data:f,error:p}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:gs});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hs;const n=Date.now()/1e3;let i=n,a=!0,o=null;const{payload:l}=tf(e.access_token);if(l.exp&&(i=l.exp,a=i<=n),a){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new hs;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Xn())throw new Mc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ay("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ay("No code detected.");const{data:O,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:l,expires_in:u,expires_at:h,token_type:f}=e;if(!o||!u||!l||!f)throw new Mc("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(u);let v=p+b;h&&(v=parseInt(h));const _=v-p;_*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const S=v-b;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,p);const{data:k,error:w}=await this._getUser(o);if(w)throw w;const E={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:b,expires_at:v,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(i){if(je(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Oc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return{error:o};const l=(i=a.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(kT(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Rc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=NT(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await nr(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(je(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:a}=await this._useSession(async o=>{var l,u,h,f,p;const{data:b,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=b.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Xn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(je(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:o,error:l}=n;if(l)throw l;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await BT(async a=>(a>0&&await PT(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mi})),(a,o)=>{const l=200*Math.pow(2,a);return o&&ef(o)&&Date.now()+l-i<lr})}catch(i){if(this._debug(n,"error",i),je(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Xn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Oc(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Jh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Jh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ef(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new wu;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new hs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(a,"error",o),je(o)){const l={session:null,error:o};return ef(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(h){o.push(h)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await P_(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Rc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${lr}ms, refresh threshold is ${zf} ticks`),a<=zf&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof B_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await nr(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;return o?{data:null,error:o}:await Pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;return o?{data:null,error:o}:await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],a=i.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=i.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:i,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=tf(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((i=(n=a.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(l=>l.kid===e);if(i||(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+ST>Date.now()))return i;const{data:a,error:o}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new Lo("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),i=a.keys.find(l=>l.kid===e),!i)throw new Lo("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};i=_.session.access_token}const{header:a,payload:o,signature:l,raw:{header:u,payload:h}}=tf(i);if(ZT(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:a,signature:l},error:null}}const f=YT(a.alg),p=await this.fetchJwk(a.kid,n),b=await crypto.subtle.importKey("jwk",p,f,!0,["verify"]);if(!await crypto.subtle.verify(f,b,l,CT(`${u}.${h}`)))throw new Lo("Invalid JWT signature");return{data:{claims:o,header:a,signature:l},error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}}Ko.nextInstanceID=0;const uA=Ko;class dA extends uA{constructor(e){super(e)}}var hA=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(b){l(b)}}function h(p){try{f(i.throw(p))}catch(b){l(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,h)}f((i=i.apply(t,e||[])).next())})};class fA{constructor(e,n,i){var a,o,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=mT(e),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:lT,realtime:uT,auth:Object.assign(Object.assign({},cT),{storageKey:f}),global:oT},b=bT(i??{},p);this.storageKey=(a=b.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=b.global.headers)!==null&&o!==void 0?o:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=b.auth)!==null&&l!==void 0?l:{},this.headers,b.global.fetch),this.fetch=gT(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Rk(new URL("rest/v1",h).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new vk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sT(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return hA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,storageKey:o,flowType:l,lock:u,debug:h},f,p){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dA({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,flowType:l,lock:u,debug:h,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new qk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $_=(t,e,n)=>new fA(t,e,n),gy=$_("https://rqadrfwwqoqqigzravkt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWRyZnd3cW9xcWlnenJhdmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3MzA0NTAsImV4cCI6MjA2NTMwNjQ1MH0.YQUW6Sjt0JeWT11tagQQCzxcc7tmx82S80q5-AEkPm4",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),py={primary:"#6366f1",tertiary:"#10b981"};function ul({session:t,darkMode:e,setDarkMode:n}){var f,p;const i=Bi(),[a,o]=R.useState("Utilisateur"),[l,u]=R.useState(null);R.useEffect(()=>{(async()=>{var S,k,w,E;if(!t)return;const v=we.getUser(),_=((k=(S=t.user)==null?void 0:S.user_metadata)==null?void 0:k.name)||((E=(w=t.user)==null?void 0:w.user_metadata)==null?void 0:E.full_name)||(v==null?void 0:v.name)||"Utilisateur";o(_),u(v==null?void 0:v.role)})()},[t]);const h=()=>{we.logout()};return y.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px",padding:"0 24px",fontFamily:"sans-serif"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 16px",borderRadius:"16px",background:e?"#242428":"#ffffff",border:`1px solid ${e?"#333338":"#e5e5e5"}`,boxShadow:e?"0 4px 20px rgba(0,0,0,0.4)":"0 4px 20px rgba(0,0,0,0.08)",fontFamily:"sans-serif"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",paddingRight:"12px",borderRight:`1px solid ${e?"#333338":"#e5e5e5"}`},children:[(p=(f=t==null?void 0:t.user)==null?void 0:f.user_metadata)!=null&&p.avatar_url?y.jsx("img",{src:t.user.user_metadata.avatar_url,alt:"",style:{width:32,height:32,borderRadius:"50%",border:`2px solid ${e?"#333338":"#e5e5e5"}`}}):y.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:l==="admin"?py.primary:py.tertiary,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",color:"#fff",fontWeight:600},children:l==="admin"?"":""}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1px"},children:[y.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f",lineHeight:1.2},children:a}),y.jsx("span",{style:{fontSize:"11px",color:e?"#8b8d93":"#86868b",lineHeight:1.2},children:l==="admin"?"Admin":"via Slack"})]})]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsxs("button",{className:"tools-btn",onClick:b=>{const v=b.currentTarget.nextElementSibling;v.style.display=v.style.display==="none"?"flex":"none"},children:[y.jsx("img",{src:uk,alt:"",style:{width:"50px",height:"50px",objectFit:"contain",flexShrink:0}}),"Mes outils",y.jsx("span",{style:{fontSize:"10px",opacity:.6},children:""})]}),y.jsxs("div",{style:{display:"none",position:"absolute",top:"calc(100% + 8px)",left:"50%",transform:"translateX(-50%)",flexDirection:"column",gap:"4px",padding:"8px",borderRadius:"12px",background:e?"#242428":"#ffffff",border:`1px solid ${e?"#333338":"#e5e5e5"}`,boxShadow:e?"0 8px 24px rgba(0,0,0,0.5)":"0 8px 24px rgba(0,0,0,0.12)",minWidth:"160px",zIndex:1e3},onMouseLeave:b=>b.currentTarget.style.display="none",children:[we.hasAccess("leaderboard")&&y.jsx("button",{onClick:()=>i("/"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",borderRadius:"8px",border:"none",background:"transparent",color:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",fontWeight:500,cursor:"pointer",textAlign:"left",width:"100%",transition:"background 0.15s"},onMouseEnter:b=>b.currentTarget.style.background=e?"#2a2b2e":"#f5f5f7",onMouseLeave:b=>b.currentTarget.style.background="transparent",children:" Suivi des ventes"}),we.hasAccess("admin_leads")&&y.jsx("button",{onClick:()=>i("/admin/leads"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",borderRadius:"8px",border:"none",background:"transparent",color:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",fontWeight:500,cursor:"pointer",textAlign:"left",width:"100%",transition:"background 0.15s"},onMouseEnter:b=>b.currentTarget.style.background=e?"#2a2b2e":"#f5f5f7",onMouseLeave:b=>b.currentTarget.style.background="transparent",children:" Monitoring"}),we.hasAccess("leads_management")&&y.jsx("button",{onClick:()=>i("/leads-management"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",borderRadius:"8px",border:"none",background:"transparent",color:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",fontWeight:500,cursor:"pointer",textAlign:"left",width:"100%",transition:"background 0.15s"},onMouseEnter:b=>b.currentTarget.style.background=e?"#2a2b2e":"#f5f5f7",onMouseLeave:b=>b.currentTarget.style.background="transparent",children:" Gestion des Leads"}),we.hasAccess("monitoring_perf")&&y.jsx("button",{onClick:()=>i("/monitoring-perf"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",borderRadius:"8px",border:"none",background:"transparent",color:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",fontWeight:500,cursor:"pointer",textAlign:"left",width:"100%",transition:"background 0.15s"},onMouseEnter:b=>b.currentTarget.style.background=e?"#2a2b2e":"#f5f5f7",onMouseLeave:b=>b.currentTarget.style.background="transparent",children:" Monitoring Perf"}),we.hasAccess("tracking_sheet")&&y.jsx("button",{onClick:()=>i("/tracking-sheet"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 12px",borderRadius:"8px",border:"none",background:"transparent",color:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",fontWeight:500,cursor:"pointer",textAlign:"left",width:"100%",transition:"background 0.15s"},onMouseEnter:b=>b.currentTarget.style.background=e?"#2a2b2e":"#f5f5f7",onMouseLeave:b=>b.currentTarget.style.background="transparent",children:" Tracking Sheet"})]})]}),y.jsx("div",{style:{width:"80px",height:"34px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"visible"},children:y.jsx("img",{src:e?rk:ak,alt:e?"Dark mode":"Light mode",onClick:()=>n(!e),title:e?"Mode clair":"Mode sombre",style:{width:"80px",height:"auto",cursor:"pointer",transition:"transform 0.2s ease"},onMouseEnter:b=>b.target.style.transform="scale(1.05)",onMouseLeave:b=>b.target.style.transform="scale(1)"})}),y.jsx("button",{onClick:h,title:"Dconnexion",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"34px",height:"34px",borderRadius:"10px",border:"none",background:e?"#2a2b2e":"#f5f5f7",color:e?"#8b8d93":"#86868b",cursor:"pointer",fontSize:"14px",transition:"all 0.2s"},onMouseEnter:b=>{b.currentTarget.style.background=e?"#ff453a":"#ff3b30",b.currentTarget.style.color="#fff"},onMouseLeave:b=>{b.currentTarget.style.background=e?"#2a2b2e":"#f5f5f7",b.currentTarget.style.color=e?"#8b8d93":"#86868b"},children:""})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function dl(t){return t+.5|0}const ms=(t,e,n)=>Math.max(Math.min(t,n),e);function Ro(t){return ms(dl(t*2.55),0,255)}function Ss(t){return ms(dl(t*255),0,255)}function Di(t){return ms(dl(t/2.55)/100,0,1)}function my(t){return ms(dl(t*100),0,100)}const Vn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Uf=[..."0123456789ABCDEF"],gA=t=>Uf[t&15],pA=t=>Uf[(t&240)>>4]+Uf[t&15],Cc=t=>(t&240)>>4===(t&15),mA=t=>Cc(t.r)&&Cc(t.g)&&Cc(t.b)&&Cc(t.a);function bA(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Vn[t[1]]*17,g:255&Vn[t[2]]*17,b:255&Vn[t[3]]*17,a:e===5?Vn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Vn[t[1]]<<4|Vn[t[2]],g:Vn[t[3]]<<4|Vn[t[4]],b:Vn[t[5]]<<4|Vn[t[6]],a:e===9?Vn[t[7]]<<4|Vn[t[8]]:255})),n}const yA=(t,e)=>t<255?e(t):"";function vA(t){var e=mA(t)?gA:pA;return t?"#"+e(t.r)+e(t.g)+e(t.b)+yA(t.a,e):void 0}const _A=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function I_(t,e,n){const i=e*Math.min(n,1-n),a=(o,l=(o+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function xA(t,e,n){const i=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function SA(t,e,n){const i=I_(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)i[a]*=1-e-n,i[a]+=e;return i}function wA(t,e,n,i,a){return t===a?(e-n)/i+(e<n?6:0):e===a?(n-t)/i+2:(t-e)/i+4}function mg(t){const n=t.r/255,i=t.g/255,a=t.b/255,o=Math.max(n,i,a),l=Math.min(n,i,a),u=(o+l)/2;let h,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),h=wA(n,i,a,p,o),h=h*60+.5),[h|0,f||0,u]}function bg(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ss)}function yg(t,e,n){return bg(I_,t,e,n)}function kA(t,e,n){return bg(SA,t,e,n)}function TA(t,e,n){return bg(xA,t,e,n)}function H_(t){return(t%360+360)%360}function AA(t){const e=_A.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ro(+e[5]):Ss(+e[5]));const a=H_(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=kA(a,o,l):e[1]==="hsv"?i=TA(a,o,l):i=yg(a,o,l),{r:i[0],g:i[1],b:i[2],a:n}}function EA(t,e){var n=mg(t);n[0]=H_(n[0]+e),n=yg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function jA(t){if(!t)return;const e=mg(t),n=e[0],i=my(e[1]),a=my(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${a}%, ${Di(t.a)})`:`hsl(${n}, ${i}%, ${a}%)`}const by={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function MA(){const t={},e=Object.keys(yy),n=Object.keys(by);let i,a,o,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],a=0;a<n.length;a++)o=n[a],u=u.replace(o,by[o]);o=parseInt(yy[l],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let Dc;function OA(t){Dc||(Dc=MA(),Dc.transparent=[0,0,0,0]);const e=Dc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RA=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CA(t){const e=RA.exec(t);let n=255,i,a,o;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?Ro(l):ms(l*255,0,255)}return i=+e[1],a=+e[3],o=+e[5],i=255&(e[2]?Ro(i):ms(i,0,255)),a=255&(e[4]?Ro(a):ms(a,0,255)),o=255&(e[6]?Ro(o):ms(o,0,255)),{r:i,g:a,b:o,a:n}}}function DA(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Di(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const sf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ar=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function zA(t,e,n){const i=ar(Di(t.r)),a=ar(Di(t.g)),o=ar(Di(t.b));return{r:Ss(sf(i+n*(ar(Di(e.r))-i))),g:Ss(sf(a+n*(ar(Di(e.g))-a))),b:Ss(sf(o+n*(ar(Di(e.b))-o))),a:t.a+n*(e.a-t.a)}}function zc(t,e,n){if(t){let i=mg(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=yg(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function F_(t,e){return t&&Object.assign(e||{},t)}function vy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ss(t[3]))):(e=F_(t,{r:0,g:0,b:0,a:1}),e.a=Ss(e.a)),e}function NA(t){return t.charAt(0)==="r"?CA(t):AA(t)}class Qo{constructor(e){if(e instanceof Qo)return e;const n=typeof e;let i;n==="object"?i=vy(e):n==="string"&&(i=bA(e)||OA(e)||NA(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=F_(this._rgb);return e&&(e.a=Di(e.a)),e}set rgb(e){this._rgb=vy(e)}rgbString(){return this._valid?DA(this._rgb):void 0}hexString(){return this._valid?vA(this._rgb):void 0}hslString(){return this._valid?jA(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,a=e.rgb;let o;const l=n===o?.5:n,u=2*l-1,h=i.a-a.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-f,i.r=255&f*i.r+o*a.r+.5,i.g=255&f*i.g+o*a.g+.5,i.b=255&f*i.b+o*a.b+.5,i.a=l*i.a+(1-l)*a.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=zA(this._rgb,e._rgb,n)),this}clone(){return new Qo(this.rgb)}alpha(e){return this._rgb.a=Ss(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=dl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zc(this._rgb,2,e),this}darken(e){return zc(this._rgb,2,-e),this}saturate(e){return zc(this._rgb,1,e),this}desaturate(e){return zc(this._rgb,1,-e),this}rotate(e){return EA(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ei(){}const LA=(()=>{let t=0;return()=>t++})();function Me(t){return t==null}function pt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function jt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function zn(t,e){return jt(t)?t:e}function Ee(t,e){return typeof t>"u"?e:t}const UA=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,q_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ct(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Je(t,e,n,i){let a,o,l;if(pt(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(Be(t))for(l=Object.keys(t),o=l.length,a=0;a<o;a++)e.call(n,t[l[a]],l[a])}function uu(t,e){let n,i,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function du(t){if(pt(t))return t.map(du);if(Be(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let a=0;for(;a<i;++a)e[n[a]]=du(t[n[a]]);return e}return t}function V_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function PA(t,e,n,i){if(!V_(t))return;const a=e[t],o=n[t];Be(a)&&Be(o)?ui(a,o,i):e[t]=du(o)}function ui(t,e,n){const i=pt(e)?e:[e],a=i.length;if(!Be(t))return t;n=n||{};const o=n.merger||PA;let l;for(let u=0;u<a;++u){if(l=i[u],!Be(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)o(h[f],t,l,n)}return t}function Po(t,e){return ui(t,e,{merger:BA})}function BA(t,e,n){if(!V_(t))return;const i=e[t],a=n[t];Be(i)&&Be(a)?Po(i,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=du(a))}const _y={"":t=>t,x:t=>t.x,y:t=>t.y};function $A(t){const e=t.split("."),n=[];let i="";for(const a of e)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function IA(t){const e=$A(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ws(t,e){return(_y[e]||(_y[e]=IA(e)))(t)}function vg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Jo=t=>typeof t<"u",ks=t=>typeof t=="function",xy=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function HA(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ye=Math.PI,mt=2*Ye,FA=mt+Ye,hu=Number.POSITIVE_INFINITY,qA=Ye/180,Dt=Ye/2,Gs=Ye/4,Sy=Ye*2/3,bs=Math.log10,ci=Math.sign;function Bo(t,e,n){return Math.abs(t-e)<n}function wy(t){const e=Math.round(t);t=Bo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(bs(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function VA(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function ZA(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function pr(t){return!ZA(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function YA(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Z_(t,e,n){let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Qn(t){return t*(Ye/180)}function _g(t){return t*(180/Ye)}function ky(t){if(!jt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Y_(t,e){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Ye&&(o+=mt),{angle:o,distance:a}}function Pf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function WA(t,e){return(t-e+FA)%mt-Ye}function ln(t){return(t%mt+mt)%mt}function el(t,e,n,i){const a=ln(t),o=ln(e),l=ln(n),u=ln(o-a),h=ln(l-a),f=ln(a-o),p=ln(a-l);return a===o||a===l||i&&o===l||u>h&&f<p}function Qt(t,e,n){return Math.max(e,Math.min(n,t))}function GA(t){return Qt(t,-32768,32767)}function zi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function xg(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,n(o)?a=o:i=o;return{lo:a,hi:i}}const Ni=(t,e,n,i)=>xg(t,n,i?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),XA=(t,e,n)=>xg(t,n,i=>t[i][e]>=n);function KA(t,e,n){let i=0,a=t.length;for(;i<a&&t[i]<e;)i++;for(;a>i&&t[a-1]>n;)a--;return i>0||a<t.length?t.slice(i,a):t}const W_=["push","pop","shift","splice","unshift"];function QA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),W_.forEach(n=>{const i="_onData"+vg(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function Ty(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,a=i.indexOf(e);a!==-1&&i.splice(a,1),!(i.length>0)&&(W_.forEach(o=>{delete t[o]}),delete t._chartjs)}function G_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const X_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function K_(t,e){let n=[],i=!1;return function(...a){n=a,i||(i=!0,X_.call(window,()=>{i=!1,t.apply(e,n)}))}}function JA(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Sg=t=>t==="start"?"left":t==="end"?"right":"center",on=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,eE=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Q_(t,e,n){const i=e.length;let a=0,o=i;if(t._sorted){const{iScale:l,vScale:u,_parsed:h}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:b,max:v,minDefined:_,maxDefined:S}=l.getUserBounds();if(_){if(a=Math.min(Ni(h,p,b).lo,n?i:Ni(e,p,l.getPixelForValue(b)).lo),f){const k=h.slice(0,a+1).reverse().findIndex(w=>!Me(w[u.axis]));a-=Math.max(0,k)}a=Qt(a,0,i-1)}if(S){let k=Math.max(Ni(h,l.axis,v,!0).hi+1,n?0:Ni(e,p,l.getPixelForValue(v),!0).hi+1);if(f){const w=h.slice(k-1).findIndex(E=>!Me(E[u.axis]));k+=Math.max(0,w)}o=Qt(k,a,i)-a}else o=i-a}return{start:a,count:o}}function J_(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,a={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=a,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,a),o}const Nc=t=>t===0||t===1,Ay=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*mt/n)),Ey=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*mt/n)+1,$o={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Dt)+1,easeOutSine:t=>Math.sin(t*Dt),easeInOutSine:t=>-.5*(Math.cos(Ye*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Nc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Nc(t)?t:Ay(t,.075,.3),easeOutElastic:t=>Nc(t)?t:Ey(t,.075,.3),easeInOutElastic(t){return Nc(t)?t:t<.5?.5*Ay(t*2,.1125,.45):.5+.5*Ey(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$o.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$o.easeInBounce(t*2)*.5:$o.easeOutBounce(t*2-1)*.5+.5};function wg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function jy(t){return wg(t)?t:new Qo(t)}function af(t){return wg(t)?t:new Qo(t).saturate(.5).darken(.1).hexString()}const tE=["x","y","borderWidth","radius","tension"],nE=["color","borderColor","backgroundColor"];function iE(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nE},numbers:{type:"number",properties:tE}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function sE(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const My=new Map;function aE(t,e){e=e||{};const n=t+JSON.stringify(e);let i=My.get(n);return i||(i=new Intl.NumberFormat(t,e),My.set(n,i)),i}function hl(t,e,n){return aE(e,n).format(t)}const ex={values(t){return pt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let a,o=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),o=rE(t,n)}const l=bs(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),hl(t,i,h)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(bs(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?ex.numeric.call(this,t,e,n):""}};function rE(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ku={formatters:ex};function oE(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ku.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const aa=Object.create(null),Bf=Object.create(null);function Io(t,e){if(!e)return t;const n=e.split(".");for(let i=0,a=n.length;i<a;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function rf(t,e,n){return typeof e=="string"?ui(Io(t,e),n):ui(Io(t,""),e)}class lE{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>af(a.backgroundColor),this.hoverBorderColor=(i,a)=>af(a.borderColor),this.hoverColor=(i,a)=>af(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return rf(this,e,n)}get(e){return Io(this,e)}describe(e,n){return rf(Bf,e,n)}override(e,n){return rf(aa,e,n)}route(e,n,i,a){const o=Io(this,e),l=Io(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],f=l[a];return Be(h)?Object.assign({},f,h):Ee(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(n=>n(this))}}var bt=new lE({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iE,sE,oE]);function cE(t){return!t||Me(t.size)||Me(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function fu(t,e,n,i,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>i&&(i=o),i}function uE(t,e,n,i){i=i||{};let a=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},o=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let l=0;const u=n.length;let h,f,p,b,v;for(h=0;h<u;h++)if(b=n[h],b!=null&&!pt(b))l=fu(t,a,o,l,b);else if(pt(b))for(f=0,p=b.length;f<p;f++)v=b[f],v!=null&&!pt(v)&&(l=fu(t,a,o,l,v));t.restore();const _=o.length/2;if(_>n.length){for(h=0;h<_;h++)delete a[o[h]];o.splice(0,_)}return l}function Xs(t,e,n){const i=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*i)/i+a}function Oy(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function $f(t,e,n,i){tx(t,e,n,i,null)}function tx(t,e,n,i,a){let o,l,u,h,f,p,b,v;const _=e.pointStyle,S=e.rotation,k=e.radius;let w=(S||0)*qA;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(k)||k<=0)){switch(t.beginPath(),_){default:a?t.ellipse(n,i,a/2,k,0,0,mt):t.arc(n,i,k,0,mt),t.closePath();break;case"triangle":p=a?a/2:k,t.moveTo(n+Math.sin(w)*p,i-Math.cos(w)*k),w+=Sy,t.lineTo(n+Math.sin(w)*p,i-Math.cos(w)*k),w+=Sy,t.lineTo(n+Math.sin(w)*p,i-Math.cos(w)*k),t.closePath();break;case"rectRounded":f=k*.516,h=k-f,l=Math.cos(w+Gs)*h,b=Math.cos(w+Gs)*(a?a/2-f:h),u=Math.sin(w+Gs)*h,v=Math.sin(w+Gs)*(a?a/2-f:h),t.arc(n-b,i-u,f,w-Ye,w-Dt),t.arc(n+v,i-l,f,w-Dt,w),t.arc(n+b,i+u,f,w,w+Dt),t.arc(n-v,i+l,f,w+Dt,w+Ye),t.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*k,p=a?a/2:h,t.rect(n-p,i-h,2*p,2*h);break}w+=Gs;case"rectRot":b=Math.cos(w)*(a?a/2:k),l=Math.cos(w)*k,u=Math.sin(w)*k,v=Math.sin(w)*(a?a/2:k),t.moveTo(n-b,i-u),t.lineTo(n+v,i-l),t.lineTo(n+b,i+u),t.lineTo(n-v,i+l),t.closePath();break;case"crossRot":w+=Gs;case"cross":b=Math.cos(w)*(a?a/2:k),l=Math.cos(w)*k,u=Math.sin(w)*k,v=Math.sin(w)*(a?a/2:k),t.moveTo(n-b,i-u),t.lineTo(n+b,i+u),t.moveTo(n+v,i-l),t.lineTo(n-v,i+l);break;case"star":b=Math.cos(w)*(a?a/2:k),l=Math.cos(w)*k,u=Math.sin(w)*k,v=Math.sin(w)*(a?a/2:k),t.moveTo(n-b,i-u),t.lineTo(n+b,i+u),t.moveTo(n+v,i-l),t.lineTo(n-v,i+l),w+=Gs,b=Math.cos(w)*(a?a/2:k),l=Math.cos(w)*k,u=Math.sin(w)*k,v=Math.sin(w)*(a?a/2:k),t.moveTo(n-b,i-u),t.lineTo(n+b,i+u),t.moveTo(n+v,i-l),t.lineTo(n-v,i+l);break;case"line":l=a?a/2:Math.cos(w)*k,u=Math.sin(w)*k,t.moveTo(n-l,i-u),t.lineTo(n+l,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(a?a/2:k),i+Math.sin(w)*k);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Li(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Tu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Au(t){t.restore()}function dE(t,e,n,i,a){if(!e)return t.lineTo(n.x,n.y);if(a==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else a==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function hE(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function fE(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Me(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function gE(t,e,n,i,a){if(a.strikethrough||a.underline){const o=t.measureText(i),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,h=n-o.actualBoundingBoxAscent,f=n+o.actualBoundingBoxDescent,p=a.strikethrough?(h+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(l,p),t.lineTo(u,p),t.stroke()}}function pE(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ra(t,e,n,i,a,o={}){const l=pt(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(t.save(),t.font=a.string,fE(t,o),h=0;h<l.length;++h)f=l[h],o.backdrop&&pE(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Me(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(f,n,i,o.maxWidth)),t.fillText(f,n,i,o.maxWidth),gE(t,n,i,f,o),i+=Number(a.lineHeight);t.restore()}function tl(t,e){const{x:n,y:i,w:a,h:o,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Ye,Ye,!0),t.lineTo(n,i+o-l.bottomLeft),t.arc(n+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Ye,Dt,!0),t.lineTo(n+a-l.bottomRight,i+o),t.arc(n+a-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Dt,0,!0),t.lineTo(n+a,i+l.topRight),t.arc(n+a-l.topRight,i+l.topRight,l.topRight,0,-Dt,!0),t.lineTo(n+l.topLeft,i)}const mE=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yE(t,e){const n=(""+t).match(mE);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const vE=t=>+t||0;function kg(t,e){const n={},i=Be(e),a=i?Object.keys(e):e,o=Be(t)?i?l=>Ee(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of a)n[l]=vE(o(l));return n}function nx(t){return kg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ia(t){return kg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(t){const e=nx(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Pt(t,e){t=t||{},e=e||bt.font;let n=Ee(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ee(t.style,e.style);i&&!(""+i).match(bE)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Ee(t.family,e.family),lineHeight:yE(Ee(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ee(t.weight,e.weight),string:""};return a.string=cE(a),a}function gt(t,e,n,i){let a,o,l;for(a=0,o=t.length;a<o;++a)if(l=t[a],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e)),n!==void 0&&pt(l)&&(l=l[n%l.length]),l!==void 0))return l}function _E(t,e,n){const{min:i,max:a}=t,o=q_(e,(a-i)/2),l=(u,h)=>n&&u===0?0:u+h;return{min:l(i,-Math.abs(o)),max:l(a,o)}}function Es(t,e){return Object.assign(Object.create(t),e)}function Tg(t,e=[""],n,i,a=()=>t[0]){const o=n||t;typeof i>"u"&&(i=rx("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:a,override:u=>Tg([u,...t],e,o,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete t[0][h],!0},get(u,h){return sx(u,h,()=>jE(h,e,t,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,h){return Cy(u).includes(h)},ownKeys(u){return Cy(u)},set(u,h,f){const p=u._storage||(u._storage=a());return u[h]=p[h]=f,delete u._keys,!0}})}function mr(t,e,n,i){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ix(t,i),setContext:o=>mr(t,o,n,i),override:o=>mr(t.override(o),e,n,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete t[l],!0},get(o,l,u){return sx(o,l,()=>SE(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(o,l,u){return t[l]=u,delete o[l],!0}})}function ix(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:i,isScriptable:ks(n)?n:()=>n,isIndexable:ks(i)?i:()=>i}}const xE=(t,e)=>t?t+vg(e):e,Ag=(t,e)=>Be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function sx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function SE(t,e,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:l}=t;let u=i[e];return ks(u)&&l.isScriptable(e)&&(u=wE(e,u,t,n)),pt(u)&&u.length&&(u=kE(e,u,t,l.isIndexable)),Ag(e,u)&&(u=mr(u,a,o&&o[e],l)),u}function wE(t,e,n,i){const{_proxy:a,_context:o,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let h=e(o,l||i);return u.delete(t),Ag(t,h)&&(h=Eg(a._scopes,a,t,h)),h}function kE(t,e,n,i){const{_proxy:a,_context:o,_subProxy:l,_descriptors:u}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(Be(e[0])){const h=e,f=a._scopes.filter(p=>p!==h);e=[];for(const p of h){const b=Eg(f,a,t,p);e.push(mr(b,o,l&&l[t],u))}}return e}function ax(t,e,n){return ks(t)?t(e,n):t}const TE=(t,e)=>t===!0?e:typeof t=="string"?ws(e,t):void 0;function AE(t,e,n,i,a){for(const o of e){const l=TE(n,o);if(l){t.add(l);const u=ax(l._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Eg(t,e,n,i){const a=e._rootScopes,o=ax(e._fallback,n,i),l=[...t,...a],u=new Set;u.add(i);let h=Ry(u,l,n,o||n,i);return h===null||typeof o<"u"&&o!==n&&(h=Ry(u,l,o,h,i),h===null)?!1:Tg(Array.from(u),[""],a,o,()=>EE(e,n,i))}function Ry(t,e,n,i,a){for(;n;)n=AE(t,e,n,i,a);return n}function EE(t,e,n){const i=t._getTarget();e in i||(i[e]={});const a=i[e];return pt(a)&&Be(n)?n:a||{}}function jE(t,e,n,i){let a;for(const o of e)if(a=rx(xE(o,t),n),typeof a<"u")return Ag(t,a)?Eg(n,i,t,a):a}function rx(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Cy(t){let e=t._keys;return e||(e=t._keys=ME(t._scopes)),e}function ME(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(i);return Array.from(e)}function ox(t,e,n,i){const{iScale:a}=t,{key:o="r"}=this._parsing,l=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+n,p=e[f],l[u]={r:a.parse(ws(p,o),f)};return l}const OE=Number.EPSILON||1e-14,br=(t,e)=>e<t.length&&!t[e].skip&&t[e],lx=t=>t==="x"?"y":"x";function RE(t,e,n,i){const a=t.skip?e:t,o=e,l=n.skip?e:n,u=Pf(o,a),h=Pf(l,o);let f=u/(u+h),p=h/(u+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const b=i*f,v=i*p;return{previous:{x:o.x-b*(l.x-a.x),y:o.y-b*(l.y-a.y)},next:{x:o.x+v*(l.x-a.x),y:o.y+v*(l.y-a.y)}}}function CE(t,e,n){const i=t.length;let a,o,l,u,h,f=br(t,0);for(let p=0;p<i-1;++p)if(h=f,f=br(t,p+1),!(!h||!f)){if(Bo(e[p],0,OE)){n[p]=n[p+1]=0;continue}a=n[p]/e[p],o=n[p+1]/e[p],u=Math.pow(a,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),n[p]=a*l*e[p],n[p+1]=o*l*e[p])}}function DE(t,e,n="x"){const i=lx(n),a=t.length;let o,l,u,h=br(t,0);for(let f=0;f<a;++f){if(l=u,u=h,h=br(t,f+1),!u)continue;const p=u[n],b=u[i];l&&(o=(p-l[n])/3,u[`cp1${n}`]=p-o,u[`cp1${i}`]=b-o*e[f]),h&&(o=(h[n]-p)/3,u[`cp2${n}`]=p+o,u[`cp2${i}`]=b+o*e[f])}}function zE(t,e="x"){const n=lx(e),i=t.length,a=Array(i).fill(0),o=Array(i);let l,u,h,f=br(t,0);for(l=0;l<i;++l)if(u=h,h=f,f=br(t,l+1),!!h){if(f){const p=f[e]-h[e];a[l]=p!==0?(f[n]-h[n])/p:0}o[l]=u?f?ci(a[l-1])!==ci(a[l])?0:(a[l-1]+a[l])/2:a[l-1]:a[l]}CE(t,a,o),DE(t,o,e)}function Lc(t,e,n){return Math.max(Math.min(t,n),e)}function NE(t,e){let n,i,a,o,l,u=Li(t[0],e);for(n=0,i=t.length;n<i;++n)l=o,o=u,u=n<i-1&&Li(t[n+1],e),o&&(a=t[n],l&&(a.cp1x=Lc(a.cp1x,e.left,e.right),a.cp1y=Lc(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=Lc(a.cp2x,e.left,e.right),a.cp2y=Lc(a.cp2y,e.top,e.bottom)))}function LE(t,e,n,i,a){let o,l,u,h;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")zE(t,a);else{let f=i?t[t.length-1]:t[0];for(o=0,l=t.length;o<l;++o)u=t[o],h=RE(f,u,t[Math.min(o+1,l-(i?0:1))%l],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}e.capBezierPoints&&NE(t,n)}function jg(){return typeof window<"u"&&typeof document<"u"}function Mg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function gu(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Eu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function UE(t,e){return Eu(t).getPropertyValue(e)}const PE=["top","right","bottom","left"];function sa(t,e,n){const i={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=PE[a];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const BE=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function $E(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=i;let l=!1,u,h;if(BE(a,o,t.target))u=a,h=o;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function ea(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,a=Eu(n),o=a.boxSizing==="border-box",l=sa(a,"padding"),u=sa(a,"border","width"),{x:h,y:f,box:p}=$E(t,n),b=l.left+(p&&u.left),v=l.top+(p&&u.top);let{width:_,height:S}=e;return o&&(_-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-b)/_*n.width/i),y:Math.round((f-v)/S*n.height/i)}}function IE(t,e,n){let i,a;if(e===void 0||n===void 0){const o=t&&Mg(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const l=o.getBoundingClientRect(),u=Eu(o),h=sa(u,"border","width"),f=sa(u,"padding");e=l.width-f.width-h.width,n=l.height-f.height-h.height,i=gu(u.maxWidth,o,"clientWidth"),a=gu(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||hu,maxHeight:a||hu}}const Uc=t=>Math.round(t*10)/10;function HE(t,e,n,i){const a=Eu(t),o=sa(a,"margin"),l=gu(a.maxWidth,t,"clientWidth")||hu,u=gu(a.maxHeight,t,"clientHeight")||hu,h=IE(t,e,n);let{width:f,height:p}=h;if(a.boxSizing==="content-box"){const v=sa(a,"border","width"),_=sa(a,"padding");f-=_.width+v.width,p-=_.height+v.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=Uc(Math.min(f,l,h.maxWidth)),p=Uc(Math.min(p,u,h.maxHeight)),f&&!p&&(p=Uc(f/2)),(e!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Uc(Math.floor(p*i))),{width:f,height:p}}function Dy(t,e,n){const i=e||1,a=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==a||l.width!==o?(t.currentDevicePixelRatio=i,l.height=a,l.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const FE=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};jg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function zy(t,e){const n=UE(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ta(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function qE(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function VE(t,e,n,i){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},l=ta(t,a,n),u=ta(a,o,n),h=ta(o,e,n),f=ta(l,u,n),p=ta(u,h,n);return ta(f,p,n)}const ZE=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},YE=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function hr(t,e,n){return t?ZE(e,n):YE()}function cx(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ux(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function dx(t){return t==="angle"?{between:el,compare:WA,normalize:ln}:{between:zi,compare:(e,n)=>e-n,normalize:e=>e}}function Ny({start:t,end:e,count:n,loop:i,style:a}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:a}}function WE(t,e,n){const{property:i,start:a,end:o}=n,{between:l,normalize:u}=dx(i),h=e.length;let{start:f,end:p,loop:b}=t,v,_;if(b){for(f+=h,p+=h,v=0,_=h;v<_&&l(u(e[f%h][i]),a,o);++v)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:b,style:t.style}}function hx(t,e,n){if(!n)return[t];const{property:i,start:a,end:o}=n,l=e.length,{compare:u,between:h,normalize:f}=dx(i),{start:p,end:b,loop:v,style:_}=WE(t,e,n),S=[];let k=!1,w=null,E,O,M;const z=()=>h(a,M,E)&&u(a,M)!==0,C=()=>u(o,E)===0||h(o,M,E),G=()=>k||z(),Y=()=>!k||C();for(let q=p,te=p;q<=b;++q)O=e[q%l],!O.skip&&(E=f(O[i]),E!==M&&(k=h(E,a,o),w===null&&G()&&(w=u(E,a)===0?q:te),w!==null&&Y()&&(S.push(Ny({start:w,end:q,loop:v,count:l,style:_})),w=null),te=q,M=E));return w!==null&&S.push(Ny({start:w,end:b,loop:v,count:l,style:_})),S}function fx(t,e){const n=[],i=t.segments;for(let a=0;a<i.length;a++){const o=hx(i[a],t.points,e);o.length&&n.push(...o)}return n}function GE(t,e,n,i){let a=0,o=e-1;if(n&&!i)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,n&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function XE(t,e,n,i){const a=t.length,o=[];let l=e,u=t[e],h;for(h=e+1;h<=n;++h){const f=t[h%a];f.skip||f.stop?u.skip||(i=!1,o.push({start:e%a,end:(h-1)%a,loop:i}),e=l=f.stop?h:null):(l=h,u.skip&&(e=h)),u=f}return l!==null&&o.push({start:e%a,end:l%a,loop:i}),o}function KE(t,e){const n=t.points,i=t.options.spanGaps,a=n.length;if(!a)return[];const o=!!t._loop,{start:l,end:u}=GE(n,a,o,i);if(i===!0)return Ly(t,[{start:l,end:u,loop:o}],n,e);const h=u<l?u+a:u,f=!!t._fullLoop&&l===0&&u===a-1;return Ly(t,XE(n,l,h,f),n,e)}function Ly(t,e,n,i){return!i||!i.setContext||!n?e:QE(t,e,n,i)}function QE(t,e,n,i){const a=t._chart.getContext(),o=Uy(t.options),{_datasetIndex:l,options:{spanGaps:u}}=t,h=n.length,f=[];let p=o,b=e[0].start,v=b;function _(S,k,w,E){const O=u?-1:1;if(S!==k){for(S+=h;n[S%h].skip;)S-=O;for(;n[k%h].skip;)k+=O;S%h!==k%h&&(f.push({start:S%h,end:k%h,loop:w,style:E}),p=E,b=k%h)}}for(const S of e){b=u?b:S.start;let k=n[b%h],w;for(v=b+1;v<=S.end;v++){const E=n[v%h];w=Uy(i.setContext(Es(a,{type:"segment",p0:k,p1:E,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:l}))),JE(w,p)&&_(b,v-1,S.loop,p),k=E,p=w}b<v-1&&_(b,v-1,S.loop,p)}return f}function Uy(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function JE(t,e){if(!e)return!1;const n=[],i=function(a,o){return wg(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Pc(t,e,n){return t.options.clip?t[n]:e[n]}function ej(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Pc(n,e,"left"),right:Pc(n,e,"right"),top:Pc(i,e,"top"),bottom:Pc(i,e,"bottom")}:e}function gx(t,e){const n=e._clip;if(n.disabled)return!1;const i=ej(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,a){const o=n.listeners[a],l=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=X_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,i,e,"progress")),o.length||(i.running=!1,this._notify(a,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Oi=new tj;const Py="transparent",nj={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=jy(t||Py),a=i.valid&&jy(e||Py);return a&&a.valid?a.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class ij{constructor(e,n,i,a){const o=n[i];a=gt([e.to,a,o,e.from]);const l=gt([e.from,o,a]);this._active=!0,this._fn=e.fn||nj[e.type||typeof l],this._easing=$o[e.easing]||$o.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=gt([e.to,n,a,e.from]),this._from=gt([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,a=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||n<i),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[a]=this._fn(o,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][n]()}}class px{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Be(e))return;const n=Object.keys(bt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!Be(o))return;const l={};for(const u of n)l[u]=o[u];(pt(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,n){const i=n.options,a=aj(e,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&sj(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,a=[],o=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(e,n));continue}const p=n[f];let b=o[f];const v=i.get(f);if(b)if(v&&b.active()){b.update(v,p,u);continue}else b.cancel();if(!v||!v.duration){e[f]=p;continue}o[f]=b=new ij(v,e,f,p),a.push(b)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Oi.add(this._chart,i),!0}}function sj(t,e){const n=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const o=t[i[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function aj(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function By(t,e){const n=t&&t.options||{},i=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:a,end:i?a:o}}function rj(t,e,n){if(n===!1)return!1;const i=By(t,n),a=By(e,n);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function oj(t){let e,n,i,a;return Be(t)?(e=t.top,n=t.right,i=t.bottom,a=t.left):e=n=i=a=t,{top:e,right:n,bottom:i,left:a,disabled:t===!1}}function mx(t,e){const n=[],i=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=i.length;a<o;++a)n.push(i[a].index);return n}function $y(t,e,n,i={}){const a=t.keys,o=i.mode==="single";let l,u,h,f;if(e===null)return;let p=!1;for(l=0,u=a.length;l<u;++l){if(h=+a[l],h===n){if(p=!0,i.all)continue;break}f=t.values[h],jt(f)&&(o||e===0||ci(e)===ci(f))&&(e+=f)}return!p&&!i.all?0:e}function lj(t,e){const{iScale:n,vScale:i}=e,a=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[a]:p,[o]:t[p]};return u}function of(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function cj(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function uj(t){const{min:e,max:n,minDefined:i,maxDefined:a}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function dj(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Iy(t,e,n,i){for(const a of e.getMatchingVisibleMetas(i).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function Hy(t,e){const{chart:n,_cachedMeta:i}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:u}=i,h=o.axis,f=l.axis,p=cj(o,l,i),b=e.length;let v;for(let _=0;_<b;++_){const S=e[_],{[h]:k,[f]:w}=S,E=S._stacks||(S._stacks={});v=E[f]=dj(a,p,k),v[u]=w,v._top=Iy(v,l,!0,i.type),v._bottom=Iy(v,l,!1,i.type);const O=v._visualValues||(v._visualValues={});O[u]=w}}function lf(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function hj(t,e){return Es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function fj(t,e,n){return Es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ko(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const cf=t=>t==="reset"||t==="none",Fy=(t,e)=>e?t:Object.assign({},t),gj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:mx(n,!0),values:null};class Jn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=of(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ko(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),a=(b,v,_,S)=>b==="x"?v:b==="r"?S:_,o=n.xAxisID=Ee(i.xAxisID,lf(e,"x")),l=n.yAxisID=Ee(i.yAxisID,lf(e,"y")),u=n.rAxisID=Ee(i.rAxisID,lf(e,"r")),h=n.indexAxis,f=n.iAxisID=a(h,o,l,u),p=n.vAxisID=a(h,l,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ty(this._data,this),e._stacked&&ko(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Be(n)){const a=this._cachedMeta;this._data=lj(n,a)}else if(i!==n){if(i){Ty(i,this);const a=this._cachedMeta;ko(a),a._parsed=[]}n&&Object.isExtensible(n)&&QA(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=of(n.vScale,n),n.stack!==i.stack&&(a=!0,ko(n),n.stack=i.stack),this._resyncElements(e),(a||o!==n._stacked)&&(Hy(this,n._parsed),n._stacked=of(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:l}=i,u=o.axis;let h=e===0&&n===a.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,b,v;if(this._parsing===!1)i._parsed=a,i._sorted=!0,v=a;else{pt(a[e])?v=this.parseArrayData(i,a,e,n):Be(a[e])?v=this.parseObjectData(i,a,e,n):v=this.parsePrimitiveData(i,a,e,n);const _=()=>b[u]===null||f&&b[u]<f[u];for(p=0;p<n;++p)i._parsed[p+e]=b=v[p],h&&(_()&&(h=!1),f=b);i._sorted=h}l&&Hy(this,v)}parsePrimitiveData(e,n,i,a){const{iScale:o,vScale:l}=e,u=o.axis,h=l.axis,f=o.getLabels(),p=o===l,b=new Array(a);let v,_,S;for(v=0,_=a;v<_;++v)S=v+i,b[v]={[u]:p||o.parse(f[S],S),[h]:l.parse(n[S],S)};return b}parseArrayData(e,n,i,a){const{xScale:o,yScale:l}=e,u=new Array(a);let h,f,p,b;for(h=0,f=a;h<f;++h)p=h+i,b=n[p],u[h]={x:o.parse(b[0],p),y:l.parse(b[1],p)};return u}parseObjectData(e,n,i,a){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(a);let p,b,v,_;for(p=0,b=a;p<b;++p)v=p+i,_=n[v],f[p]={x:o.parse(ws(_,u),v),y:l.parse(ws(_,h),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const a=this.chart,o=this._cachedMeta,l=n[e.axis],u={keys:mx(a,!0),values:n._stacks[e.axis]._visualValues};return $y(u,l,o.index,{mode:i})}updateRangeFromParsed(e,n,i,a){const o=i[n.axis];let l=o===null?NaN:o;const u=a&&i._stacks[n.axis];a&&u&&(a.values=u,l=$y(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,l=a.length,u=this._getOtherScale(e),h=gj(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:b}=uj(u);let v,_;function S(){_=a[v];const k=_[u.axis];return!jt(_[e.axis])||p>k||b<k}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(f,e,_,h),o));++v);if(o){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,e,_,h);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][e.axis],jt(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=oj(Ee(this.options.clip,rj(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,a=i.data||[],o=n.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||a.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,u,h),p=u;p<u+h;++p){const b=a[p];b.hidden||(b.active&&f?l.push(b):b.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=fj(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=hj(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const a=n==="active",o=this._cachedDataOpts,l=e+"-"+n,u=o[l],h=this.enableOptionSharing&&Jo(i);if(u)return Fy(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),b=a?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),p),_=Object.keys(bt.elements[e]),S=()=>this.getContext(i,a,n),k=f.resolveNamedOptions(v,_,S,b);return k.$shared&&(k.$shared=h,o[l]=Object.freeze(Fy(k,h))),k}_resolveAnimations(e,n,i){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,u=o[l];if(u)return u;let h;if(a.options.animation!==!1){const p=this.chart.config,b=p.datasetAnimationScopeKeys(this._type,n),v=p.getOptionScopes(this.getDataset(),b);h=p.createResolver(v,this.getContext(e,i,n))}const f=new px(a,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||cf(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:l}}updateElement(e,n,i,a){cf(a)?Object.assign(e,i):this._resolveAnimations(n,a).update(e,i)}updateSharedOptions(e,n,i){e&&!cf(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,i,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const a=i.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,i=!0){const a=this._cachedMeta,o=a.data,l=e+n;let u;const h=f=>{for(f.length+=n,u=f.length-1;u>=l;u--)f[u]=f[u-n]};for(h(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,a){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(e,n);i._stacked&&ko(i,a)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,a]=e;this[n](i,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ce(Jn,"defaults",{}),ce(Jn,"datasetElementType",null),ce(Jn,"dataElementType",null);function pj(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let a=0,o=n.length;a<o;a++)i=i.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=G_(i.sort((a,o)=>a-o))}return t._cache.$bar}function mj(t){const e=t.iScale,n=pj(e,t.type);let i=e._length,a,o,l,u;const h=()=>{l===32767||l===-32768||(Jo(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(a=0,o=n.length;a<o;++a)l=e.getPixelForValue(n[a]),h();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)l=e.getPixelForTick(a),h();return i}function bj(t,e,n,i){const a=n.barThickness;let o,l;return Me(a)?(o=e.min*n.categoryPercentage,l=n.barPercentage):(o=a*i,l=1),{chunk:o/i,ratio:l,start:e.pixels[t]-o/2}}function yj(t,e,n,i){const a=e.pixels,o=a[t];let l=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const h=n.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const f=o-(o-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:n.barPercentage,start:f}}function vj(t,e,n,i){const a=n.parse(t[0],i),o=n.parse(t[1],i),l=Math.min(a,o),u=Math.max(a,o);let h=l,f=u;Math.abs(l)>Math.abs(u)&&(h=u,f=l),e[n.axis]=f,e._custom={barStart:h,barEnd:f,start:a,end:o,min:l,max:u}}function bx(t,e,n,i){return pt(t)?vj(t,e,n,i):e[n.axis]=n.parse(t,i),e}function qy(t,e,n,i){const a=t.iScale,o=t.vScale,l=a.getLabels(),u=a===o,h=[];let f,p,b,v;for(f=n,p=n+i;f<p;++f)v=e[f],b={},b[a.axis]=u||a.parse(l[f],f),h.push(bx(v,b,o,f));return h}function uf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function _j(t,e,n){return t!==0?ci(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function xj(t){let e,n,i,a,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:i,reverse:e,top:a,bottom:o}}function Sj(t,e,n,i){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:f,bottom:p}=xj(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?a=f:(n._bottom||0)===i?a=p:(o[Vy(p,l,u,h)]=!0,a=f)),o[Vy(a,l,u,h)]=!0,t.borderSkipped=o}function Vy(t,e,n,i){return i?(t=wj(t,e,n),t=Zy(t,n,e)):t=Zy(t,e,n),t}function wj(t,e,n){return t===e?n:t===n?e:t}function Zy(t,e,n){return t==="start"?e:t==="end"?n:t}function kj(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ho extends Jn{parsePrimitiveData(e,n,i,a){return qy(e,n,i,a)}parseArrayData(e,n,i,a){return qy(e,n,i,a)}parseObjectData(e,n,i,a){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=o.axis==="x"?u:h,p=l.axis==="x"?u:h,b=[];let v,_,S,k;for(v=i,_=i+a;v<_;++v)k=n[v],S={},S[o.axis]=o.parse(ws(k,f),v),b.push(bx(ws(k,p),S,l,v));return b}updateRangeFromParsed(e,n,i,a){super.updateRangeFromParsed(e,n,i,a);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:a}=n,o=this.getParsed(e),l=o._custom,u=uf(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:b,includeOptions:v}=this._getSharedOptions(n,a);for(let _=n;_<n+i;_++){const S=this.getParsed(_),k=o||Me(S[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),w=this._calculateBarIndexPixels(_,p),E=(S._stacks||{})[u.axis],O={horizontal:f,base:k.base,enableBorderRadius:!E||uf(S._custom)||l===E._top||l===E._bottom,x:f?k.head:w.center,y:f?w.center:k.head,height:f?w.size:Math.abs(k.size),width:f?Math.abs(k.size):w.size};v&&(O.options=b||this.resolveDataElementOptions(_,e[_].active?"active":a));const M=O.options||e[_].options;Sj(O,M,E,l),kj(O,M,p.ratio),this.updateElement(e[_],_,O,a)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),h=u&&u[i.axis],f=p=>{const b=p._parsed.find(_=>_[i.axis]===h),v=b&&b[p.vScale.axis];if(Me(v)||isNaN(v))return!0};for(const p of a)if(!(n!==void 0&&f(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Ee(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const a=this._getStacks(e,i),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,a=[];let o,l;for(o=0,l=n.data.length;o<l;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||mj(n),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:a},options:{base:o,minBarLength:l}}=this,u=o||0,h=this.getParsed(e),f=h._custom,p=uf(f);let b=h[n.axis],v=0,_=i?this.applyStack(n,h,i):b,S,k;_!==b&&(v=_-b,_=b),p&&(b=f.barStart,_=f.barEnd-f.barStart,b!==0&&ci(b)!==ci(f.barEnd)&&(v=0),v+=b);const w=!Me(o)&&!p?o:v;let E=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?S=n.getPixelForValue(v+_):S=E,k=S-E,Math.abs(k)<l){k=_j(k,n,u)*l,b===u&&(E-=k/2);const O=n.getPixelForDecimal(0),M=n.getPixelForDecimal(1),z=Math.min(O,M),C=Math.max(O,M);E=Math.max(Math.min(E,C),z),S=E+k,i&&!p&&(h._stacks[n.axis]._visualValues[a]=n.getValueForPixel(S)-n.getValueForPixel(E))}if(E===n.getPixelForValue(u)){const O=ci(k)*n.getLineWidthForValue(u)/2;E+=O,k-=O}return{size:k,base:E,head:S,center:S+k/2}}_calculateBarIndexPixels(e,n){const i=n.scale,a=this.options,o=a.skipNull,l=Ee(a.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(e):n.stackCount,b=a.barThickness==="flex"?yj(e,n,a,p*f):bj(e,n,a,p*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Ee(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+_;u=b.start+b.chunk*S+b.chunk/2,h=Math.min(l,b.chunk*b.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,n.min*n.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}ce(Ho,"id","bar"),ce(Ho,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ce(Ho,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class nu extends Jn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,a){const o=super.parsePrimitiveData(e,n,i,a);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(e,n,i,a){const o=super.parseArrayData(e,n,i,a);for(let l=0;l<o.length;l++){const u=n[i+l];o[l]._custom=Ee(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(e,n,i,a){const o=super.parseObjectData(e,n,i,a);for(let l=0;l<o.length;l++){const u=n[i+l];o[l]._custom=Ee(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=n,l=this.getParsed(e),u=a.getLabelForValue(l.x),h=o.getLabelForValue(l.y),f=l._custom;return{label:i[e]||"",value:"("+u+", "+h+(f?", "+f:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,a){const o=a==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,a),p=l.axis,b=u.axis;for(let v=n;v<n+i;v++){const _=e[v],S=!o&&this.getParsed(v),k={},w=k[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(S[p]),E=k[b]=o?u.getBasePixel():u.getPixelForValue(S[b]);k.skip=isNaN(w)||isNaN(E),f&&(k.options=h||this.resolveDataElementOptions(v,_.active?"active":a),o&&(k.options.radius=0)),this.updateElement(_,v,k,a)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let a=super.resolveDataElementOptions(e,n);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return n!=="active"&&(a.radius=0),a.radius+=Ee(i&&i._custom,o),a}}ce(nu,"id","bubble"),ce(nu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ce(nu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Tj(t,e,n){let i=1,a=1,o=0,l=0;if(e<mt){const u=t,h=u+e,f=Math.cos(u),p=Math.sin(u),b=Math.cos(h),v=Math.sin(h),_=(M,z,C)=>el(M,u,h,!0)?1:Math.max(z,z*n,C,C*n),S=(M,z,C)=>el(M,u,h,!0)?-1:Math.min(z,z*n,C,C*n),k=_(0,f,b),w=_(Dt,p,v),E=S(Ye,f,b),O=S(Ye+Dt,p,v);i=(k-E)/2,a=(w-O)/2,o=-(k+E)/2,l=-(w+O)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:l}}class ys extends Jn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=h=>+i[h];if(Be(i[e])){const{key:h="value"}=this._parsing;o=f=>+ws(i[f],h)}let l,u;for(l=e,u=e+n;l<u;++l)a._parsed[l]=o(l)}}_getRotation(){return Qn(this.options.rotation-90)}_getCircumference(){return Qn(this.options.circumference)}_getRotationExtents(){let e=mt,n=-mt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),l=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(UA(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:b}=this._getRotationExtents(),{ratioX:v,ratioY:_,offsetX:S,offsetY:k}=Tj(b,p,h),w=(i.width-l)/v,E=(i.height-l)/_,O=Math.max(Math.min(w,E)/2,0),M=q_(this.options.radius,O),z=Math.max(M*h,0),C=(M-z)/this._getVisibleDatasetWeightTotal();this.offsetX=S*M,this.offsetY=k*M,a.total=this.calculateTotal(),this.outerRadius=M-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/mt)}updateElements(e,n,i,a){const o=a==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,b=(u.top+u.bottom)/2,v=o&&f.animateScale,_=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:k,includeOptions:w}=this._getSharedOptions(n,a);let E=this._getRotation(),O;for(O=0;O<n;++O)E+=this._circumference(O,o);for(O=n;O<n+i;++O){const M=this._circumference(O,o),z=e[O],C={x:p+this.offsetX,y:b+this.offsetY,startAngle:E,endAngle:E+M,circumference:M,outerRadius:S,innerRadius:_};w&&(C.options=k||this.resolveDataElementOptions(O,z.active?"active":a)),E+=M,this.updateElement(z,O,C,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?mt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=hl(n._parsed[e],i.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const i=this.chart;let a,o,l,u,h;if(!e){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){l=i.getDatasetMeta(a),e=l.data,u=l.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)h=u.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,a=e.length;i<a;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Ee(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ce(ys,"id","doughnut"),ce(ys,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ce(ys,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ce(ys,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return n.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:a,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Fo extends Jn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:u,count:h}=Q_(n,a,l);this._drawStart=u,this._drawCount=h,J_(n)&&(u=0,h=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},e),this.updateElements(a,u,h,e)}updateElements(e,n,i,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(n,a),v=l.axis,_=u.axis,{spanGaps:S,segment:k}=this.options,w=pr(S)?S:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||o||a==="none",O=n+i,M=e.length;let z=n>0&&this.getParsed(n-1);for(let C=0;C<M;++C){const G=e[C],Y=E?G:{};if(C<n||C>=O){Y.skip=!0;continue}const q=this.getParsed(C),te=Me(q[_]),Q=Y[v]=l.getPixelForValue(q[v],C),le=Y[_]=o||te?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,q,h):q[_],C);Y.skip=isNaN(Q)||isNaN(le)||te,Y.stop=C>0&&Math.abs(q[v]-z[v])>w,k&&(Y.parsed=q,Y.raw=f.data[C]),b&&(Y.options=p||this.resolveDataElementOptions(C,G.active?"active":a)),E||this.updateElement(G,C,Y,a),z=q}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,a=e.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ce(Fo,"id","line"),ce(Fo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ce(Fo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class qo extends Jn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=hl(n._parsed[e].r,i.options.locale);return{label:a[e]||"",value:o}}parseObjectData(e,n,i,a){return ox.bind(this)(e,n,i,a)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,a=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(a/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,n,i,a){const o=a==="reset",l=this.chart,h=l.options.animation,f=this._cachedMeta.rScale,p=f.xCenter,b=f.yCenter,v=f.getIndexAngle(0)-.5*Ye;let _=v,S;const k=360/this.countVisibleElements();for(S=0;S<n;++S)_+=this._computeAngle(S,a,k);for(S=n;S<n+i;S++){const w=e[S];let E=_,O=_+this._computeAngle(S,a,k),M=l.getDataVisibility(S)?f.getDistanceFromCenterForValue(this.getParsed(S).r):0;_=O,o&&(h.animateScale&&(M=0),h.animateRotate&&(E=O=v));const z={x:p,y:b,innerRadius:0,outerRadius:M,startAngle:E,endAngle:O,options:this.resolveDataElementOptions(S,w.active?"active":a)};this.updateElement(w,S,z,a)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Qn(this.resolveDataElementOptions(e,n).angle||i):0}}ce(qo,"id","polarArea"),ce(qo,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ce(qo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return n.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:a,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class If extends ys{}ce(If,"id","pie"),ce(If,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class iu extends Jn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,a){return ox.bind(this)(e,n,i,a)}update(e){const n=this._cachedMeta,i=n.dataset,a=n.data||[],o=n.iScale.getLabels();if(i.points=a,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===a.length,options:l};this.updateElement(i,void 0,u,e)}this.updateElements(a,0,a.length,e)}updateElements(e,n,i,a){const o=this._cachedMeta.rScale,l=a==="reset";for(let u=n;u<n+i;u++){const h=e[u],f=this.resolveDataElementOptions(u,h.active?"active":a),p=o.getPointPositionForValue(u,this.getParsed(u).r),b=l?o.xCenter:p.x,v=l?o.yCenter:p.y,_={x:b,y:v,angle:p.angle,skip:isNaN(b)||isNaN(v),options:f};this.updateElement(h,u,_,a)}}}ce(iu,"id","radar"),ce(iu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ce(iu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class su extends Jn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=n,l=this.getParsed(e),u=a.getLabelForValue(l.x),h=o.getLabelForValue(l.y);return{label:i[e]||"",value:"("+u+", "+h+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=Q_(n,i,a);if(this._drawStart=o,this._drawCount=l,J_(n)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=n;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=i;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:f},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,p=this.resolveDataElementOptions(n,a),b=this.getSharedOptions(p),v=this.includeOptions(a,b),_=l.axis,S=u.axis,{spanGaps:k,segment:w}=this.options,E=pr(k)?k:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||a==="none";let M=n>0&&this.getParsed(n-1);for(let z=n;z<n+i;++z){const C=e[z],G=this.getParsed(z),Y=O?C:{},q=Me(G[S]),te=Y[_]=l.getPixelForValue(G[_],z),Q=Y[S]=o||q?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,G,h):G[S],z);Y.skip=isNaN(te)||isNaN(Q)||q,Y.stop=z>0&&Math.abs(G[_]-M[_])>E,w&&(Y.parsed=G,Y.raw=f.data[z]),v&&(Y.options=b||this.resolveDataElementOptions(z,C.active?"active":a)),O||this.updateElement(C,z,Y,a),M=G}this.updateSharedOptions(b,a,p)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let u=0;for(let h=n.length-1;h>=0;--h)u=Math.max(u,n[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const i=e.dataset,a=i.options&&i.options.borderWidth||0;if(!n.length)return a;const o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,o,l)/2}}ce(su,"id","scatter"),ce(su,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ce(su,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Aj=Object.freeze({__proto__:null,BarController:Ho,BubbleController:nu,DoughnutController:ys,LineController:Fo,PieController:If,PolarAreaController:qo,RadarController:iu,ScatterController:su});function Ks(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Og{constructor(e){ce(this,"options");this.options=e||{}}static override(e){Object.assign(Og.prototype,e)}init(){}formats(){return Ks()}parse(){return Ks()}format(){return Ks()}add(){return Ks()}diff(){return Ks()}startOf(){return Ks()}endOf(){return Ks()}}var Ej={_date:Og};function jj(t,e,n,i){const{controller:a,data:o,_sorted:l}=t,u=a._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const f=u._reversePixels?XA:Ni;if(i){if(a._sharedOptions){const p=o[0],b=typeof p.getRange=="function"&&p.getRange(e);if(b){const v=f(o,e,n-b),_=f(o,e,n+b);return{lo:v.lo,hi:_.hi}}}}else{const p=f(o,e,n);if(h){const{vScale:b}=a._cachedMeta,{_parsed:v}=t,_=v.slice(0,p.lo+1).reverse().findIndex(k=>!Me(k[b.axis]));p.lo-=Math.max(0,_);const S=v.slice(p.hi).findIndex(k=>!Me(k[b.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:o.length-1}}function ju(t,e,n,i,a){const o=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,h=o.length;u<h;++u){const{index:f,data:p}=o[u],{lo:b,hi:v}=jj(o[u],e,l,a);for(let _=b;_<=v;++_){const S=p[_];S.skip||i(S,f,_)}}}function Mj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,a){const o=e?Math.abs(i.x-a.x):0,l=n?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function df(t,e,n,i,a){const o=[];return!a&&!t.isPointInArea(e)||ju(t,n,e,function(u,h,f){!a&&!Li(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:h,index:f})},!0),o}function Oj(t,e,n,i){let a=[];function o(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:b}=Y_(l,{x:e.x,y:e.y});el(b,f,p)&&a.push({element:l,datasetIndex:u,index:h})}return ju(t,n,e,o),a}function Rj(t,e,n,i,a,o){let l=[];const u=Mj(n);let h=Number.POSITIVE_INFINITY;function f(p,b,v){const _=p.inRange(e.x,e.y,a);if(i&&!_)return;const S=p.getCenterPoint(a);if(!(!!o||t.isPointInArea(S))&&!_)return;const w=u(e,S);w<h?(l=[{element:p,datasetIndex:b,index:v}],h=w):w===h&&l.push({element:p,datasetIndex:b,index:v})}return ju(t,n,e,f),l}function hf(t,e,n,i,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?Oj(t,e,n,a):Rj(t,e,n,i,a,o)}function Yy(t,e,n,i,a){const o=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return ju(t,n,e,(h,f,p)=>{h[l]&&h[l](e[n],a)&&(o.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(e.x,e.y,a))}),i&&!u?[]:o}var Cj={modes:{index(t,e,n,i){const a=ea(e,t),o=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?df(t,a,o,i,l):hf(t,a,o,!1,i,l),h=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,b=f.data[p];b&&!b.skip&&h.push({element:b,datasetIndex:f.index,index:p})}),h):[]},dataset(t,e,n,i){const a=ea(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?df(t,a,o,i,l):hf(t,a,o,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=t.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(t,e,n,i){const a=ea(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return df(t,a,o,i,l)},nearest(t,e,n,i){const a=ea(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return hf(t,a,o,n.intersect,i,l)},x(t,e,n,i){const a=ea(e,t);return Yy(t,a,"x",n.intersect,i)},y(t,e,n,i){const a=ea(e,t);return Yy(t,a,"y",n.intersect,i)}}};const yx=["left","top","right","bottom"];function To(t,e){return t.filter(n=>n.pos===e)}function Wy(t,e){return t.filter(n=>yx.indexOf(n.pos)===-1&&n.box.axis===e)}function Ao(t,e){return t.sort((n,i)=>{const a=e?i:n,o=e?n:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function Dj(t){const e=[];let n,i,a,o,l,u;for(n=0,i=(t||[]).length;n<i;++n)a=t[n],{position:o,options:{stack:l,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:u});return e}function zj(t){const e={};for(const n of t){const{stack:i,pos:a,stackWeight:o}=n;if(!i||!yx.includes(a))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function Nj(t,e){const n=zj(t),{vBoxMaxWidth:i,hBoxMaxHeight:a}=e;let o,l,u;for(o=0,l=t.length;o<l;++o){u=t[o];const{fullSize:h}=u.box,f=n[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=a):(u.width=i,u.height=p?p*a:h&&e.availableHeight)}return n}function Lj(t){const e=Dj(t),n=Ao(e.filter(f=>f.box.fullSize),!0),i=Ao(To(e,"left"),!0),a=Ao(To(e,"right")),o=Ao(To(e,"top"),!0),l=Ao(To(e,"bottom")),u=Wy(e,"x"),h=Wy(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:a.concat(h).concat(l).concat(u),chartArea:To(e,"chartArea"),vertical:i.concat(a).concat(h),horizontal:o.concat(l).concat(u)}}function Gy(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function vx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Uj(t,e,n,i){const{pos:a,box:o}=n,l=t.maxPadding;if(!Be(a)){n.size&&(t[a]-=n.size);const b=i[n.stack]||{size:0,count:1};b.size=Math.max(b.size,n.horizontal?o.height:o.width),n.size=b.size/b.count,t[a]+=n.size}o.getPadding&&vx(l,o.getPadding());const u=Math.max(0,e.outerWidth-Gy(l,t,"left","right")),h=Math.max(0,e.outerHeight-Gy(l,t,"top","bottom")),f=u!==t.w,p=h!==t.h;return t.w=u,t.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function Pj(t){const e=t.maxPadding;function n(i){const a=Math.max(e[i]-t[i],0);return t[i]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Bj(t,e){const n=e.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(e[l],n[l])}),o}return i(t?["left","right"]:["top","bottom"])}function Co(t,e,n,i){const a=[];let o,l,u,h,f,p;for(o=0,l=t.length,f=0;o<l;++o){u=t[o],h=u.box,h.update(u.width||e.w,u.height||e.h,Bj(u.horizontal,e));const{same:b,other:v}=Uj(e,n,u,i);f|=b&&a.length,p=p||v,h.fullSize||a.push(u)}return f&&Co(a,e,n,i)||p}function Bc(t,e,n,i,a){t.top=n,t.left=e,t.right=e+i,t.bottom=n+a,t.width=i,t.height=a}function Xy(t,e,n,i){const a=n.padding;let{x:o,y:l}=e;for(const u of t){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const b=e.w*p,v=f.size||h.height;Jo(f.start)&&(l=f.start),h.fullSize?Bc(h,a.left,l,n.outerWidth-a.right-a.left,v):Bc(h,e.left+f.placed,l,b,v),f.start=l,f.placed+=b,l=h.bottom}else{const b=e.h*p,v=f.size||h.width;Jo(f.start)&&(o=f.start),h.fullSize?Bc(h,o,a.top,v,n.outerHeight-a.bottom-a.top):Bc(h,o,e.top+f.placed,v,b),f.start=o,f.placed+=b,o=h.right}}e.x=o,e.y=l}var cn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const a=sn(t.options.layout.padding),o=Math.max(e-a.width,0),l=Math.max(n-a.height,0),u=Lj(t.boxes),h=u.vertical,f=u.horizontal;Je(t.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const p=h.reduce((k,w)=>w.box.options&&w.box.options.display===!1?k:k+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},a);vx(v,sn(i));const _=Object.assign({maxPadding:v,w:o,h:l,x:a.left,y:a.top},a),S=Nj(h.concat(f),b);Co(u.fullSize,_,b,S),Co(h,_,b,S),Co(f,_,b,S)&&Co(h,_,b,S),Pj(_),Xy(u.leftAndTop,_,b,S),_.x+=_.w,_.y+=_.h,Xy(u.rightAndBottom,_,b,S),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Je(u.chartArea,k=>{const w=k.box;Object.assign(w,t.chartArea),w.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class _x{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,a){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):i)}}isAttached(e){return!0}updateConfig(e){}}class $j extends _x{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const au="$chartjs",Ij={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ky=t=>t===null||t==="";function Hj(t,e){const n=t.style,i=t.getAttribute("height"),a=t.getAttribute("width");if(t[au]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ky(a)){const o=zy(t,"width");o!==void 0&&(t.width=o)}if(Ky(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=zy(t,"height");o!==void 0&&(t.height=o)}return t}const xx=FE?{passive:!0}:!1;function Fj(t,e,n){t&&t.addEventListener(e,n,xx)}function qj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,xx)}function Vj(t,e){const n=Ij[t.type]||t.type,{x:i,y:a}=ea(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:a!==void 0?a:null}}function pu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Zj(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||pu(u.addedNodes,i),l=l&&!pu(u.removedNodes,i);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function Yj(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||pu(u.removedNodes,i),l=l&&!pu(u.addedNodes,i);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const nl=new Map;let Qy=0;function Sx(){const t=window.devicePixelRatio;t!==Qy&&(Qy=t,nl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Wj(t,e){nl.size||window.addEventListener("resize",Sx),nl.set(t,e)}function Gj(t){nl.delete(t),nl.size||window.removeEventListener("resize",Sx)}function Xj(t,e,n){const i=t.canvas,a=i&&Mg(i);if(!a)return;const o=K_((u,h)=>{const f=a.clientWidth;n(u,h),f<a.clientWidth&&n()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(a),Wj(t,o),l}function ff(t,e,n){n&&n.disconnect(),e==="resize"&&Gj(t)}function Kj(t,e,n){const i=t.canvas,a=K_(o=>{t.ctx!==null&&n(Vj(o,t))},t);return Fj(i,e,a),a}class Qj extends _x{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Hj(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[au])return!1;const i=n[au].initial;["height","width"].forEach(o=>{const l=i[o];Me(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=i.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[au],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),l={attach:Zj,detach:Yj,resize:Xj}[n]||Kj;a[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),a=i[n];if(!a)return;({attach:ff,detach:ff,resize:ff}[n]||qj)(e,n,a),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,a){return HE(e,n,i,a)}isAttached(e){const n=e&&Mg(e);return!!(n&&n.isConnected)}}function Jj(t){return!jg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?$j:Qj}class ei{constructor(){ce(this,"x");ce(this,"y");ce(this,"active",!1);ce(this,"options");ce(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return pr(this.x)&&pr(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const a={};return e.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}ce(ei,"defaults",{}),ce(ei,"defaultRoutes");function eM(t,e){const n=t.options.ticks,i=tM(t),a=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?iM(e):[],l=o.length,u=o[0],h=o[l-1],f=[];if(l>a)return sM(e,f,o,l/a),f;const p=nM(o,e,a);if(l>0){let b,v;const _=l>1?Math.round((h-u)/(l-1)):null;for($c(e,f,p,Me(_)?0:u-_,u),b=0,v=l-1;b<v;b++)$c(e,f,p,o[b],o[b+1]);return $c(e,f,p,h,Me(_)?e.length:h+_),f}return $c(e,f,p),f}function tM(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(i,a))}function nM(t,e,n){const i=aM(t),a=e.length/n;if(!i)return Math.max(a,1);const o=VA(i);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>a)return h}return Math.max(a,1)}function iM(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function sM(t,e,n,i){let a=0,o=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===o&&(e.push(t[l]),a++,o=n[a*i])}function $c(t,e,n,i,a){const o=Ee(i,0),l=Math.min(Ee(a,t.length),t.length);let u=0,h,f,p;for(n=Math.ceil(n),a&&(h=a-i,n=h/Math.floor(h/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(f=Math.max(o,0);f<l;f++)f===p&&(e.push(t[f]),u++,p=Math.round(o+u*n))}function aM(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const rM=t=>t==="left"?"right":t==="right"?"left":t,Jy=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,ev=(t,e)=>Math.min(e||t,t);function tv(t,e){const n=[],i=t.length/e,a=t.length;let o=0;for(;o<a;o+=i)n.push(t[Math.floor(o)]);return n}function oM(t,e,n){const i=t.ticks.length,a=Math.min(e,i-1),o=t._startPixel,l=t._endPixel,u=1e-6;let h=t.getPixelForTick(a),f;if(!(n&&(i===1?f=Math.max(h-o,l-h):e===0?f=(t.getPixelForTick(1)-h)/2:f=(h-t.getPixelForTick(a-1))/2,h+=a<e?f:-f,h<o-u||h>l+u)))return h}function lM(t,e){Je(t,n=>{const i=n.gc,a=i.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[i[o]];i.splice(0,a)}})}function Eo(t){return t.drawTicks?t.tickLength:0}function nv(t,e){if(!t.display)return 0;const n=Pt(t.font,e),i=sn(t.padding);return(pt(t.text)?t.text.length:1)*n.lineHeight+i.height}function cM(t,e){return Es(t,{scale:e,type:"scale"})}function uM(t,e,n){return Es(t,{tick:n,index:e,type:"tick"})}function dM(t,e,n){let i=Sg(t);return(n&&e!=="right"||!n&&e==="right")&&(i=rM(i)),i}function hM(t,e,n,i){const{top:a,left:o,bottom:l,right:u,chart:h}=t,{chartArea:f,scales:p}=h;let b=0,v,_,S;const k=l-a,w=u-o;if(t.isHorizontal()){if(_=on(i,o,u),Be(n)){const E=Object.keys(n)[0],O=n[E];S=p[E].getPixelForValue(O)+k-e}else n==="center"?S=(f.bottom+f.top)/2+k-e:S=Jy(t,n,e);v=u-o}else{if(Be(n)){const E=Object.keys(n)[0],O=n[E];_=p[E].getPixelForValue(O)-w+e}else n==="center"?_=(f.left+f.right)/2-w+e:_=Jy(t,n,e);S=on(i,l,a),b=n==="left"?-Dt:Dt}return{titleX:_,titleY:S,maxWidth:v,rotation:b}}class ua extends ei{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:a}=this;return e=zn(e,Number.POSITIVE_INFINITY),n=zn(n,Number.NEGATIVE_INFINITY),i=zn(i,Number.POSITIVE_INFINITY),a=zn(a,Number.NEGATIVE_INFINITY),{min:zn(e,i),max:zn(n,a),minDefined:jt(e),maxDefined:jt(n)}}getMinMax(e){let{min:n,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),a||(n=Math.min(n,l.min)),o||(i=Math.max(i,l.max));return n=o&&n>i?i:n,i=a&&n>i?n:i,{min:zn(n,zn(i,n)),max:zn(i,zn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:a,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_E(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?tv(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=eM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,a,o;for(i=0,a=e.length;i<a;i++)o=e[i],o.label=ct(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=ev(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,u,h,f;if(!this._isVisible()||!n.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),b=p.widest.width,v=p.highest.height,_=Qt(this.chart.width-b,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),b+6>u&&(u=_/(i-(e.offset?.5:1)),h=this.maxHeight-Eo(e.grid)-n.padding-nv(e.title,this.chart.options.font),f=Math.sqrt(b*b+v*v),l=_g(Math.min(Math.asin(Qt((p.highest.height+6)/u,-1,1)),Math.asin(Qt(h/f,-1,1))-Math.asin(Qt(v/f,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:a,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=nv(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=Eo(o)+h):(e.height=this.maxHeight,e.width=Eo(o)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:b,highest:v}=this._getLabelSizes(),_=i.padding*2,S=Qn(this.labelRotation),k=Math.cos(S),w=Math.sin(S);if(u){const E=i.mirror?0:w*b.width+k*v.height;e.height=Math.min(this.maxHeight,e.height+E+_)}else{const E=i.mirror?0:k*b.width+w*v.height;e.width=Math.min(this.maxWidth,e.width+E+_)}this._calculatePadding(f,p,w,k)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,a){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;h?f?(v=a*e.width,_=i*n.height):(v=i*e.height,_=a*n.width):o==="start"?_=n.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,_=n.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-b+l)*this.width/(this.width-b),0)}else{let p=n.height/2,b=e.height/2;o==="start"?(p=0,b=e.height):o==="end"&&(p=n.height,b=0),this.paddingTop=p+l,this.paddingBottom=b+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Me(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=tv(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:a,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(n/ev(n,i));let f=0,p=0,b,v,_,S,k,w,E,O,M,z,C;for(b=0;b<n;b+=h){if(S=e[b].label,k=this._resolveTickFontOptions(b),a.font=w=k.string,E=o[w]=o[w]||{data:{},gc:[]},O=k.lineHeight,M=z=0,!Me(S)&&!pt(S))M=fu(a,E.data,E.gc,M,S),z=O;else if(pt(S))for(v=0,_=S.length;v<_;++v)C=S[v],!Me(C)&&!pt(C)&&(M=fu(a,E.data,E.gc,M,C),z+=O);l.push(M),u.push(z),f=Math.max(M,f),p=Math.max(z,p)}lM(o,n);const G=l.indexOf(f),Y=u.indexOf(p),q=te=>({width:l[te]||0,height:u[te]||0});return{first:q(0),last:q(n-1),widest:q(G),highest:q(Y),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return GA(this._alignToPixels?Xs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=uM(this.getContext(),e,i))}return this.$context||(this.$context=cM(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Qn(this.labelRotation),i=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>u*a?u/i:h/a:h*a<u*i?h/i:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,a=this.options,{grid:o,position:l,border:u}=a,h=o.offset,f=this.isHorizontal(),b=this.ticks.length+(h?1:0),v=Eo(o),_=[],S=u.setContext(this.getContext()),k=S.display?S.width:0,w=k/2,E=function(B){return Xs(i,B,k)};let O,M,z,C,G,Y,q,te,Q,le,re,Te;if(l==="top")O=E(this.bottom),Y=this.bottom-v,te=O-w,le=E(e.top)+w,Te=e.bottom;else if(l==="bottom")O=E(this.top),le=e.top,Te=E(e.bottom)-w,Y=O+w,te=this.top+v;else if(l==="left")O=E(this.right),G=this.right-v,q=O-w,Q=E(e.left)+w,re=e.right;else if(l==="right")O=E(this.left),Q=e.left,re=E(e.right)-w,G=O+w,q=this.left+v;else if(n==="x"){if(l==="center")O=E((e.top+e.bottom)/2+.5);else if(Be(l)){const B=Object.keys(l)[0],ie=l[B];O=E(this.chart.scales[B].getPixelForValue(ie))}le=e.top,Te=e.bottom,Y=O+w,te=Y+v}else if(n==="y"){if(l==="center")O=E((e.left+e.right)/2);else if(Be(l)){const B=Object.keys(l)[0],ie=l[B];O=E(this.chart.scales[B].getPixelForValue(ie))}G=O-w,q=G-v,Q=e.left,re=e.right}const _e=Ee(a.ticks.maxTicksLimit,b),de=Math.max(1,Math.ceil(b/_e));for(M=0;M<b;M+=de){const B=this.getContext(M),ie=o.setContext(B),$=u.setContext(B),N=ie.lineWidth,A=ie.color,U=$.dash||[],Z=$.dashOffset,W=ie.tickWidth,I=ie.tickColor,ae=ie.tickBorderDash||[],oe=ie.tickBorderDashOffset;z=oM(this,M,h),z!==void 0&&(C=Xs(i,z,N),f?G=q=Q=re=C:Y=te=le=Te=C,_.push({tx1:G,ty1:Y,tx2:q,ty2:te,x1:Q,y1:le,x2:re,y2:Te,width:N,color:A,borderDash:U,borderDashOffset:Z,tickWidth:W,tickColor:I,tickBorderDash:ae,tickBorderDashOffset:oe}))}return this._ticksLength=b,this._borderValue=O,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:a,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:b}=o,v=Eo(i.grid),_=v+p,S=b?-p:_,k=-Qn(this.labelRotation),w=[];let E,O,M,z,C,G,Y,q,te,Q,le,re,Te="middle";if(a==="top")G=this.bottom-S,Y=this._getXAxisLabelAlignment();else if(a==="bottom")G=this.top+S,Y=this._getXAxisLabelAlignment();else if(a==="left"){const de=this._getYAxisLabelAlignment(v);Y=de.textAlign,C=de.x}else if(a==="right"){const de=this._getYAxisLabelAlignment(v);Y=de.textAlign,C=de.x}else if(n==="x"){if(a==="center")G=(e.top+e.bottom)/2+_;else if(Be(a)){const de=Object.keys(a)[0],B=a[de];G=this.chart.scales[de].getPixelForValue(B)+_}Y=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")C=(e.left+e.right)/2-_;else if(Be(a)){const de=Object.keys(a)[0],B=a[de];C=this.chart.scales[de].getPixelForValue(B)}Y=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(h==="start"?Te="top":h==="end"&&(Te="bottom"));const _e=this._getLabelSizes();for(E=0,O=u.length;E<O;++E){M=u[E],z=M.label;const de=o.setContext(this.getContext(E));q=this.getPixelForTick(E)+o.labelOffset,te=this._resolveTickFontOptions(E),Q=te.lineHeight,le=pt(z)?z.length:1;const B=le/2,ie=de.color,$=de.textStrokeColor,N=de.textStrokeWidth;let A=Y;l?(C=q,Y==="inner"&&(E===O-1?A=this.options.reverse?"left":"right":E===0?A=this.options.reverse?"right":"left":A="center"),a==="top"?f==="near"||k!==0?re=-le*Q+Q/2:f==="center"?re=-_e.highest.height/2-B*Q+Q:re=-_e.highest.height+Q/2:f==="near"||k!==0?re=Q/2:f==="center"?re=_e.highest.height/2-B*Q:re=_e.highest.height-le*Q,b&&(re*=-1),k!==0&&!de.showLabelBackdrop&&(C+=Q/2*Math.sin(k))):(G=q,re=(1-le)*Q/2);let U;if(de.showLabelBackdrop){const Z=sn(de.backdropPadding),W=_e.heights[E],I=_e.widths[E];let ae=re-Z.top,oe=0-Z.left;switch(Te){case"middle":ae-=W/2;break;case"bottom":ae-=W;break}switch(Y){case"center":oe-=I/2;break;case"right":oe-=I;break;case"inner":E===O-1?oe-=I:E>0&&(oe-=I/2);break}U={left:oe,top:ae,width:I+Z.width,height:W+Z.height,color:de.backdropColor}}w.push({label:z,font:te,textOffset:re,options:{rotation:k,color:ie,strokeColor:$,strokeWidth:N,textAlign:A,textBaseline:Te,translation:[C,G],backdrop:U}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Qn(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,h=l.widest.width;let f,p;return n==="left"?a?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?a?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:a,width:o,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,a,o,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const h=a[o];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,b,v;this.isHorizontal()?(f=Xs(e,this.left,l)-l/2,p=Xs(e,this.right,u)+u/2,b=v=h):(b=Xs(e,this.top,l)-l/2,v=Xs(e,this.bottom,u)+u/2,f=p=h),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(f,b),n.lineTo(p,v),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Tu(i,a);const o=this.getLabelItems(e);for(const l of o){const u=l.options,h=l.font,f=l.label,p=l.textOffset;ra(i,f,0,p,h,u)}a&&Au(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:a}}=this;if(!i.display)return;const o=Pt(i.font),l=sn(i.padding),u=i.align;let h=o.lineHeight/2;n==="bottom"||n==="center"||Be(n)?(h+=l.bottom,pt(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:b,rotation:v}=hM(this,h,n,u);ra(e,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:v,textAlign:dM(u,n,a),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ee(e.grid&&e.grid.z,-1),a=Ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ua.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];u[i]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Pt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ic{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;pM(n)&&(i=this.register(n));const a=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,fM(e,l,i),this.override&&bt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,a=this.scope;i in n&&delete n[i],a&&i in bt[a]&&(delete bt[a][i],this.override&&delete aa[i])}}function fM(t,e,n){const i=ui(Object.create(null),[n?bt.get(n):{},bt.get(e),t.defaults]);bt.set(e,i),t.defaultRoutes&&gM(e,t.defaultRoutes),t.descriptors&&bt.describe(e,t.descriptors)}function gM(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),a=i.pop(),o=[t].concat(i).join("."),l=e[n].split("."),u=l.pop(),h=l.join(".");bt.route(o,a,h,u)})}function pM(t){return"id"in t&&"defaults"in t}class mM{constructor(){this.controllers=new Ic(Jn,"datasets",!0),this.elements=new Ic(ei,"elements"),this.plugins=new Ic(Object,"plugins"),this.scales=new Ic(ua,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):Je(a,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,i){const a=vg(e);ct(i["before"+a],[],i),n[e](i),ct(i["after"+a],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return a}}var li=new mM;class bM{constructor(){this._init=[]}notify(e,n,i,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),l=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,a){a=a||{};for(const o of e){const l=o.plugin,u=l[i],h=[n,a,o.options];if(ct(u,h,l)===!1&&a.cancelable)return!1}return!0}invalidate(){Me(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,a=Ee(i.options&&i.options.plugins,{}),o=yM(i);return a===!1&&!n?[]:_M(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,a=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(a(n,i),e,"stop"),this._notify(a(i,n),e,"start")}}function yM(t){const e={},n=[],i=Object.keys(li.plugins.items);for(let o=0;o<i.length;o++)n.push(li.getPlugin(i[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function vM(t,e){return!e&&t===!1?null:t===!0?{}:t}function _M(t,{plugins:e,localIds:n},i,a){const o=[],l=t.getContext();for(const u of e){const h=u.id,f=vM(i[h],a);f!==null&&o.push({plugin:u,options:xM(t.config,{plugin:u,local:n[h]},f,l)})}return o}function xM(t,{plugin:e,local:n},i,a){const o=t.pluginScopeKeys(e),l=t.getOptionScopes(i,o);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hf(t,e){const n=bt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function SM(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function wM(t,e){return t===e?"_index_":"_value_"}function iv(t){if(t==="x"||t==="y"||t==="r")return t}function kM(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ff(t,...e){if(iv(t))return t;for(const n of e){const i=n.axis||kM(n.position)||t.length>1&&iv(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function sv(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function TM(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return sv(t,"x",n[0])||sv(t,"y",n[0])}return{}}function AM(t,e){const n=aa[t.type]||{scales:{}},i=e.scales||{},a=Hf(t.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Be(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Ff(l,u,TM(l,t),bt.scales[u.type]),f=wM(h,a),p=n.scales||{};o[l]=Po(Object.create(null),[{axis:h},u,p[h],p[f]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,h=l.indexAxis||Hf(u,e),p=(aa[u]||{}).scales||{};Object.keys(p).forEach(b=>{const v=SM(b,h),_=l[v+"AxisID"]||v;o[_]=o[_]||Object.create(null),Po(o[_],[{axis:v},i[_],p[b]])})}),Object.keys(o).forEach(l=>{const u=o[l];Po(u,[bt.scales[u.type],bt.scale])}),o}function wx(t){const e=t.options||(t.options={});e.plugins=Ee(e.plugins,{}),e.scales=AM(t,e)}function kx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function EM(t){return t=t||{},t.data=kx(t.data),wx(t),t}const av=new Map,Tx=new Set;function Hc(t,e){let n=av.get(t);return n||(n=e(),av.set(t,n),Tx.add(n)),n}const jo=(t,e,n)=>{const i=ws(e,n);i!==void 0&&t.add(i)};class jM{constructor(e){this._config=EM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=kx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),wx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Hc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Hc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Hc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let a=i.get(e);return(!a||n)&&(a=new Map,i.set(e,a)),a}getOptionScopes(e,n,i){const{options:a,type:o}=this,l=this._cachedScopes(e,i),u=l.get(n);if(u)return u;const h=new Set;n.forEach(p=>{e&&(h.add(e),p.forEach(b=>jo(h,e,b))),p.forEach(b=>jo(h,a,b)),p.forEach(b=>jo(h,aa[o]||{},b)),p.forEach(b=>jo(h,bt,b)),p.forEach(b=>jo(h,Bf,b))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),Tx.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,aa[n]||{},bt.datasets[n]||{},{type:n},bt,Bf]}resolveNamedOptions(e,n,i,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=rv(this._resolverCache,e,a);let h=l;if(OM(l,n)){o.$shared=!1,i=ks(i)?i():i;const f=this.createResolver(e,i,u);h=mr(l,i,f)}for(const f of n)o[f]=h[f];return o}createResolver(e,n,i=[""],a){const{resolver:o}=rv(this._resolverCache,e,i);return Be(n)?mr(o,n,void 0,a):o}}function rv(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const a=n.join();let o=i.get(a);return o||(o={resolver:Tg(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(a,o)),o}const MM=t=>Be(t)&&Object.getOwnPropertyNames(t).some(e=>ks(t[e]));function OM(t,e){const{isScriptable:n,isIndexable:i}=ix(t);for(const a of e){const o=n(a),l=i(a),u=(l||o)&&t[a];if(o&&(ks(u)||MM(u))||l&&pt(u))return!0}return!1}var RM="4.5.0";const CM=["top","bottom","left","right","chartArea"];function ov(t,e){return t==="top"||t==="bottom"||CM.indexOf(t)===-1&&e==="x"}function lv(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function cv(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ct(n&&n.onComplete,[t],e)}function DM(t){const e=t.chart,n=e.options.animation;ct(n&&n.onProgress,[t],e)}function Ax(t){return jg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ru={},uv=t=>{const e=Ax(t);return Object.values(ru).filter(n=>n.canvas===e).pop()};function zM(t,e,n){const i=Object.keys(t);for(const a of i){const o=+a;if(o>=e){const l=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=l)}}}function NM(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var ds;let Sr=(ds=class{static register(...e){li.add(...e),dv()}static unregister(...e){li.remove(...e),dv()}constructor(e,n){const i=this.config=new jM(n),a=Ax(e),o=uv(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Jj(a)),this.platform.updateConfig(i);const u=this.platform.acquireContext(a,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=LA(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=JA(b=>this.update(b),l.resizeDelay||0),this._dataChanges=[],ru[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Oi.listen(this,"complete",cv),Oi.listen(this,"progress",DM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:a,_aspectRatio:o}=this;return Me(e)?n&&o?o:a?i/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return li}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Dy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Oy(this.canvas,this.ctx),this}stop(){return Oi.stop(this),this}resize(e,n){Oi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,e,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Dy(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ct(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Je(n,(i,a)=>{i.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,a=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const u=n[l],h=Ff(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Je(o,l=>{const u=l.options,h=u.id,f=Ff(h,u),p=Ee(u.type,l.dtype);(u.position===void 0||ov(u.position,f)!==ov(l.dposition))&&(u.position=l.dposition),a[h]=!0;let b=null;if(h in i&&i[h].type===p)b=i[h];else{const v=li.getScale(p);b=new v({id:h,type:p,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(u,e)}),Je(a,(l,u)=>{l||delete i[u]}),Je(i,l=>{cn.configure(this,l,l.options),cn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((a,o)=>a.index-o.index),i>n){for(let a=n;a<i;++a)this._destroyDatasetMeta(a);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(lv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,a)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=n.length;i<a;i++){const o=n[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Hf(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=li.getController(u),{datasetElementType:f,dataElementType:p}=bt.datasets[u];Object.assign(h,{dataElementType:li.getElement(p),datasetElementType:f&&li.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Je(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:b}=this.getDatasetMeta(f),v=!a&&o.indexOf(b)===-1;b.buildOrUpdateElements(v),l=Math.max(+b.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),a||Je(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lv("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Je(this.scales,e=>{cn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!xy(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of n){const l=i==="_removeElements"?-o:o;zM(e,a,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),a=i(0);for(let o=1;o<n;o++)if(!xy(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;cn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Je(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ks(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),a={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Oi.has(this)?this.attached&&!Oi.running(this)&&Oi.start(this):(this.draw(),cv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},a=gx(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Tu(n,a),e.controller.draw(),a&&Au(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Li(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,a){const o=Cj.modes[n];return typeof o=="function"?o(this,e,i,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let a=i.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const a=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,a);Jo(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Oi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Oy(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ru[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},a=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Je(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),e[h]=f},a=(h,f)=>{e[h]&&(n.removeEventListener(this,h,f),delete e[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){Je(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Je(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const a=i?"set":"remove";let o,l,u,h;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!uu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const a=this.options.hover,o=(h,f)=>h.filter(p=>!f.some(b=>p.datasetIndex===b.datasetIndex&&p.index===b.index)),l=o(n,e),u=i?e:o(e,n);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:a=[],options:o}=this,l=n,u=this._getActiveElements(e,a,i,l),h=HA(e),f=NM(e,this._lastEvent,i,h);i&&(this._lastEvent=null,ct(o.onHover,[e,u,this],this),h&&ct(o.onClick,[e,u,this],this));const p=!uu(u,a);return(p||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=f,p}_getActiveElements(e,n,i,a){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}},ce(ds,"defaults",bt),ce(ds,"instances",ru),ce(ds,"overrides",aa),ce(ds,"registry",li),ce(ds,"version",RM),ce(ds,"getChart",uv),ds);function dv(){return Je(Sr.instances,t=>t._plugins.invalidate())}function LM(t,e,n){const{startAngle:i,x:a,y:o,outerRadius:l,innerRadius:u,options:h}=e,{borderWidth:f,borderJoinStyle:p}=h,b=Math.min(f/l,ln(i-n));if(t.beginPath(),t.arc(a,o,l-f/2,i+b/2,n-b/2),u>0){const v=Math.min(f/u,ln(i-n));t.arc(a,o,u+f/2,n-v/2,i+v/2,!0)}else{const v=Math.min(f/2,l*ln(i-n));if(p==="round")t.arc(a,o,v,n-Ye/2,i+Ye/2,!0);else if(p==="bevel"){const _=2*v*v,S=-_*Math.cos(n+Ye/2)+a,k=-_*Math.sin(n+Ye/2)+o,w=_*Math.cos(i+Ye/2)+a,E=_*Math.sin(i+Ye/2)+o;t.lineTo(S,k),t.lineTo(w,E)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function UM(t,e,n){const{startAngle:i,pixelMargin:a,x:o,y:l,outerRadius:u,innerRadius:h}=e;let f=a/u;t.beginPath(),t.arc(o,l,u,i-f,n+f),h>a?(f=a/h,t.arc(o,l,h,n+f,i-f,!0)):t.arc(o,l,a,n+Dt,i-Dt),t.closePath(),t.clip()}function PM(t){return kg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function BM(t,e,n,i){const a=PM(t.options.borderRadius),o=(n-e)/2,l=Math.min(o,i*e/2),u=h=>{const f=(n-Math.min(o,h))*i/2;return Qt(h,0,Math.min(o,f))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Qt(a.innerStart,0,l),innerEnd:Qt(a.innerEnd,0,l)}}function rr(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function mu(t,e,n,i,a,o){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:p}=e,b=Math.max(e.outerRadius+i+n-f,0),v=p>0?p+i+n+f:0;let _=0;const S=a-h;if(i){const de=p>0?p-i:0,B=b>0?b-i:0,ie=(de+B)/2,$=ie!==0?S*ie/(ie+i):S;_=(S-$)/2}const k=Math.max(.001,S*b-n/Ye)/b,w=(S-k)/2,E=h+w+_,O=a-w-_,{outerStart:M,outerEnd:z,innerStart:C,innerEnd:G}=BM(e,v,b,O-E),Y=b-M,q=b-z,te=E+M/Y,Q=O-z/q,le=v+C,re=v+G,Te=E+C/le,_e=O-G/re;if(t.beginPath(),o){const de=(te+Q)/2;if(t.arc(l,u,b,te,de),t.arc(l,u,b,de,Q),z>0){const N=rr(q,Q,l,u);t.arc(N.x,N.y,z,Q,O+Dt)}const B=rr(re,O,l,u);if(t.lineTo(B.x,B.y),G>0){const N=rr(re,_e,l,u);t.arc(N.x,N.y,G,O+Dt,_e+Math.PI)}const ie=(O-G/v+(E+C/v))/2;if(t.arc(l,u,v,O-G/v,ie,!0),t.arc(l,u,v,ie,E+C/v,!0),C>0){const N=rr(le,Te,l,u);t.arc(N.x,N.y,C,Te+Math.PI,E-Dt)}const $=rr(Y,E,l,u);if(t.lineTo($.x,$.y),M>0){const N=rr(Y,te,l,u);t.arc(N.x,N.y,M,E-Dt,te)}}else{t.moveTo(l,u);const de=Math.cos(te)*b+l,B=Math.sin(te)*b+u;t.lineTo(de,B);const ie=Math.cos(Q)*b+l,$=Math.sin(Q)*b+u;t.lineTo(ie,$)}t.closePath()}function $M(t,e,n,i,a){const{fullCircles:o,startAngle:l,circumference:u}=e;let h=e.endAngle;if(o){mu(t,e,n,i,h,a);for(let f=0;f<o;++f)t.fill();isNaN(u)||(h=l+(u%mt||mt))}return mu(t,e,n,i,h,a),t.fill(),h}function IM(t,e,n,i,a){const{fullCircles:o,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:p,borderDash:b,borderDashOffset:v,borderRadius:_}=h,S=h.borderAlign==="inner";if(!f)return;t.setLineDash(b||[]),t.lineDashOffset=v,S?(t.lineWidth=f*2,t.lineJoin=p||"round"):(t.lineWidth=f,t.lineJoin=p||"bevel");let k=e.endAngle;if(o){mu(t,e,n,i,k,a);for(let w=0;w<o;++w)t.stroke();isNaN(u)||(k=l+(u%mt||mt))}S&&UM(t,e,k),h.selfJoin&&k-l>=Ye&&_===0&&p!=="miter"&&LM(t,e,k),o||(mu(t,e,n,i,k,a),t.stroke())}class cr extends ei{constructor(n){super();ce(this,"circumference");ce(this,"endAngle");ce(this,"fullCircles");ce(this,"innerRadius");ce(this,"outerRadius");ce(this,"pixelMargin");ce(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,a){const o=this.getProps(["x","y"],a),{angle:l,distance:u}=Y_(o,{x:n,y:i}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:b,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),_=(this.options.spacing+this.options.borderWidth)/2,S=Ee(v,f-h),k=el(l,h,f)&&h!==f,w=S>=mt||k,E=zi(u,p+_,b+_);return w&&E}getCenterPoint(n){const{x:i,y:a,startAngle:o,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:f,spacing:p}=this.options,b=(o+l)/2,v=(u+h+p+f)/2;return{x:i+Math.cos(b)*v,y:a+Math.sin(b)*v}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:a}=this,o=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=a>mt?Math.floor(a/mt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*o,Math.sin(h)*o);const f=1-Math.sin(Math.min(Ye,a||0)),p=o*f;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,$M(n,this,p,l,u),IM(n,this,p,l,u),n.restore()}}ce(cr,"id","arc"),ce(cr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ce(cr,"defaultRoutes",{backgroundColor:"backgroundColor"}),ce(cr,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Ex(t,e,n=e){t.lineCap=Ee(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ee(n.borderDash,e.borderDash)),t.lineDashOffset=Ee(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ee(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ee(n.borderWidth,e.borderWidth),t.strokeStyle=Ee(n.borderColor,e.borderColor)}function HM(t,e,n){t.lineTo(n.x,n.y)}function FM(t){return t.stepped?dE:t.tension||t.cubicInterpolationMode==="monotone"?hE:HM}function jx(t,e,n={}){const i=t.length,{start:a=0,end:o=i-1}=n,{start:l,end:u}=e,h=Math.max(a,l),f=Math.min(o,u),p=a<l&&o<l||a>u&&o>u;return{count:i,start:h,loop:e.loop,ilen:f<h&&!p?i+f-h:f-h}}function qM(t,e,n,i){const{points:a,options:o}=e,{count:l,start:u,loop:h,ilen:f}=jx(a,n,i),p=FM(o);let{move:b=!0,reverse:v}=i||{},_,S,k;for(_=0;_<=f;++_)S=a[(u+(v?f-_:_))%l],!S.skip&&(b?(t.moveTo(S.x,S.y),b=!1):p(t,k,S,v,o.stepped),k=S);return h&&(S=a[(u+(v?f:0))%l],p(t,k,S,v,o.stepped)),!!h}function VM(t,e,n,i){const a=e.points,{count:o,start:l,ilen:u}=jx(a,n,i),{move:h=!0,reverse:f}=i||{};let p=0,b=0,v,_,S,k,w,E;const O=z=>(l+(f?u-z:z))%o,M=()=>{k!==w&&(t.lineTo(p,w),t.lineTo(p,k),t.lineTo(p,E))};for(h&&(_=a[O(0)],t.moveTo(_.x,_.y)),v=0;v<=u;++v){if(_=a[O(v)],_.skip)continue;const z=_.x,C=_.y,G=z|0;G===S?(C<k?k=C:C>w&&(w=C),p=(b*p+z)/++b):(M(),t.lineTo(z,C),S=G,b=0,k=w=C),E=C}M()}function qf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?VM:qM}function ZM(t){return t.stepped?qE:t.tension||t.cubicInterpolationMode==="monotone"?VE:ta}function YM(t,e,n,i){let a=e._path;a||(a=e._path=new Path2D,e.path(a,n,i)&&a.closePath()),Ex(t,e.options),t.stroke(a)}function WM(t,e,n,i){const{segments:a,options:o}=e,l=qf(e);for(const u of a)Ex(t,o,u.style),t.beginPath(),l(t,e,u,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const GM=typeof Path2D=="function";function XM(t,e,n,i){GM&&!e.options.segment?YM(t,e,n,i):WM(t,e,n,i)}class vs extends ei{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;LE(this._points,i,e,a,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=KE(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,a=e[n],o=this.points,l=fx(this,{property:n,start:a,end:a});if(!l.length)return;const u=[],h=ZM(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:b,end:v}=l[f],_=o[b],S=o[v];if(_===S){u.push(_);continue}const k=Math.abs((a-_[n])/(S[n]-_[n])),w=h(_,S,k,i.stepped);w[n]=e[n],u.push(w)}return u.length===1?u[0]:u}pathSegment(e,n,i){return qf(this)(e,this,n,i)}path(e,n,i){const a=this.segments,o=qf(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const u of a)l&=o(e,this,u,{start:n,end:n+i-1});return!!l}draw(e,n,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),XM(e,this,i,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ce(vs,"id","line"),ce(vs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ce(vs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ce(vs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function hv(t,e,n,i){const a=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<a.radius+a.hitRadius}class Vo extends ei{constructor(n){super();ce(this,"parsed");ce(this,"skip");ce(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,a){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],a);return Math.pow(n-l,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return hv(this,n,"x",i)}inYRange(n,i){return hv(this,n,"y",i)}getCenterPoint(n){const{x:i,y:a}=this.getProps(["x","y"],n);return{x:i,y:a}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const a=i&&n.borderWidth||0;return(i+a)*2}draw(n,i){const a=this.options;this.skip||a.radius<.1||!Li(this,i,this.size(a)/2)||(n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.fillStyle=a.backgroundColor,$f(n,a,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ce(Vo,"id","point"),ce(Vo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ce(Vo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Mx(t,e){const{x:n,y:i,base:a,width:o,height:l}=t.getProps(["x","y","base","width","height"],e);let u,h,f,p,b;return t.horizontal?(b=l/2,u=Math.min(n,a),h=Math.max(n,a),f=i-b,p=i+b):(b=o/2,u=n-b,h=n+b,f=Math.min(i,a),p=Math.max(i,a)),{left:u,top:f,right:h,bottom:p}}function _s(t,e,n,i){return t?0:Qt(e,n,i)}function KM(t,e,n){const i=t.options.borderWidth,a=t.borderSkipped,o=nx(i);return{t:_s(a.top,o.top,0,n),r:_s(a.right,o.right,0,e),b:_s(a.bottom,o.bottom,0,n),l:_s(a.left,o.left,0,e)}}function QM(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=ia(a),l=Math.min(e,n),u=t.borderSkipped,h=i||Be(a);return{topLeft:_s(!h||u.top||u.left,o.topLeft,0,l),topRight:_s(!h||u.top||u.right,o.topRight,0,l),bottomLeft:_s(!h||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:_s(!h||u.bottom||u.right,o.bottomRight,0,l)}}function JM(t){const e=Mx(t),n=e.right-e.left,i=e.bottom-e.top,a=KM(t,n/2,i/2),o=QM(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function gf(t,e,n,i){const a=e===null,o=n===null,u=t&&!(a&&o)&&Mx(t,i);return u&&(a||zi(e,u.left,u.right))&&(o||zi(n,u.top,u.bottom))}function eO(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function tO(t,e){t.rect(e.x,e.y,e.w,e.h)}function pf(t,e,n={}){const i=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,l=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+i,y:t.y+a,w:t.w+o,h:t.h+l,radius:t.radius}}class Zo extends ei{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:l}=JM(this),u=eO(l.radius)?tl:tO;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,pf(l,n,o)),e.clip(),u(e,pf(o,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,pf(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,i){return gf(this,e,n,i)}inXRange(e,n){return gf(this,e,null,n)}inYRange(e,n){return gf(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?i:(i+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ce(Zo,"id","bar"),ce(Zo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ce(Zo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var nO=Object.freeze({__proto__:null,ArcElement:cr,BarElement:Zo,LineElement:vs,PointElement:Vo});const Vf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],fv=Vf.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ox(t){return Vf[t%Vf.length]}function Rx(t){return fv[t%fv.length]}function iO(t,e){return t.borderColor=Ox(e),t.backgroundColor=Rx(e),++e}function sO(t,e){return t.backgroundColor=t.data.map(()=>Ox(e++)),e}function aO(t,e){return t.backgroundColor=t.data.map(()=>Rx(e++)),e}function rO(t){let e=0;return(n,i)=>{const a=t.getDatasetMeta(i).controller;a instanceof ys?e=sO(n,e):a instanceof qo?e=aO(n,e):a&&(e=iO(n,e))}}function gv(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function oO(t){return t&&(t.borderColor||t.backgroundColor)}function lO(){return bt.borderColor!=="rgba(0,0,0,0.1)"||bt.backgroundColor!=="rgba(0,0,0,0.1)"}var cO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:a}=t.config,{elements:o}=a,l=gv(i)||oO(a)||o&&gv(o)||lO();if(!n.forceOverride&&l)return;const u=rO(t);i.forEach(u)}};function uO(t,e,n,i,a){const o=a.samples||i;if(o>=n)return t.slice(e,e+n);const l=[],u=(n-2)/(o-2);let h=0;const f=e+n-1;let p=e,b,v,_,S,k;for(l[h++]=t[p],b=0;b<o-2;b++){let w=0,E=0,O;const M=Math.floor((b+1)*u)+1+e,z=Math.min(Math.floor((b+2)*u)+1,n)+e,C=z-M;for(O=M;O<z;O++)w+=t[O].x,E+=t[O].y;w/=C,E/=C;const G=Math.floor(b*u)+1+e,Y=Math.min(Math.floor((b+1)*u)+1,n)+e,{x:q,y:te}=t[p];for(_=S=-1,O=G;O<Y;O++)S=.5*Math.abs((q-w)*(t[O].y-te)-(q-t[O].x)*(E-te)),S>_&&(_=S,v=t[O],k=O);l[h++]=v,p=k}return l[h++]=t[f],l}function dO(t,e,n,i){let a=0,o=0,l,u,h,f,p,b,v,_,S,k;const w=[],E=e+n-1,O=t[e].x,z=t[E].x-O;for(l=e;l<e+n;++l){u=t[l],h=(u.x-O)/z*i,f=u.y;const C=h|0;if(C===p)f<S?(S=f,b=l):f>k&&(k=f,v=l),a=(o*a+u.x)/++o;else{const G=l-1;if(!Me(b)&&!Me(v)){const Y=Math.min(b,v),q=Math.max(b,v);Y!==_&&Y!==G&&w.push({...t[Y],x:a}),q!==_&&q!==G&&w.push({...t[q],x:a})}l>0&&G!==_&&w.push(t[G]),w.push(u),p=C,o=0,S=k=f,b=v=_=l}}return w}function Cx(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function pv(t){t.data.datasets.forEach(e=>{Cx(e)})}function hO(t,e){const n=e.length;let i=0,a;const{iScale:o}=t,{min:l,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();return h&&(i=Qt(Ni(e,o.axis,l).lo,0,n-1)),f?a=Qt(Ni(e,o.axis,u).hi+1,i,n)-i:a=n-i,{start:i,count:a}}var fO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){pv(t);return}const i=t.width;t.data.datasets.forEach((a,o)=>{const{_data:l,indexAxis:u}=a,h=t.getDatasetMeta(o),f=l||a.data;if(gt([u,t.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=t.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||t.options.parsing)return;let{start:b,count:v}=hO(h,f);const _=n.threshold||4*i;if(v<=_){Cx(a);return}Me(l)&&(a._data=f,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}}));let S;switch(n.algorithm){case"lttb":S=uO(f,b,v,i,n);break;case"min-max":S=dO(f,b,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}a._decimated=S})},destroy(t){pv(t)}};function gO(t,e,n){const i=t.segments,a=t.points,o=e.points,l=[];for(const u of i){let{start:h,end:f}=u;f=Mu(h,f,a);const p=Zf(n,a[h],a[f],u.loop);if(!e.segments){l.push({source:u,target:p,start:a[h],end:a[f]});continue}const b=fx(e,p);for(const v of b){const _=Zf(n,o[v.start],o[v.end],v.loop),S=hx(u,a,_);for(const k of S)l.push({source:k,target:v,start:{[n]:mv(p,_,"start",Math.max)},end:{[n]:mv(p,_,"end",Math.min)}})}}return l}function Zf(t,e,n,i){if(i)return;let a=e[t],o=n[t];return t==="angle"&&(a=ln(a),o=ln(o)),{property:t,start:a,end:o}}function pO(t,e){const{x:n=null,y:i=null}=t||{},a=e.points,o=[];return e.segments.forEach(({start:l,end:u})=>{u=Mu(l,u,a);const h=a[l],f=a[u];i!==null?(o.push({x:h.x,y:i}),o.push({x:f.x,y:i})):n!==null&&(o.push({x:n,y:h.y}),o.push({x:n,y:f.y}))}),o}function Mu(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function mv(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Dx(t,e){let n=[],i=!1;return pt(t)?(i=!0,n=t):n=pO(t,e),n.length?new vs({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function bv(t){return t&&t.fill!==!1}function mO(t,e,n){let a=t[e].fill;const o=[e];let l;if(!n)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!jt(a))return a;if(l=t[a],!l)return!1;if(l.visible)return a;o.push(a),a=l.fill}return!1}function bO(t,e,n){const i=xO(t);if(Be(i))return isNaN(i.value)?!1:i;let a=parseFloat(i);return jt(a)&&Math.floor(a)===a?yO(i[0],e,a,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function yO(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function vO(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Be(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function _O(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:Be(t)?i=t.value:i=e.getBaseValue(),i}function xO(t){const e=t.options,n=e.fill;let i=Ee(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function SO(t){const{scale:e,index:n,line:i}=t,a=[],o=i.segments,l=i.points,u=wO(e,n);u.push(Dx({x:null,y:e.bottom},i));for(let h=0;h<o.length;h++){const f=o[h];for(let p=f.start;p<=f.end;p++)kO(a,l[p],u)}return new vs({points:a,options:{}})}function wO(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const o=i[a];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function kO(t,e,n){const i=[];for(let a=0;a<n.length;a++){const o=n[a],{first:l,last:u,point:h}=TO(o,e,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(t.push(h),!u)break}}t.push(...i)}function TO(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const a=i[n],o=t.segments,l=t.points;let u=!1,h=!1;for(let f=0;f<o.length;f++){const p=o[f],b=l[p.start][n],v=l[p.end][n];if(zi(a,b,v)){u=a===b,h=a===v;break}}return{first:u,last:h,point:i}}class zx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:a,y:o,radius:l}=this;return n=n||{start:0,end:mt},e.arc(a,o,l,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:a}=this,o=e.angle;return{x:n+Math.cos(o)*a,y:i+Math.sin(o)*a,angle:o}}}function AO(t){const{chart:e,fill:n,line:i}=t;if(jt(n))return EO(e,n);if(n==="stack")return SO(t);if(n==="shape")return!0;const a=jO(t);return a instanceof zx?a:Dx(a,i)}function EO(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function jO(t){return(t.scale||{}).getPointPositionForValue?OO(t):MO(t)}function MO(t){const{scale:e={},fill:n}=t,i=vO(n,e);if(jt(i)){const a=e.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}function OO(t){const{scale:e,fill:n}=t,i=e.options,a=e.getLabels().length,o=i.reverse?e.max:e.min,l=_O(n,e,o),u=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,o);return new zx({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(l)})}for(let h=0;h<a;++h)u.push(e.getPointPositionForValue(h,l));return u}function mf(t,e,n){const i=AO(e),{chart:a,index:o,line:l,scale:u,axis:h}=e,f=l.options,p=f.fill,b=f.backgroundColor,{above:v=b,below:_=b}=p||{},S=a.getDatasetMeta(o),k=gx(a,S);i&&l.points.length&&(Tu(t,n),RO(t,{line:l,target:i,above:v,below:_,area:n,scale:u,axis:h,clip:k}),Au(t))}function RO(t,e){const{line:n,target:i,above:a,below:o,area:l,scale:u,clip:h}=e,f=n._loop?"angle":e.axis;t.save();let p=o;o!==a&&(f==="x"?(yv(t,i,l.top),bf(t,{line:n,target:i,color:a,scale:u,property:f,clip:h}),t.restore(),t.save(),yv(t,i,l.bottom)):f==="y"&&(vv(t,i,l.left),bf(t,{line:n,target:i,color:o,scale:u,property:f,clip:h}),t.restore(),t.save(),vv(t,i,l.right),p=a)),bf(t,{line:n,target:i,color:p,scale:u,property:f,clip:h}),t.restore()}function yv(t,e,n){const{segments:i,points:a}=e;let o=!0,l=!1;t.beginPath();for(const u of i){const{start:h,end:f}=u,p=a[h],b=a[Mu(h,f,a)];o?(t.moveTo(p.x,p.y),o=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(b.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function vv(t,e,n){const{segments:i,points:a}=e;let o=!0,l=!1;t.beginPath();for(const u of i){const{start:h,end:f}=u,p=a[h],b=a[Mu(h,f,a)];o?(t.moveTo(p.x,p.y),o=!1):(t.lineTo(n,p.y),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(n,b.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function bf(t,e){const{line:n,target:i,property:a,color:o,scale:l,clip:u}=e,h=gO(n,i,a);for(const{source:f,target:p,start:b,end:v}of h){const{style:{backgroundColor:_=o}={}}=f,S=i!==!0;t.save(),t.fillStyle=_,CO(t,l,u,S&&Zf(a,b,v)),t.beginPath();const k=!!n.pathSegment(t,f);let w;if(S){k?t.closePath():_v(t,i,v,a);const E=!!i.pathSegment(t,p,{move:k,reverse:!0});w=k&&E,w||_v(t,i,b,a)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function CO(t,e,n,i){const a=e.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let h,f,p,b;o==="x"?(h=l,f=a.top,p=u,b=a.bottom):(h=a.left,f=l,p=a.right,b=u),t.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),f=Math.max(f,n.top),b=Math.min(b,n.bottom)),t.rect(h,f,p-h,b-f),t.clip()}}function _v(t,e,n,i){const a=e.interpolate(n,i);a&&t.lineTo(a.x,a.y)}var DO={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,a=[];let o,l,u,h;for(l=0;l<i;++l)o=t.getDatasetMeta(l),u=o.dataset,h=null,u&&u.options&&u instanceof vs&&(h={visible:t.isDatasetVisible(l),index:l,fill:bO(u,l,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,a.push(h);for(l=0;l<i;++l)h=a[l],!(!h||h.fill===!1)&&(h.fill=mO(a,l,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let l=a.length-1;l>=0;--l){const u=a[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&mf(t.ctx,u,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;bv(o)&&mf(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!bv(i)||n.drawTime!=="beforeDatasetDraw"||mf(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const xv=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},zO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Sv extends ei{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ct(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,a)=>e.sort(i,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,a=Pt(i.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=xv(i,o);let f,p;n.font=a.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,a,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,a){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=a+u;let b=e;o.textAlign="left",o.textBaseline="middle";let v=-1,_=-p;return this.legendItems.forEach((S,k)=>{const w=i+n/2+o.measureText(S.text).width;(k===0||f[f.length-1]+w+2*u>l)&&(b+=p,f[f.length-(k>0?0:1)]=0,_+=p,v++),h[k]={left:0,top:_,row:v,width:w,height:a},f[f.length-1]+=w+u}),b}_fitCols(e,n,i,a){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let b=u,v=0,_=0,S=0,k=0;return this.legendItems.forEach((w,E)=>{const{itemWidth:O,itemHeight:M}=NO(i,n,o,w,a);E>0&&_+M+2*u>p&&(b+=v+u,f.push({width:v,height:_}),S+=v+u,k++,v=_=0),h[E]={left:S,top:_,col:k,width:O,height:M},v=Math.max(v,O),_+=M+u}),b+=v,f.push({width:v,height:_}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:a},rtl:o}}=this,l=hr(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=on(i,this.left+a,this.right-this.lineWidths[u]);for(const f of n)u!==f.row&&(u=f.row,h=on(i,this.left+a,this.right-this.lineWidths[u])),f.top+=this.top+e+a,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+a}else{let u=0,h=on(i,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const f of n)f.col!==u&&(u=f.col,h=on(i,this.top+e+a,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+a,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tu(e,this),this._draw(),Au(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:a}=this,{align:o,labels:l}=e,u=bt.color,h=hr(e.rtl,this.left,this.width),f=Pt(l.font),{padding:p}=l,b=f.size,v=b/2;let _;this.drawTitle(),a.textAlign=h.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;const{boxWidth:S,boxHeight:k,itemHeight:w}=xv(l,b),E=function(G,Y,q){if(isNaN(S)||S<=0||isNaN(k)||k<0)return;a.save();const te=Ee(q.lineWidth,1);if(a.fillStyle=Ee(q.fillStyle,u),a.lineCap=Ee(q.lineCap,"butt"),a.lineDashOffset=Ee(q.lineDashOffset,0),a.lineJoin=Ee(q.lineJoin,"miter"),a.lineWidth=te,a.strokeStyle=Ee(q.strokeStyle,u),a.setLineDash(Ee(q.lineDash,[])),l.usePointStyle){const Q={radius:k*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:te},le=h.xPlus(G,S/2),re=Y+v;tx(a,Q,le,re,l.pointStyleWidth&&S)}else{const Q=Y+Math.max((b-k)/2,0),le=h.leftForLtr(G,S),re=ia(q.borderRadius);a.beginPath(),Object.values(re).some(Te=>Te!==0)?tl(a,{x:le,y:Q,w:S,h:k,radius:re}):a.rect(le,Q,S,k),a.fill(),te!==0&&a.stroke()}a.restore()},O=function(G,Y,q){ra(a,q.text,G,Y+w/2,f,{strikethrough:q.hidden,textAlign:h.textAlign(q.textAlign)})},M=this.isHorizontal(),z=this._computeTitleHeight();M?_={x:on(o,this.left+p,this.right-i[0]),y:this.top+p+z,line:0}:_={x:this.left+p,y:on(o,this.top+z+p,this.bottom-n[0].height),line:0},cx(this.ctx,e.textDirection);const C=w+p;this.legendItems.forEach((G,Y)=>{a.strokeStyle=G.fontColor,a.fillStyle=G.fontColor;const q=a.measureText(G.text).width,te=h.textAlign(G.textAlign||(G.textAlign=l.textAlign)),Q=S+v+q;let le=_.x,re=_.y;h.setWidth(this.width),M?Y>0&&le+Q+p>this.right&&(re=_.y+=C,_.line++,le=_.x=on(o,this.left+p,this.right-i[_.line])):Y>0&&re+C>this.bottom&&(le=_.x=le+n[_.line].width+p,_.line++,re=_.y=on(o,this.top+z+p,this.bottom-n[_.line].height));const Te=h.x(le);if(E(Te,re,G),le=eE(te,le+S+v,M?le+Q:this.right,e.rtl),O(h.x(le),re,G),M)_.x+=Q+p;else if(typeof G.text!="string"){const _e=f.lineHeight;_.y+=Nx(G,_e)+p}else _.y+=C}),ux(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Pt(n.font),a=sn(n.padding);if(!n.display)return;const o=hr(e.rtl,this.left,this.width),l=this.ctx,u=n.position,h=i.size/2,f=a.top+h;let p,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,b=on(e.align,b,this.right-v);else{const S=this.columnSizes.reduce((k,w)=>Math.max(k,w.height),0);p=f+on(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const _=on(u,b,b+v);l.textAlign=o.textAlign(Sg(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,ra(l,n.text,_,p,i)}_computeTitleHeight(){const e=this.options.title,n=Pt(e.font),i=sn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,a,o;if(zi(e,this.left,this.right)&&zi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],zi(e,a.left,a.left+a.width)&&zi(n,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!PO(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=zO(a,i);a&&!o&&ct(n.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!o&&ct(n.onHover,[e,i,this],this)}else i&&ct(n.onClick,[e,i,this],this)}}function NO(t,e,n,i,a){const o=LO(i,t,e,n),l=UO(a,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function LO(t,e,n,i){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),e+n.size/2+i.measureText(a).width}function UO(t,e,n){let i=t;return typeof e.text!="string"&&(i=Nx(e,n)),i}function Nx(t,e){const n=t.text?t.text.length:0;return e*n}function PO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var BO={id:"legend",_element:Sv,start(t,e,n){const i=t.legend=new Sv({ctx:t.ctx,options:n,chart:t});cn.configure(t,i,n),cn.addBox(t,i)},stop(t){cn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;cn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,a=n.chart;a.isDatasetVisible(i)?(a.hide(i),e.hidden=!0):(a.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:a,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=sn(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Rg extends ei{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const a=pt(i.text)?i.text.length:1;this._padding=sn(i.padding);const o=a*Pt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:a,right:o,options:l}=this,u=l.align;let h=0,f,p,b;return this.isHorizontal()?(p=on(u,i,o),b=n+e,f=o-i):(l.position==="left"?(p=i+e,b=on(u,a,n),h=Ye*-.5):(p=o-e,b=on(u,n,a),h=Ye*.5),f=a-n),{titleX:p,titleY:b,maxWidth:f,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Pt(n.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(o);ra(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:Sg(n.align),textBaseline:"middle",translation:[l,u]})}}function $O(t,e){const n=new Rg({ctx:t.ctx,options:e,chart:t});cn.configure(t,n,e),cn.addBox(t,n),t.titleBlock=n}var IO={id:"title",_element:Rg,start(t,e,n){$O(t,n)},stop(t){const e=t.titleBlock;cn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;cn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fc=new WeakMap;var HO={id:"subtitle",start(t,e,n){const i=new Rg({ctx:t.ctx,options:n,chart:t});cn.configure(t,i,n),cn.addBox(t,i),Fc.set(t,i)},stop(t){cn.removeBox(t,Fc.get(t)),Fc.delete(t)},beforeUpdate(t,e,n){const i=Fc.get(t);cn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Do={average(t){if(!t.length)return!1;let e,n,i=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),a+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,a=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=t.length;o<l;++o){const h=t[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=Pf(e,f);p<a&&(a=p,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function oi(t,e){return e&&(pt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ri(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function FO(t,e){const{element:n,datasetIndex:i,index:a}=e,o=t.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(a);return{chart:t,label:l,parsed:o.getParsed(a),raw:t.data.datasets[i].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:n}}function wv(t,e){const n=t.chart.ctx,{body:i,footer:a,title:o}=t,{boxWidth:l,boxHeight:u}=e,h=Pt(e.bodyFont),f=Pt(e.titleFont),p=Pt(e.footerFont),b=o.length,v=a.length,_=i.length,S=sn(e.padding);let k=S.height,w=0,E=i.reduce((z,C)=>z+C.before.length+C.lines.length+C.after.length,0);if(E+=t.beforeBody.length+t.afterBody.length,b&&(k+=b*f.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),E){const z=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;k+=_*z+(E-_)*h.lineHeight+(E-1)*e.bodySpacing}v&&(k+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let O=0;const M=function(z){w=Math.max(w,n.measureText(z).width+O)};return n.save(),n.font=f.string,Je(t.title,M),n.font=h.string,Je(t.beforeBody.concat(t.afterBody),M),O=e.displayColors?l+2+e.boxPadding:0,Je(i,z=>{Je(z.before,M),Je(z.lines,M),Je(z.after,M)}),O=0,n.font=p.string,Je(t.footer,M),n.restore(),w+=S.width,{width:w,height:k}}function qO(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function VO(t,e,n,i){const{x:a,width:o}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&a+o+l>e.width||t==="right"&&a-o-l<0)return!0}function ZO(t,e,n,i){const{x:a,width:o}=n,{width:l,chartArea:{left:u,right:h}}=t;let f="center";return i==="center"?f=a<=(u+h)/2?"left":"right":a<=o/2?f="left":a>=l-o/2&&(f="right"),VO(f,t,e,n)&&(f="center"),f}function kv(t,e,n){const i=n.yAlign||e.yAlign||qO(t,n);return{xAlign:n.xAlign||e.xAlign||ZO(t,e,n,i),yAlign:i}}function YO(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function WO(t,e,n){let{y:i,height:a}=t;return e==="top"?i+=n:e==="bottom"?i-=a+n:i-=a/2,i}function Tv(t,e,n,i){const{caretSize:a,caretPadding:o,cornerRadius:l}=t,{xAlign:u,yAlign:h}=n,f=a+o,{topLeft:p,topRight:b,bottomLeft:v,bottomRight:_}=ia(l);let S=YO(e,u);const k=WO(e,h,f);return h==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,v)+a:u==="right"&&(S+=Math.max(b,_)+a),{x:Qt(S,0,i.width-e.width),y:Qt(k,0,i.height-e.height)}}function qc(t,e,n){const i=sn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Av(t){return oi([],Ri(t))}function GO(t,e,n){return Es(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ev(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Lx={beforeTitle:Ei,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ei,beforeBody:Ei,beforeLabel:Ei,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Me(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ei,afterBody:Ei,beforeFooter:Ei,footer:Ei,afterFooter:Ei};function Sn(t,e,n,i){const a=t[e].call(n,i);return typeof a>"u"?Lx[e].call(n,i):a}class Yf extends ei{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&n.options.animation&&i.animations,o=new px(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=GO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,a=Sn(i,"beforeTitle",this,e),o=Sn(i,"title",this,e),l=Sn(i,"afterTitle",this,e);let u=[];return u=oi(u,Ri(a)),u=oi(u,Ri(o)),u=oi(u,Ri(l)),u}getBeforeBody(e,n){return Av(Sn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,a=[];return Je(e,o=>{const l={before:[],lines:[],after:[]},u=Ev(i,o);oi(l.before,Ri(Sn(u,"beforeLabel",this,o))),oi(l.lines,Sn(u,"label",this,o)),oi(l.after,Ri(Sn(u,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(e,n){return Av(Sn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,a=Sn(i,"beforeFooter",this,e),o=Sn(i,"footer",this,e),l=Sn(i,"afterFooter",this,e);let u=[];return u=oi(u,Ri(a)),u=oi(u,Ri(o)),u=oi(u,Ri(l)),u}_createItems(e){const n=this._active,i=this.chart.data,a=[],o=[],l=[];let u=[],h,f;for(h=0,f=n.length;h<f;++h)u.push(FO(this.chart,n[h]));return e.filter&&(u=u.filter((p,b,v)=>e.filter(p,b,v,i))),e.itemSort&&(u=u.sort((p,b)=>e.itemSort(p,b,i))),Je(u,p=>{const b=Ev(e.callbacks,p);a.push(Sn(b,"labelColor",this,p)),o.push(Sn(b,"labelPointStyle",this,p)),l.push(Sn(b,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Do[i.position].call(this,a,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=wv(this,i),f=Object.assign({},u,h),p=kv(this.chart,i,f),b=Tv(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:b.x,y:b.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,a){const o=this.getCaretPosition(e,i,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:b}=ia(u),{x:v,y:_}=e,{width:S,height:k}=n;let w,E,O,M,z,C;return o==="center"?(z=_+k/2,a==="left"?(w=v,E=w-l,M=z+l,C=z-l):(w=v+S,E=w+l,M=z-l,C=z+l),O=w):(a==="left"?E=v+Math.max(h,p)+l:a==="right"?E=v+S-Math.max(f,b)-l:E=this.caretX,o==="top"?(M=_,z=M-l,w=E-l,O=E+l):(M=_+k,z=M+l,w=E+l,O=E-l),C=M),{x1:w,x2:E,x3:O,y1:M,y2:z,y3:C}}drawTitle(e,n,i){const a=this.title,o=a.length;let l,u,h;if(o){const f=hr(i.rtl,this.x,this.width);for(e.x=qc(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=Pt(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<o;++h)n.fillText(a[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,a,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=o,p=Pt(o.bodyFont),b=qc(this,"left",o),v=a.x(b),_=h<p.lineHeight?(p.lineHeight-h)/2:0,S=n.y+_;if(o.usePointStyle){const k={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=a.leftForLtr(v,f)+f/2,E=S+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,$f(e,k,w,E),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,$f(e,k,w,E)}else{e.lineWidth=Be(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=a.leftForLtr(v,f),w=a.leftForLtr(a.xPlus(v,1),f-2),E=ia(l.borderRadius);Object.values(E).some(O=>O!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,tl(e,{x:k,y:S,w:f,h,radius:E}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),tl(e,{x:w,y:S+1,w:f-2,h:h-2,radius:E}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(k,S,f,h),e.strokeRect(k,S,f,h),e.fillStyle=l.backgroundColor,e.fillRect(w,S+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,b=Pt(i.bodyFont);let v=b.lineHeight,_=0;const S=hr(i.rtl,this.x,this.width),k=function(q){n.fillText(q,S.x(e.x+_),e.y+v/2),e.y+=v+o},w=S.textAlign(l);let E,O,M,z,C,G,Y;for(n.textAlign=l,n.textBaseline="middle",n.font=b.string,e.x=qc(this,w,i),n.fillStyle=i.bodyColor,Je(this.beforeBody,k),_=u&&w!=="right"?l==="center"?f/2+p:f+2+p:0,z=0,G=a.length;z<G;++z){for(E=a[z],O=this.labelTextColors[z],n.fillStyle=O,Je(E.before,k),M=E.lines,u&&M.length&&(this._drawColorBox(n,e,z,S,i),v=Math.max(b.lineHeight,h)),C=0,Y=M.length;C<Y;++C)k(M[C]),v=b.lineHeight;Je(E.after,k)}_=0,v=b.lineHeight,Je(this.afterBody,k),e.y-=o}drawFooter(e,n,i){const a=this.footer,o=a.length;let l,u;if(o){const h=hr(i.rtl,this.x,this.width);for(e.x=qc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=Pt(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<o;++u)n.fillText(a[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,a){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:p}=i,{topLeft:b,topRight:v,bottomLeft:_,bottomRight:S}=ia(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+b,h),l==="top"&&this.drawCaret(e,n,i,a),n.lineTo(u+f-v,h),n.quadraticCurveTo(u+f,h,u+f,h+v),l==="center"&&o==="right"&&this.drawCaret(e,n,i,a),n.lineTo(u+f,h+p-S),n.quadraticCurveTo(u+f,h+p,u+f-S,h+p),l==="bottom"&&this.drawCaret(e,n,i,a),n.lineTo(u+_,h+p),n.quadraticCurveTo(u,h+p,u,h+p-_),l==="center"&&o==="left"&&this.drawCaret(e,n,i,a),n.lineTo(u,h+b),n.quadraticCurveTo(u,h,u+b,h),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const l=Do[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=wv(this,e),h=Object.assign({},l,this._size),f=kv(n,e,h),p=Tv(e,h,f,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=sn(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,a,n),cx(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),ux(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,a=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),o=!uu(i,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,i),u=this._positionChanged(l,e),h=n||!uu(l,o)||u;return h&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:a,options:o}=this,l=Do[o.position].call(this,e,n);return l!==!1&&(i!==l.x||a!==l.y)}}ce(Yf,"positioners",Do);var XO={id:"tooltip",_element:Yf,positioners:Do,afterInit(t,e,n){n&&(t.tooltip=new Yf({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},KO=Object.freeze({__proto__:null,Colors:cO,Decimation:fO,Filler:DO,Legend:BO,SubTitle:HO,Title:IO,Tooltip:XO});const QO=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function JO(t,e,n,i){const a=t.indexOf(e);if(a===-1)return QO(t,e,n,i);const o=t.lastIndexOf(e);return a!==o?n:a}const eR=(t,e)=>t===null?null:Qt(Math.round(t),0,e);function jv(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Wf extends ua{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:a,label:o}of n)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Me(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:JO(i,e,Ee(n,e),this._addedLabels),eR(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)a.push({value:l});return a}getLabelForValue(e){return jv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ce(Wf,"id","category"),ce(Wf,"defaults",{ticks:{callback:jv}});function tR(t,e){const n=[],{bounds:a,step:o,min:l,max:u,precision:h,count:f,maxTicks:p,maxDigits:b,includeBounds:v}=t,_=o||1,S=p-1,{min:k,max:w}=e,E=!Me(l),O=!Me(u),M=!Me(f),z=(w-k)/(b+1);let C=wy((w-k)/S/_)*_,G,Y,q,te;if(C<1e-14&&!E&&!O)return[{value:k},{value:w}];te=Math.ceil(w/C)-Math.floor(k/C),te>S&&(C=wy(te*C/S/_)*_),Me(h)||(G=Math.pow(10,h),C=Math.ceil(C*G)/G),a==="ticks"?(Y=Math.floor(k/C)*C,q=Math.ceil(w/C)*C):(Y=k,q=w),E&&O&&o&&YA((u-l)/o,C/1e3)?(te=Math.round(Math.min((u-l)/C,p)),C=(u-l)/te,Y=l,q=u):M?(Y=E?l:Y,q=O?u:q,te=f-1,C=(q-Y)/te):(te=(q-Y)/C,Bo(te,Math.round(te),C/1e3)?te=Math.round(te):te=Math.ceil(te));const Q=Math.max(ky(C),ky(Y));G=Math.pow(10,Me(h)?Q:h),Y=Math.round(Y*G)/G,q=Math.round(q*G)/G;let le=0;for(E&&(v&&Y!==l?(n.push({value:l}),Y<l&&le++,Bo(Math.round((Y+le*C)*G)/G,l,Mv(l,z,t))&&le++):Y<l&&le++);le<te;++le){const re=Math.round((Y+le*C)*G)/G;if(O&&re>u)break;n.push({value:re})}return O&&v&&q!==u?n.length&&Bo(n[n.length-1].value,u,Mv(u,z,t))?n[n.length-1].value=u:n.push({value:u}):(!O||q===u)&&n.push({value:q}),n}function Mv(t,e,{horizontal:n,minRotation:i}){const a=Qn(i),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*e*(""+t).length;return Math.min(e/o,l)}class bu extends ua{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Me(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const l=h=>a=n?a:h,u=h=>o=i?o:h;if(e){const h=ci(a),f=ci(o);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(a===o){let h=o===0?1:Math.abs(o*.05);u(o+h),e||l(a-h)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=tR(a,o);return e.bounds==="ticks"&&Z_(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const a=(i-n)/Math.max(e.length-1,1)/2;n-=a,i+=a}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return hl(e,this.chart.options.locale,this.options.ticks.format)}}class Gf extends bu{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jt(e)?e:0,this.max=jt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Qn(this.options.ticks.minRotation),a=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ce(Gf,"id","linear"),ce(Gf,"defaults",{ticks:{callback:ku.formatters.numeric}});const il=t=>Math.floor(bs(t)),Qs=(t,e)=>Math.pow(10,il(t)+e);function Ov(t){return t/Math.pow(10,il(t))===1}function Rv(t,e,n){const i=Math.pow(10,n),a=Math.floor(t/i);return Math.ceil(e/i)-a}function nR(t,e){const n=e-t;let i=il(n);for(;Rv(t,e,i)>10;)i++;for(;Rv(t,e,i)<10;)i--;return Math.min(i,il(t))}function iR(t,{min:e,max:n}){e=zn(t.min,e);const i=[],a=il(e);let o=nR(e,n),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),h=a>o?Math.pow(10,a):0,f=Math.round((e-h)*l)/l,p=Math.floor((e-h)/u/10)*u*10;let b=Math.floor((f-p)/Math.pow(10,o)),v=zn(t.min,Math.round((h+p+b*Math.pow(10,o))*l)/l);for(;v<n;)i.push({value:v,major:Ov(v),significand:b}),b>=10?b=b<15?15:20:b++,b>=20&&(o++,b=2,l=o>=0?1:l),v=Math.round((h+p+b*Math.pow(10,o))*l)/l;const _=zn(t.max,v);return i.push({value:_,major:Ov(_),significand:b}),i}class Xf extends ua{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=bu.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return jt(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jt(e)?Math.max(0,e):null,this.max=jt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!jt(this._userMin)&&(this.min=e===Qs(this.min,0)?Qs(this.min,-1):Qs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,a=this.max;const o=u=>i=e?i:u,l=u=>a=n?a:u;i===a&&(i<=0?(o(1),l(10)):(o(Qs(i,-1)),l(Qs(a,1)))),i<=0&&o(Qs(a,-1)),a<=0&&l(Qs(i,1)),this.min=i,this.max=a}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=iR(n,this);return e.bounds==="ticks"&&Z_(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":hl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=bs(e),this._valueRange=bs(this.max)-bs(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(bs(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ce(Xf,"id","logarithmic"),ce(Xf,"defaults",{ticks:{callback:ku.formatters.logarithmic,major:{enabled:!0}}});function Kf(t){const e=t.ticks;if(e.display&&t.display){const n=sn(e.backdropPadding);return Ee(e.font&&e.font.size,bt.font.size)+n.height}return 0}function sR(t,e,n){return n=pt(n)?n:[n],{w:uE(t,e.string,n),h:n.length*e.lineHeight}}function Cv(t,e,n,i,a){return t===i||t===a?{start:e-n/2,end:e+n/2}:t<i||t>a?{start:e-n,end:e}:{start:e,end:e+n}}function aR(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],a=[],o=t._pointLabels.length,l=t.options.pointLabels,u=l.centerPointLabels?Ye/o:0;for(let h=0;h<o;h++){const f=l.setContext(t.getPointLabelContext(h));a[h]=f.padding;const p=t.getPointPosition(h,t.drawingArea+a[h],u),b=Pt(f.font),v=sR(t.ctx,b,t._pointLabels[h]);i[h]=v;const _=ln(t.getIndexAngle(h)+u),S=Math.round(_g(_)),k=Cv(S,p.x,v.w,0,180),w=Cv(S,p.y,v.h,90,270);rR(n,e,_,k,w)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=cR(t,i,a)}function rR(t,e,n,i,a){const o=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let u=0,h=0;i.start<e.l?(u=(e.l-i.start)/o,t.l=Math.min(t.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/o,t.r=Math.max(t.r,e.r+u)),a.start<e.t?(h=(e.t-a.start)/l,t.t=Math.min(t.t,e.t-h)):a.end>e.b&&(h=(a.end-e.b)/l,t.b=Math.max(t.b,e.b+h))}function oR(t,e,n){const i=t.drawingArea,{extra:a,additionalAngle:o,padding:l,size:u}=n,h=t.getPointPosition(e,i+a+l,o),f=Math.round(_g(ln(h.angle+Dt))),p=hR(h.y,u.h,f),b=uR(f),v=dR(h.x,u.w,b);return{visible:!0,x:h.x,y:p,textAlign:b,left:v,top:p,right:v+u.w,bottom:p+u.h}}function lR(t,e){if(!e)return!0;const{left:n,top:i,right:a,bottom:o}=t;return!(Li({x:n,y:i},e)||Li({x:n,y:o},e)||Li({x:a,y:i},e)||Li({x:a,y:o},e))}function cR(t,e,n){const i=[],a=t._pointLabels.length,o=t.options,{centerPointLabels:l,display:u}=o.pointLabels,h={extra:Kf(o)/2,additionalAngle:l?Ye/a:0};let f;for(let p=0;p<a;p++){h.padding=n[p],h.size=e[p];const b=oR(t,p,h);i.push(b),u==="auto"&&(b.visible=lR(b,f),b.visible&&(f=b))}return i}function uR(t){return t===0||t===180?"center":t<180?"left":"right"}function dR(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function hR(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function fR(t,e,n){const{left:i,top:a,right:o,bottom:l}=n,{backdropColor:u}=e;if(!Me(u)){const h=ia(e.borderRadius),f=sn(e.backdropPadding);t.fillStyle=u;const p=i-f.left,b=a-f.top,v=o-i+f.width,_=l-a+f.height;Object.values(h).some(S=>S!==0)?(t.beginPath(),tl(t,{x:p,y:b,w:v,h:_,radius:h}),t.fill()):t.fillRect(p,b,v,_)}}function gR(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let a=e-1;a>=0;a--){const o=t._pointLabelItems[a];if(!o.visible)continue;const l=i.setContext(t.getPointLabelContext(a));fR(n,l,o);const u=Pt(l.font),{x:h,y:f,textAlign:p}=o;ra(n,t._pointLabels[a],h,f+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function Ux(t,e,n,i){const{ctx:a}=t;if(n)a.arc(t.xCenter,t.yCenter,e,0,mt);else{let o=t.getPointPosition(0,e);a.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=t.getPointPosition(l,e),a.lineTo(o.x,o.y)}}function pR(t,e,n,i,a){const o=t.ctx,l=e.circular,{color:u,lineWidth:h}=e;!l&&!i||!u||!h||n<0||(o.save(),o.strokeStyle=u,o.lineWidth=h,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),Ux(t,n,l,i),o.closePath(),o.stroke(),o.restore())}function mR(t,e,n){return Es(t,{label:n,index:e,type:"pointLabel"})}class zo extends bu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=sn(Kf(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=jt(e)&&!isNaN(e)?e:0,this.max=jt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Kf(this.options))}generateTickLabels(e){bu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const a=ct(this.options.pointLabels.callback,[n,i],this);return a||a===0?a:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?aR(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,a){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,a))}getIndexAngle(e){const n=mt/(this._pointLabels.length||1),i=this.options.startAngle||0;return ln(e*n+Qn(i))}getDistanceFromCenterForValue(e){if(Me(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Me(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return mR(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const a=this.getIndexAngle(e)-Dt+i;return{x:Math.cos(a)*n+this.xCenter,y:Math.sin(a)*n+this.yCenter,angle:a}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:a,bottom:o}=this._pointLabelItems[e];return{left:n,top:i,right:a,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Ux(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:a,border:o}=n,l=this._pointLabels.length;let u,h,f;if(n.pointLabels.display&&gR(this,l),a.display&&this.ticks.forEach((p,b)=>{if(b!==0||b===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(b),_=a.setContext(v),S=o.setContext(v);pR(this,_,h,l,S)}}),i.display){for(e.save(),u=l-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:b,lineWidth:v}=p;!v||!b||(e.lineWidth=v,e.strokeStyle=b,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),f=this.getPointPosition(u,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const a=this.getIndexAngle(0);let o,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const f=i.setContext(this.getContext(h)),p=Pt(f.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),f.showLabelBackdrop){e.font=p.string,l=e.measureText(u.label).width,e.fillStyle=f.backdropColor;const b=sn(f.backdropPadding);e.fillRect(-l/2-b.left,-o-p.size/2-b.top,l+b.width,p.size+b.height)}ra(e,u.label,0,-o,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),e.restore()}drawTitle(){}}ce(zo,"id","radialLinear"),ce(zo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ku.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ce(zo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ce(zo,"descriptors",{angleLines:{_fallback:"grid"}});const Ou={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kn=Object.keys(Ou);function Dv(t,e){return t-e}function zv(t,e){if(Me(e))return null;const n=t._adapter,{parser:i,round:a,isoWeekday:o}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),jt(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(pr(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function Nv(t,e,n,i){const a=kn.length;for(let o=kn.indexOf(t);o<a-1;++o){const l=Ou[kn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=i)return kn[o]}return kn[a-1]}function bR(t,e,n,i,a){for(let o=kn.length-1;o>=kn.indexOf(n);o--){const l=kn[o];if(Ou[l].common&&t._adapter.diff(a,i,l)>=e-1)return l}return kn[n?kn.indexOf(n):0]}function yR(t){for(let e=kn.indexOf(t)+1,n=kn.length;e<n;++e)if(Ou[kn[e]].common)return kn[e]}function Lv(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:a}=xg(n,e),o=n[i]>=e?n[i]:n[a];t[o]=!0}}function vR(t,e,n,i){const a=t._adapter,o=+a.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=o;u<=l;u=+a.add(u,1,i))h=n[u],h>=0&&(e[h].major=!0);return e}function Uv(t,e,n){const i=[],a={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],a[u]=l,i.push({value:u,major:!1});return o===0||!n?i:vR(t,i,a,n)}class sl extends ua{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),a=this._adapter=new Ej._date(e.adapters.date);a.init(n),Po(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:zv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=jt(a)&&!isNaN(a)?a:+n.startOf(Date.now(),i),o=jt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,u=KA(a,o,l);return this._unit=n.unit||(i.autoSkip?Nv(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):bR(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:yR(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Uv(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Qt(n,0,l),i=Qt(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,a=this.options,o=a.time,l=o.unit||Nv(o.minUnit,n,i,this._getLabelCapacity(n)),u=Ee(a.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,f=pr(h)||h===!0,p={};let b=n,v,_;if(f&&(b=+e.startOf(b,"isoWeek",h)),b=+e.startOf(b,f?"day":l),e.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=a.ticks.source==="data"&&this.getDataTimestamps();for(v=b,_=0;v<i;v=+e.add(v,u,l),_++)Lv(p,v,S);return(v===i||a.bounds==="ticks"||_===1)&&Lv(p,v,S),Object.keys(p).sort(Dv).map(k=>+k)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,a){const o=this.options,l=o.ticks.callback;if(l)return ct(l,[e,n,i],this);const u=o.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],b=f&&u[f],v=i[n],_=f&&b&&v&&v.major;return this._adapter.format(e,a||(_?b:p))}generateTickLabels(e){let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,a=Qn(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Uv(this,[e],this._majorUnit),a),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,i=a.length;n<i;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const a=this.getLabels();for(n=0,i=a.length;n<i;++n)e.push(zv(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return G_(e.sort(Dv))}}ce(sl,"id","time"),ce(sl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vc(t,e,n){let i=0,a=t.length-1,o,l,u,h;n?(e>=t[i].pos&&e<=t[a].pos&&({lo:i,hi:a}=Ni(t,"pos",e)),{pos:o,time:u}=t[i],{pos:l,time:h}=t[a]):(e>=t[i].time&&e<=t[a].time&&({lo:i,hi:a}=Ni(t,"time",e)),{time:o,pos:u}=t[i],{time:l,pos:h}=t[a]);const f=l-o;return f?u+(h-u)*(e-o)/f:u}class Qf extends sl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Vc(n,this.min),this._tableRange=Vc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,a=[],o=[];let l,u,h,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=n&&f<=i&&a.push(f);if(a.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=a.length;l<u;++l)p=a[l+1],h=a[l-1],f=a[l],Math.round((p+h)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Vc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Vc(this._table,i*this._tableRange+this._minPos,!0)}}ce(Qf,"id","timeseries"),ce(Qf,"defaults",sl.defaults);var _R=Object.freeze({__proto__:null,CategoryScale:Wf,LinearScale:Gf,LogarithmicScale:Xf,RadialLinearScale:zo,TimeScale:sl,TimeSeriesScale:Qf});const xR=[Aj,nO,KO,_R];Sr.register(...xR);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Pv=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),Yo={toTextLines:function(t){var e=[],n;for(t=[].concat(t);t.length;)n=t.pop(),typeof n=="string"?e.unshift.apply(e,n.split(`
`)):Array.isArray(n)?t.push.apply(t,n):Me(t)||e.unshift(""+n);return e},textSize:function(t,e,n){var i=[].concat(e),a=i.length,o=t.font,l=0,u;for(t.font=n.string,u=0;u<a;++u)l=Math.max(t.measureText(i[u]).width,l);return t.font=o,{height:a*n.lineHeight,width:l}},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n=t.slice(),i=[],a,o,l,u;for(a=0,l=e.length;a<l;++a)u=e[a],o=n.indexOf(u),o===-1?i.push([u,1]):n.splice(o,1);for(a=0,l=n.length;a<l;++a)i.push([n[a],-1]);return i},rasterize:function(t){return Math.round(t*Pv)/Pv}};function yf(t,e){var n=e.x,i=e.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var a=t.x-n,o=t.y-i,l=Math.sqrt(a*a+o*o);return{x:l?a/l:0,y:l?o/l:-1}}function SR(t,e,n,i,a){switch(a){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:a*=Math.PI/180,n=Math.cos(a),i=Math.sin(a);break}return{x:t,y:e,vx:n,vy:i}}var wR=0,Px=1,Bx=2,$x=4,Ix=8;function Zc(t,e,n){var i=wR;return t<n.left?i|=Px:t>n.right&&(i|=Bx),e<n.top?i|=Ix:e>n.bottom&&(i|=$x),i}function kR(t,e){for(var n=t.x0,i=t.y0,a=t.x1,o=t.y1,l=Zc(n,i,e),u=Zc(a,o,e),h,f,p;!(!(l|u)||l&u);)h=l||u,h&Ix?(f=n+(a-n)*(e.top-i)/(o-i),p=e.top):h&$x?(f=n+(a-n)*(e.bottom-i)/(o-i),p=e.bottom):h&Bx?(p=i+(o-i)*(e.right-n)/(a-n),f=e.right):h&Px&&(p=i+(o-i)*(e.left-n)/(a-n),f=e.left),h===l?(n=f,i=p,l=Zc(n,i,e)):(a=f,o=p,u=Zc(a,o,e));return{x0:n,x1:a,y0:i,y1:o}}function Yc(t,e){var n=e.anchor,i=t,a,o;return e.clamp&&(i=kR(i,e.area)),n==="start"?(a=i.x0,o=i.y0):n==="end"?(a=i.x1,o=i.y1):(a=(i.x0+i.x1)/2,o=(i.y0+i.y1)/2),SR(a,o,t.vx,t.vy,e.align)}var Wc={arc:function(t,e){var n=(t.startAngle+t.endAngle)/2,i=Math.cos(n),a=Math.sin(n),o=t.innerRadius,l=t.outerRadius;return Yc({x0:t.x+i*o,y0:t.y+a*o,x1:t.x+i*l,y1:t.y+a*l,vx:i,vy:a},e)},point:function(t,e){var n=yf(t,e.origin),i=n.x*t.options.radius,a=n.y*t.options.radius;return Yc({x0:t.x-i,y0:t.y-a,x1:t.x+i,y1:t.y+a,vx:n.x,vy:n.y},e)},bar:function(t,e){var n=yf(t,e.origin),i=t.x,a=t.y,o=0,l=0;return t.horizontal?(i=Math.min(t.x,t.base),o=Math.abs(t.base-t.x)):(a=Math.min(t.y,t.base),l=Math.abs(t.base-t.y)),Yc({x0:i,y0:a+l,x1:i+o,y1:a,vx:n.x,vy:n.y},e)},fallback:function(t,e){var n=yf(t,e.origin);return Yc({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)}},Ui=Yo.rasterize;function TR(t){var e=t.borderWidth||0,n=t.padding,i=t.size.height,a=t.size.width,o=-a/2,l=-i/2;return{frame:{x:o-n.left-e,y:l-n.top-e,w:a+n.width+e*2,h:i+n.height+e*2},text:{x:o,y:l,w:a,h:i}}}function AR(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return t.horizontal?{x:i,y:null}:{x:null,y:i}}function ER(t){return t instanceof cr?Wc.arc:t instanceof Vo?Wc.point:t instanceof Zo?Wc.bar:Wc.fallback}function jR(t,e,n,i,a,o){var l=Math.PI/2;if(o){var u=Math.min(o,a/2,i/2),h=e+u,f=n+u,p=e+i-u,b=n+a-u;t.moveTo(e,f),h<p&&f<b?(t.arc(h,f,u,-Math.PI,-l),t.arc(p,f,u,-l,0),t.arc(p,b,u,0,l),t.arc(h,b,u,l,Math.PI)):h<p?(t.moveTo(h,n),t.arc(p,f,u,-l,l),t.arc(h,f,u,l,Math.PI+l)):f<b?(t.arc(h,f,u,-Math.PI,0),t.arc(h,b,u,0,Math.PI)):t.arc(h,f,u,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,a)}function MR(t,e,n){var i=n.backgroundColor,a=n.borderColor,o=n.borderWidth;!i&&(!a||!o)||(t.beginPath(),jR(t,Ui(e.x)+o/2,Ui(e.y)+o/2,Ui(e.w)-o,Ui(e.h)-o,n.borderRadius),t.closePath(),i&&(t.fillStyle=i,t.fill()),a&&o&&(t.strokeStyle=a,t.lineWidth=o,t.lineJoin="miter",t.stroke()))}function OR(t,e,n){var i=n.lineHeight,a=t.w,o=t.x,l=t.y+i/2;return e==="center"?o+=a/2:(e==="end"||e==="right")&&(o+=a),{h:i,w:a,x:o,y:l}}function RR(t,e,n){var i=t.shadowBlur,a=n.stroked,o=Ui(n.x),l=Ui(n.y),u=Ui(n.w);a&&t.strokeText(e,o,l,u),n.filled&&(i&&a&&(t.shadowBlur=0),t.fillText(e,o,l,u),i&&a&&(t.shadowBlur=i))}function CR(t,e,n,i){var a=i.textAlign,o=i.color,l=!!o,u=i.font,h=e.length,f=i.textStrokeColor,p=i.textStrokeWidth,b=f&&p,v;if(!(!h||!l&&!b))for(n=OR(n,a,u),t.font=u.string,t.textAlign=a,t.textBaseline="middle",t.shadowBlur=i.textShadowBlur,t.shadowColor=i.textShadowColor,l&&(t.fillStyle=o),b&&(t.lineJoin="round",t.lineWidth=p,t.strokeStyle=f),v=0,h=e.length;v<h;++v)RR(t,e[v],{stroked:b,filled:l,w:n.w,x:n.x,y:n.y+n.h*v})}var Hx=function(t,e,n,i){var a=this;a._config=t,a._index=i,a._model=null,a._rects=null,a._ctx=e,a._el=n};ui(Hx.prototype,{_modelize:function(t,e,n,i){var a=this,o=a._index,l=Pt(gt([n.font,{}],i,o)),u=gt([n.color,bt.color],i,o);return{align:gt([n.align,"center"],i,o),anchor:gt([n.anchor,"center"],i,o),area:i.chart.chartArea,backgroundColor:gt([n.backgroundColor,null],i,o),borderColor:gt([n.borderColor,null],i,o),borderRadius:gt([n.borderRadius,0],i,o),borderWidth:gt([n.borderWidth,0],i,o),clamp:gt([n.clamp,!1],i,o),clip:gt([n.clip,!1],i,o),color:u,display:t,font:l,lines:e,offset:gt([n.offset,4],i,o),opacity:gt([n.opacity,1],i,o),origin:AR(a._el,i),padding:sn(gt([n.padding,4],i,o)),positioner:ER(a._el),rotation:gt([n.rotation,0],i,o)*(Math.PI/180),size:Yo.textSize(a._ctx,e,l),textAlign:gt([n.textAlign,"start"],i,o),textShadowBlur:gt([n.textShadowBlur,0],i,o),textShadowColor:gt([n.textShadowColor,u],i,o),textStrokeColor:gt([n.textStrokeColor,u],i,o),textStrokeWidth:gt([n.textStrokeWidth,0],i,o)}},update:function(t){var e=this,n=null,i=null,a=e._index,o=e._config,l,u,h,f=gt([o.display,!0],t,a);f&&(l=t.dataset.data[a],u=Ee(ct(o.formatter,[l,t]),l),h=Me(u)?[]:Yo.toTextLines(u),h.length&&(n=e._modelize(f,h,o,t),i=TR(n))),e._model=n,e._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n=this,i=t.ctx,a=n._model,o=n._rects,l;this.visible()&&(i.save(),a.clip&&(l=a.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=Yo.bound(0,a.opacity,1),i.translate(Ui(e.x),Ui(e.y)),i.rotate(a.rotation),MR(i,o.frame,a),CR(i,a.lines,o.text,a),i.restore())}});var DR=Number.MIN_SAFE_INTEGER||-9007199254740991,zR=Number.MAX_SAFE_INTEGER||9007199254740991;function Mo(t,e,n){var i=Math.cos(n),a=Math.sin(n),o=e.x,l=e.y;return{x:o+i*(t.x-o)-a*(t.y-l),y:l+a*(t.x-o)+i*(t.y-l)}}function Bv(t,e){var n=zR,i=DR,a=e.origin,o,l,u,h,f;for(o=0;o<t.length;++o)l=t[o],u=l.x-a.x,h=l.y-a.y,f=e.vx*u+e.vy*h,n=Math.min(n,f),i=Math.max(i,f);return{min:n,max:i}}function Gc(t,e){var n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i);return{vx:(e.x-t.x)/a,vy:(e.y-t.y)/a,origin:t,ln:a}}var Fx=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};ui(Fx.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=1,i=e._rect;return t=Mo(t,e.center(),-e._rotation),!(t.x<i.x-n||t.y<i.y-n||t.x>i.x+i.w+n*2||t.y>i.y+i.h+n*2)},intersects:function(t){var e=this._points(),n=t._points(),i=[Gc(e[0],e[1]),Gc(e[0],e[3])],a,o,l;for(this._rotation!==t._rotation&&i.push(Gc(n[0],n[1]),Gc(n[0],n[3])),a=0;a<i.length;++a)if(o=Bv(e,i[a]),l=Bv(n,i[a]),o.max<l.min||l.max<o.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,i=t.center();return[Mo({x:e.x,y:e.y},i,n),Mo({x:e.x+e.w,y:e.y},i,n),Mo({x:e.x+e.w,y:e.y+e.h},i,n),Mo({x:e.x,y:e.y+e.h},i,n)]}});function qx(t,e,n){var i=e.positioner(t,e),a=i.vx,o=i.vy;if(!a&&!o)return{x:i.x,y:i.y};var l=n.w,u=n.h,h=e.rotation,f=Math.abs(l/2*Math.cos(h))+Math.abs(u/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(u/2*Math.cos(h)),b=1/Math.max(Math.abs(a),Math.abs(o));return f*=a*b,p*=o*b,f+=e.offset*a,p+=e.offset*o,{x:i.x+f,y:i.y+p}}function NR(t,e){var n,i,a,o;for(n=t.length-1;n>=0;--n)for(a=t[n].$layout,i=n-1;i>=0&&a._visible;--i)o=t[i].$layout,o._visible&&a._box.intersects(o._box)&&e(a,o);return t}function LR(t){var e,n,i,a,o,l,u;for(e=0,n=t.length;e<n;++e)i=t[e],a=i.$layout,a._visible&&(u=new Proxy(i._el,{get:(h,f)=>h.getProps([f],!0)[f]}),o=i.geometry(),l=qx(u,i.model(),o),a._box.update(l,o,i.rotation()));return NR(t,function(h,f){var p=h._hidable,b=f._hidable;p&&b||b?f._visible=!1:p&&(h._visible=!1)})}var Wo={prepare:function(t){var e=[],n,i,a,o,l;for(n=0,a=t.length;n<a;++n)for(i=0,o=t[n].length;i<o;++i)l=t[n][i],e.push(l),l.$layout={_box:new Fx,_hidable:!1,_visible:!0,_set:n,_idx:l._index};return e.sort(function(u,h){var f=u.$layout,p=h.$layout;return f._idx===p._idx?p._set-f._set:p._idx-f._idx}),this.update(e),e},update:function(t){var e=!1,n,i,a,o,l;for(n=0,i=t.length;n<i;++n)a=t[n],o=a.model(),l=a.$layout,l._hidable=o&&o.display==="auto",l._visible=a.visible(),e|=l._hidable;e&&LR(t)},lookup:function(t,e){var n,i;for(n=t.length-1;n>=0;--n)if(i=t[n].$layout,i&&i._visible&&i._box.contains(e))return t[n];return null},draw:function(t,e){var n,i,a,o,l,u;for(n=0,i=e.length;n<i;++n)a=e[n],o=a.$layout,o._visible&&(l=a.geometry(),u=qx(a._el,a.model(),l),o._box.update(u,l,a.rotation()),a.draw(t,u))}},UR=function(t){if(Me(t))return null;var e=t,n,i,a;if(Be(t))if(!Me(t.label))e=t.label;else if(!Me(t.r))e=t.r;else for(e="",n=Object.keys(t),a=0,i=n.length;a<i;++a)e+=(a!==0?", ":"")+n[a]+": "+t[n[a]];return""+e},PR={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:UR,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},wn="$datalabels",Vx="$default";function BR(t,e){var n=t.datalabels,i={},a=[],o,l;return n===!1?null:(n===!0&&(n={}),e=ui({},[e,n]),o=e.labels||{},l=Object.keys(o),delete e.labels,l.length?l.forEach(function(u){o[u]&&a.push(ui({},[e,o[u],{_key:u}]))}):a.push(e),i=a.reduce(function(u,h){return Je(h.listeners||{},function(f,p){u[p]=u[p]||{},u[p][h._key||Vx]=f}),delete h.listeners,u},{}),{labels:a,listeners:i})}function Jf(t,e,n,i){if(e){var a=n.$context,o=n.$groups,l;e[o._set]&&(l=e[o._set][o._key],l&&ct(l,[a,i])===!0&&(t[wn]._dirty=!0,n.update(a)))}}function $R(t,e,n,i,a){var o,l;!n&&!i||(n?i?n!==i&&(l=o=!0):l=!0:o=!0,l&&Jf(t,e.leave,n,a),o&&Jf(t,e.enter,i,a))}function IR(t,e){var n=t[wn],i=n._listeners,a,o;if(!(!i.enter&&!i.leave)){if(e.type==="mousemove")o=Wo.lookup(n._labels,e);else if(e.type!=="mouseout")return;a=n._hovered,n._hovered=o,$R(t,i,a,o,e)}}function HR(t,e){var n=t[wn],i=n._listeners.click,a=i&&Wo.lookup(n._labels,e);a&&Jf(t,i,a,e)}var Zx={id:"datalabels",defaults:PR,beforeInit:function(t){t[wn]={_actives:[]}},beforeUpdate:function(t){var e=t[wn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var i=e.index,a=t[wn],o=a._datasets[i]=[],l=t.isDatasetVisible(i),u=t.data.datasets[i],h=BR(u,n),f=e.meta.data||[],p=t.ctx,b,v,_,S,k,w,E,O;for(p.save(),b=0,_=f.length;b<_;++b)if(E=f[b],E[wn]=[],l&&E&&t.getDataVisibility(b)&&!E.skip)for(v=0,S=h.labels.length;v<S;++v)k=h.labels[v],w=k._key,O=new Hx(k,p,E,b),O.$groups={_set:i,_key:w||Vx},O.$context={active:!1,chart:t,dataIndex:b,dataset:u,datasetIndex:i},O.update(O.$context),E[wn].push(O),o.push(O);p.restore(),ui(a._listeners,h.listeners,{merger:function(M,z,C){z[M]=z[M]||{},z[M][e.index]=C[M],a._listened=!0}})},afterUpdate:function(t){t[wn]._labels=Wo.prepare(t[wn]._datasets)},afterDatasetsDraw:function(t){Wo.draw(t,t[wn]._labels)},beforeEvent:function(t,e){if(t[wn]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":IR(t,n);break;case"click":HR(t,n);break}}},afterEvent:function(t){var e=t[wn],n=e._actives,i=e._actives=t.getActiveElements(),a=Yo.arrayDiff(n,i),o,l,u,h,f,p,b;for(o=0,l=a.length;o<l;++o)if(f=a[o],f[1])for(b=f[0].element[wn]||[],u=0,h=b.length;u<h;++u)p=b[u],p.$context.active=f[1]===1,p.update(p.$context);(e._dirty||a.length)&&(Wo.update(e._labels),t.render()),delete e._dirty}};const Yx="label";function $v(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function FR(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Wx(t,e){t.labels=e}function Gx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yx;const i=[];t.datasets=e.map(a=>{const o=t.datasets.find(l=>l[n]===a[n]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function qR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yx;const n={labels:[],datasets:[]};return Wx(n,t.labels),Gx(n,t.datasets,e),n}function VR(t,e){const{height:n=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:b,...v}=t,_=R.useRef(null),S=R.useRef(null),k=()=>{_.current&&(S.current=new Sr(_.current,{type:l,data:qR(u,o),options:h&&{...h},plugins:f}),$v(e,S.current))},w=()=>{$v(e,null),S.current&&(S.current.destroy(),S.current=null)};return R.useEffect(()=>{!a&&S.current&&h&&FR(S.current,h)},[a,h]),R.useEffect(()=>{!a&&S.current&&Wx(S.current.config.data,u.labels)},[a,u.labels]),R.useEffect(()=>{!a&&S.current&&u.datasets&&Gx(S.current.config.data,u.datasets,o)},[a,u.datasets]),R.useEffect(()=>{S.current&&(a?(w(),setTimeout(k)):S.current.update(b))},[a,h,u.labels,u.datasets,b]),R.useEffect(()=>{S.current&&(w(),setTimeout(k))},[l]),R.useEffect(()=>(k(),()=>w()),[]),rg.createElement("canvas",{ref:_,role:"img",height:n,width:i,...v},p)}const ZR=R.forwardRef(VR);function Cg(t,e){return Sr.register(e),R.forwardRef((n,i)=>rg.createElement(ZR,{...n,ref:i,type:t}))}const Xx=Cg("line",Fo),YR=Cg("bar",Ho),WR=Cg("doughnut",ys);Sr.register(Zx);const He={primary:"#6366f1",secondary:"#fb923c",tertiary:"#10b981",gray:"#94a3b8"},GR=[{id:"team1",label:"quipe 1",captain:"Yohan Debowski",members:["Yanis Zari","Mourad Derradji","Youness El Boukhrissi","Alex Gaudrillet","Kal"],color:He.secondary},{id:"team2",label:"quipe 2",captain:"Lo Mafrici",members:["Eva","Mehdi BOUFFESSIL","Sarah Amroune","Sbastien ITEMA","Selim Kouay"],color:He.primary},{id:"team3",label:"quipe 3",captain:"David",members:["Aurlie Briquet","Gwenal","Quentin Rattez"],color:He.tertiary}];function XR(t){var a,o;const e=((a=t==null?void 0:t.user)==null?void 0:a.user_metadata)||{},n=e.name||e.full_name||e.real_name||e.display_name||e.user_name||((o=t==null?void 0:t.user)==null?void 0:o.email)||"Unknown",i=String(n).trim().split(/\s+/)[0]||"Unknown";return{full_name:String(n).trim(),first_name:i}}function KR(t,{max:e=240,minFont:n=12,maxFont:i=16,step:a=.5}={}){R.useEffect(()=>{const o=t.current;if(!o)return;o.style.fontSize=`${i}px`;const l=o.style.maxWidth;o.style.maxWidth=`${e}px`;const u=()=>o.scrollWidth<=e;let h=i;for(;!u()&&h>n;)h-=a,o.style.fontSize=`${h}px`;return()=>{o.style.maxWidth=l}},[t,e,n,i,a])}function QR({deltaAbs:t,deltaPct:e}){const n=t>0,i=t<0,a=R.useRef(null);KR(a,{max:240,minFont:12,maxFont:16,step:.5});const o=e===null?"N-1 = 0 ":`${Math.abs(e).toFixed(2)}%`;return y.jsxs("div",{ref:a,className:`trend-badge ${n?"trend-up":i?"trend-down":"trend-flat"}`,title:"Comparaison mois en cours vs mois prcdent (mme priode)",children:[y.jsxs("span",{className:"row",children:[n?"":i?"":""," ",Math.abs(t).toLocaleString("fr-FR")," "]}),y.jsxs("span",{className:"row",children:["(",o,")"]})]})}function vf(t,e=1500){const[n,i]=R.useState(0),[a,o]=R.useState(!1);return R.useEffect(()=>{if(o(!1),t===0){i(0);return}let l=null;const u=0,h=f=>{l||(l=f);const p=Math.min((f-l)/e,1),b=1-Math.pow(1-p,3);i(Math.floor(u+(t-u)*b)),p<1?requestAnimationFrame(h):(o(!0),setTimeout(()=>o(!1),2e3))};requestAnimationFrame(h)},[t,e]),{count:n,isComplete:a}}function JR(){const t=Bi(),[e,n]=R.useState(()=>localStorage.getItem("darkMode")==="true");R.useEffect(()=>{localStorage.setItem("darkMode",e),e?(document.body.classList.add("dark-mode"),document.documentElement.classList.add("dark-mode")):(document.body.classList.remove("dark-mode"),document.documentElement.classList.remove("dark-mode"))},[e]);const[i,a]=R.useState(!1),[o,l]=R.useState({email:"",paymentModality:"M",employeeRange:""}),[u,h]=R.useState(!1),[f,p]=R.useState(!1),b=[{id:"1-2",label:"1  2 salaris",min:1,max:2},{id:"3-5",label:"3  5 salaris",min:3,max:5},{id:"6-10",label:"6  10 salaris",min:6,max:10},{id:"11-19",label:"11  19 salaris",min:11,max:19},{id:"20-29",label:"20  29 salaris",min:20,max:29},{id:"30-39",label:"30  39 salaris",min:30,max:39},{id:"40-49",label:"40  49 salaris",min:40,max:49},{id:"50-74",label:"50  74 salaris",min:50,max:74},{id:"75-99",label:"75  99 salaris",min:75,max:99},{id:"100-149",label:"100  149 salaris",min:100,max:149},{id:"150-199",label:"150  199 salaris",min:150,max:199},{id:"200-249",label:"200  249 salaris",min:200,max:249},{id:"250-299",label:"250  299 salaris",min:250,max:299},{id:"300-349",label:"300  349 salaris",min:300,max:349},{id:"350-400",label:"350  400 salaris",min:350,max:400}],v=(ee,he)=>{l(ke=>({...ke,[ee]:he}))},_=async ee=>{var he;ee.preventDefault(),h(!0);try{const ke="https://n8nmay.xyz/webhook/6c57e2c2-79c7-4e21-ad42-6dfe0abc6839",nt=XR(E),Ie={email:o.email.trim().toLowerCase(),payment_mode:o.paymentModality==="M"?"MONTHLY":"YEARLY",employee_band:o.employeeRange,submitted_at:new Date().toISOString(),source:"DASHBOARD_FORM",reporter_name:nt.full_name,reporter_first_name:nt.first_name,reporter_email:((he=E==null?void 0:E.user)==null?void 0:he.email)||null};console.log(" Tentative d'envoi au webhook...");const Re=5,Ve=15e3;let Tt=null,it=!1;for(let We=1;We<=Re;We++)try{console.log(` Tentative ${We}/${Re}...`);const qt=Ve+(We-1)*5e3,Qe=new AbortController,Jt=setTimeout(()=>Qe.abort(),qt),Nn=await fetch(ke,{method:"POST",headers:{"Content-Type":"application/json","X-Retry-Attempt":We.toString()},body:JSON.stringify(Ie),signal:Qe.signal});if(clearTimeout(Jt),!Nn.ok){const Vt=await Nn.text().catch(()=>"");throw new Error(`HTTP ${Nn.status}: ${Vt}`)}console.log(` Webhook envoy avec succs (tentative ${We})`),it=!0;break}catch(qt){if(Tt=qt,console.error(` Tentative ${We} choue:`,qt.message),We<Re){const Qe=Math.min(2e3*Math.pow(2,We-1),16e3);console.log(` Attente de ${Qe/1e3}s avant retry...`),await new Promise(Jt=>setTimeout(Jt,Qe))}}if(it)console.log(" Vente dclare avec succs!"),p(!0),setTimeout(()=>{a(!1),p(!1),l({email:"",paymentModality:"M",employeeRange:""})},1500);else{console.error(" chec aprs toutes les tentatives:",Tt);const We=Tt.name==="AbortError"?"Le serveur n8n ne rpond pas (timeout)":Tt.message;alert(` chec d'envoi aprs ${Re} tentatives.

Erreur : ${We}

 IMPORTANT : Notez ces informations :
Email : ${Ie.email}
Mode : ${Ie.payment_mode}
Salaris : ${Ie.employee_band}
Date : ${new Date().toLocaleString("fr-FR")}

Contactez un administrateur pour enregistrer manuellement.`)}}catch(ke){console.error(" Erreur critique:",ke),alert(`Erreur critique : ${ke.message}`)}finally{h(!1)}},S=()=>{u||(a(!1),l({email:"",paymentModality:"M",employeeRange:""}),p(!1))},[k,w]=R.useState(!1),[E,O]=R.useState(null),[M,z]=R.useState(!1),[C,G]=R.useState(!1),[Y,q]=R.useState(0),[te,Q]=R.useState(!1),[le,re]=R.useState(!1),Te=R.useRef(0),_e=50,[de,B]=R.useState(!1),[ie,$]=R.useState(!1);R.useEffect(()=>{(async()=>{const he=we.getToken(),ke=we.getUser();if(he&&ke){if(O({user:ke}),z(!0),B(ke.role==="admin"||ke.role==="head_of_sales"||ke.role==="tech"),ke.role==="commercial"){const{data:nt}=await supabase.from("tracking_sheets").select("*").eq("sales_email",ke.email).eq("is_active",!0).maybeSingle();$(!!nt)}}else O(null),z(!1),B(!1),$(!1),t("/login")})()},[]);const[N,A]=R.useState([]),[U,Z]=R.useState(null),[W,I]=R.useState({}),[ae,oe]=R.useState({}),[De,fe]=R.useState({cash:0,revenu:0,ventes:0}),[qe,et]=R.useState(!0),{count:Xe,isComplete:X}=vf(De.cash,1500),{count:ue,isComplete:ye}=vf(De.revenu,1500),{count:Nt,isComplete:me}=vf(De.ventes,1200),[Ae,$e]=R.useState("table"),[ze,un]=R.useState(()=>{const ee=new Date;return`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}`}),[Mt,Ft]=R.useState([]),[tt,Zn]=R.useState([]);R.useEffect(()=>{(async()=>{try{const he=await we.getLeaderboardChart();console.log(" Chart data loaded:",he),Zn(he)}catch(he){console.error("Erreur chargement chart:",he)}})()},[]),R.useEffect(()=>{(async()=>{var he;try{const ke=await we.getLeaderboardStats("all");console.log(" All-time data loaded:",ke);const nt=(he=ke.all_sellers)==null?void 0:he[0];Z((nt==null?void 0:nt.name)||null)}catch(ke){console.error("Erreur chargement all-time top seller:",ke)}})()},[]),R.useEffect(()=>{(async()=>{try{const he=await we.get("/api/v1/leaderboard/trophies");console.log(" Trophies loaded:",he),I(he.monthly_winners||{})}catch(he){console.error("Erreur chargement trophies:",he)}})()},[]),R.useEffect(()=>{(async()=>{et(!0);try{const he=await we.getLeaderboardStats(ze);console.log(" Leaderboard data loaded:",he),fe({cash:he.totals.cash_collected,revenu:he.totals.revenue,ventes:he.totals.sales});const ke=he.all_sellers.map(Ie=>({name:Ie.name,sales:Ie.sales,cash:Ie.cash_collected,revenu:Ie.revenue,avatar:Ie.avatar_url||""}));A(ke);const nt={};he.teams.forEach(Ie=>{nt[Ie.name]=Ie.sales}),oe(nt),Ft(he.all_sellers||[])}catch(he){console.error("Erreur chargement leaderboard:",he)}finally{et(!1)}})()},[ze]);const An=R.useMemo(()=>{const ee=Object.entries(ae),he=ee.reduce((Qe,[,Jt])=>Qe+Jt,0)||1,ke=ee.sort((Qe,Jt)=>Jt[1]-Qe[1]).slice(0,3),nt=Qe=>/^ads$/i.test(Qe)?"ADS":/^cc$/i.test(Qe)?"CC":/link/i.test(Qe)?"LinkedIn":Qe,Ie=ke.map(([Qe])=>nt(Qe)),Re=ke.map(([,Qe])=>Qe),Ve=Re.map(Qe=>Qe/he*100),Tt=Ie.map((Qe,Jt)=>Qe==="ADS"?He.primary:Qe==="CC"?He.secondary:Qe==="LinkedIn"?He.tertiary:[He.primary,He.secondary,He.tertiary][Jt]||He.gray),it=Ie.map((Qe,Jt)=>({label:Qe,pct:Ve[Jt],count:Re[Jt],color:Tt[Jt]})),We=it[0]||null,qt=new Array(Ie.length).fill(0);return qt[0]=100,{total:he,main:We,labels:Ie,pct:Ve,tiles:it,data:{labels:Ie,datasets:[{label:"",data:qt,backgroundColor:e?"#e5e7eb1a":"#EEF2FF",borderWidth:0,cutout:"72%",rotation:-90,circumference:180},{data:Ve,backgroundColor:Tt,borderWidth:0,cutout:"72%",rotation:-90,circumference:180,spacing:2}]}}},[ae,e]),Ot=R.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1},tooltip:{filter:ee=>ee.datasetIndex===1,callbacks:{label:ee=>{const he=ee.label||"",ke=ee.parsed||0;return`${he} : ${ke.toFixed(0)}%`}},backgroundColor:e?"#020617":"#ffffff",titleColor:e?"#e5e7eb":"#000000",bodyColor:e?"#f9fafb":"#000000",borderColor:e?"#1f2937":"#e5e7eb",borderWidth:1,padding:10,cornerRadius:6},datalabels:{color:"#fff",font:{size:10,weight:700},formatter:(ee,he)=>{var ke;return(((ke=he.chart.data.labels)==null?void 0:ke[he.dataIndex])||"").toUpperCase()},display:ee=>ee.datasetIndex===1&&ee.dataset.data[ee.dataIndex]>8}}}),[e]),Ke=R.useMemo(()=>{if(!tt||!tt.current_month){const it=new Date,We=new Date(it.getFullYear(),it.getMonth()+1,0).getDate();return{data:{labels:Array.from({length:We},(Qe,Jt)=>(Jt+1).toString()),datasets:[]},sums:{m0:0,m1:0,m2:0},monthNames:{m0:"",m1:"",m2:""},currentDay:it.getDate()}}const ee=new Date,he=tt.current_day||ee.getDate(),ke=new Date(ee.getFullYear(),ee.getMonth()+1,0).getDate(),nt=Array.from({length:ke},(it,We)=>(We+1).toString()),Ie=tt.current_month.data.map(it=>it.value),Re=tt.previous_month.data.map(it=>it.value),Ve=tt.two_months_ago.data.map(it=>it.value);return{data:{labels:nt,datasets:[{label:`${tt.two_months_ago.month_label} (N-2)`,data:Ve.slice(0,ke),borderColor:He.gray,backgroundColor:"transparent",borderWidth:1.5,tension:.4,pointRadius:0,fill:!1},{label:`${tt.previous_month.month_label} (N-1)`,data:Re.slice(0,ke),borderColor:He.secondary,backgroundColor:"transparent",borderWidth:2,tension:.4,pointRadius:0,fill:!1},{label:`${tt.current_month.month_label} (N)`,data:Ie.slice(0,ke),borderColor:He.primary,backgroundColor:"transparent",borderWidth:3,tension:.45,pointRadius:nt.map((it,We)=>We===he-1?4:0),pointHoverRadius:6,fill:!1}]},sums:{m0:tt.current_month.total,m1:tt.previous_month.total,m2:tt.two_months_ago.total},monthNames:{m0:tt.current_month.month_label,m1:tt.previous_month.month_label,m2:tt.two_months_ago.month_label},currentDay:he}},[tt,e]),dn=R.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,resizeDelay:150,animation:{duration:250},layout:{padding:{top:8,bottom:12,left:8,right:8}},plugins:{title:{display:!1},legend:{display:!1},tooltip:{callbacks:{label:ee=>{const he=ee.parsed.y||0;return`${ee.dataset.label} : ${he.toLocaleString("fr-FR")}  cumuls`}},backgroundColor:e?"#020617":"#ffffff",titleColor:e?"#e5e7eb":"#000000",bodyColor:e?"#f9fafb":"#000000",borderColor:e?"#1f2937":"#e5e7eb",borderWidth:1,padding:10,cornerRadius:6},datalabels:{display:!1}},interaction:{mode:"index",intersect:!1},scales:{y:{beginAtZero:!0,grace:"5%",ticks:{font:{size:11},callback:ee=>`${Number(ee).toLocaleString("fr-FR")} `,color:e?"#9ba3af":"#4b5563"},grid:{color:e?"rgba(148, 163, 184, 0.15)":"rgba(209, 213, 219, 0.5)"}},x:{ticks:{font:{size:10},padding:6,color:e?"#9ba3af":"#4b5563",maxRotation:0,autoSkip:!0,maxTicksLimit:10},grid:{display:!1}}},elements:{line:{borderCapStyle:"round",borderJoinStyle:"round"},point:{radius:0,hoverRadius:5,hitRadius:10}}}),[e]),wt=Ke.sums.m1,di=Ke.sums.m0-wt,$i=wt?di/wt*100:null,Ii=R.useMemo(()=>(console.log(" Using trophies from backend:",W),W),[W]),kt=R.useMemo(()=>{if(!N||N.length===0)return[];const ee=new Map(N.map(Re=>[Re.name,Re])),he=GR.map(Re=>{const Ve=[Re.captain,...Re.members];let Tt=0,it=0;return Ve.forEach(We=>{const qt=ee.get(We);qt&&(Tt+=qt.sales,it+=qt.revenu)}),{...Re,ventes:Tt,revenu:it}}),ke=he.reduce((Re,Ve)=>Re+Ve.revenu,0)||1,nt=Math.max(...he.map(Re=>Re.revenu),0)||1,Ie=24;return he.map(Re=>({...Re,share:Re.revenu/ke*100,dots:Math.max(1,Math.round(Re.revenu/nt*Ie))})).sort((Re,Ve)=>Ve.revenu-Re.revenu).map((Re,Ve)=>({...Re,rank:Ve+1}))},[N]),Os=ee=>{const he=ee.type==="touchstart"?ee.touches[0].clientY:ee.clientY;Te.current=he,Q(!0)},ti=ee=>{if(!te||le)return;const ke=(ee.type==="touchmove"?ee.touches[0].clientY:ee.clientY)-Te.current;if(ke>0){ee.preventDefault();const nt=Math.min(ke*.4,70);q(nt)}},Hi=async()=>{if(te){if(Q(!1),Y>=_e){re(!0);try{window.location.reload()}catch(ee){console.error("Refresh error:",ee)}}q(0)}};return y.jsxs("div",{style:{padding:0,fontFamily:"sans-serif",background:e?"#1a1a1e":"#f5f5f7",minHeight:"100vh",paddingTop:"16px"},children:[y.jsx(ul,{session:E,darkMode:e,setDarkMode:n}),y.jsxs("div",{className:"board-frame",children:[y.jsxs("div",{style:{position:"absolute",top:"var(--space-xl)",left:"var(--space-2xl)",right:"var(--space-2xl)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10},children:[y.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",alignItems:"center"},children:[y.jsx("button",{className:`toggle-btn ${Ae==="table"?"active":""}`,onClick:()=>$e("table"),children:"Tableaux"}),y.jsx("button",{className:`toggle-btn ${Ae==="charts"?"active":""}`,onClick:()=>$e("charts"),children:"Charts"}),y.jsx("select",{value:ze,onChange:ee=>un(ee.target.value),className:"range-select",style:{padding:"8px 14px",paddingRight:"32px",borderRadius:"12px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,background:e?"#2a2b2e":"#ffffff",color:e?"#f5f5f7":"#1d1d1f",fontWeight:500,fontSize:"14px",cursor:"pointer"},children:(()=>{const ee=[],he=new Date("2025-09-01"),ke=new Date,nt=[],Ie=new Date(he),Re=ke.getFullYear()*100+ke.getMonth();for(;;){const Ve=Ie.getFullYear(),Tt=Ie.getMonth();if(Ve*100+Tt>Re)break;const We=new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}).format(Ie),qt=`${Ve}-${String(Tt+1).padStart(2,"0")}`;nt.unshift({value:qt,label:We.charAt(0).toUpperCase()+We.slice(1)}),Ie.setMonth(Ie.getMonth()+1)}return nt.forEach(Ve=>{ee.push(y.jsx("option",{value:Ve.value,children:Ve.label},Ve.value))}),ee.push(y.jsx("option",{value:"all",children:"All time"},"all")),ee})()})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[y.jsxs("button",{className:"export-btn nda-btn-primary",onClick:()=>t("/contracts/new"),children:[y.jsx("img",{src:lk,alt:"",style:{width:"50px",height:"50px",objectFit:"contain",flexShrink:0}}),"Gnrer le NDA"]}),y.jsxs("button",{className:"export-btn declare-btn-secondary",onClick:()=>a(!0),children:[y.jsx("img",{src:ck,alt:"",style:{width:"50px",height:"50px",objectFit:"contain",flexShrink:0}}),"Dclarer une vente"]})]})]}),y.jsxs("div",{className:"title-bar",children:[y.jsx("img",{src:e?ol:Su,className:"title-logo",alt:"logo"}),y.jsx("h1",{className:"leaderboard-title",children:"Suivi des ventes"})]}),y.jsxs("div",{className:"pull-refresh-area",onMouseDown:Os,onMouseMove:ti,onMouseUp:Hi,onMouseLeave:Hi,onTouchStart:Os,onTouchMove:ti,onTouchEnd:Hi,style:{transform:`translateY(${Y}px)`,transition:te?"none":"transform 0.3s ease-out",cursor:te?"grabbing":"grab",userSelect:"none",position:"relative",paddingTop:Y>0?"30px":"0"},children:[Y>0&&y.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",fontSize:20,opacity:Math.min(Y/_e,1),transition:"opacity 0.2s"},children:Y>=_e?"":""}),y.jsxs("div",{className:"totals-block",children:[y.jsxs("div",{className:"totals-row",children:[y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Total Cash"}),y.jsx("br",{}),y.jsxs("span",{className:"totals-value cash dot-boost",children:[Xe.toLocaleString("fr-FR")," "]}),X&&y.jsx("span",{className:"money-emoji",children:""})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Total Revenu"}),y.jsx("br",{}),y.jsxs("span",{className:"totals-value revenu dot-boost",children:[ue.toLocaleString("fr-FR")," "]}),ye&&y.jsx("span",{className:"money-emoji",children:""})]})]}),y.jsxs("div",{className:"money-float-container",style:{display:"inline-block"},children:[y.jsxs("div",{className:"totals-sales dot-boost",children:["Total ventes: ",Nt]}),me&&y.jsx("span",{className:"money-emoji",children:""})]})]})]}),qe&&y.jsx("p",{children:"Loading"}),!qe&&N.length===0&&y.jsx("p",{children:"Aucune vente ce mois-ci pour l'instant."}),Ae==="table"&&!qe&&N.length>0&&y.jsx("div",{className:"leaderboard-wrapper",children:y.jsxs("table",{className:"leaderboard",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"#"}),y.jsx("th",{children:"Name"}),y.jsx("th",{align:"center",children:"Sales"}),y.jsx("th",{align:"right",children:"Revenu "})]})}),y.jsx("tbody",{children:N.map((ee,he)=>y.jsxs("tr",{onClick:()=>t(`/employee/${encodeURIComponent(ee.name)}`,{state:{avatar:ee.avatar,ventes:ee.sales,cash:ee.cash,revenu:ee.revenu}}),children:[y.jsx("td",{children:he===0?y.jsx("img",{src:Tf,alt:"1st",style:{width:28,height:28}}):he===1?y.jsx("img",{src:Af,alt:"2nd",style:{width:28,height:28}}):he===2?y.jsx("img",{src:Ef,alt:"3rd",style:{width:28,height:28}}):he+1}),y.jsxs("td",{className:"name-cell",children:[y.jsxs("div",{className:"avatar-wrap",children:[y.jsx("img",{src:ee.avatar,className:"avatar",alt:""}),U&&ee.name===U&&y.jsx("img",{src:dk,className:"crown-icon",alt:"Top ventes all-time",title:"Top ventes all-time"})]}),y.jsx("span",{children:ee.name}),Ii[ee.name]>0&&y.jsxs("div",{className:"trophy-container",children:[y.jsx("img",{src:ok,alt:"Trophy",className:"trophy-icon"}),Ii[ee.name]>1&&y.jsxs("span",{className:"trophy-count",children:["",Ii[ee.name]]})]})]}),y.jsx("td",{align:"center",children:ee.sales}),y.jsxs("td",{align:"right",children:[ee.revenu.toLocaleString("fr-FR")," "]})]},ee.name))})]})}),Ae==="charts"&&!qe&&y.jsxs("div",{className:"charts-wrapper",children:[y.jsxs("div",{className:"chart-card kpi-card chart--gauge",children:[y.jsxs("div",{className:"gauge-header",children:[y.jsx("div",{className:"gauge-title",children:"Tunnel d'acquisition"}),y.jsxs("div",{className:"gauge-subtitle",children:["Top 3 canaux  ",An.total," dossiers"]})]}),y.jsx(WR,{data:An.data,options:Ot}),y.jsx("div",{className:"gauge-sep"}),y.jsx("div",{className:"gauge-tiles",children:An.tiles.map(ee=>y.jsxs("div",{className:"gauge-tile",children:[y.jsx("span",{className:"tile-dot",style:{background:ee.color}}),y.jsxs("div",{className:"tile-text",children:[y.jsx("div",{className:"tile-label",children:ee.label}),y.jsxs("div",{className:"tile-value",children:[Math.round(ee.pct),"% ",y.jsxs("span",{className:"tile-count",children:["(",ee.count," dossiers)"]})]})]})]},ee.label))})]}),y.jsxs("div",{className:"chart-card chart--weeks kpi-card",children:[y.jsxs("div",{className:"chart-header kpi-header",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"kpi-label",children:["Revenu cumul(",Ke.monthNames.m0.toUpperCase(),"  N)"]}),y.jsxs("div",{className:"kpi-value",children:[Ke.sums.m0.toLocaleString("fr-FR")," "]}),y.jsxs("div",{className:"kpi-sub",children:["Compar aux ",Ke.currentDay," premiers jours de"," ",Ke.monthNames.m1.toUpperCase()," (N-1)"]})]}),y.jsx(QR,{deltaAbs:di,deltaPct:$i})]}),y.jsx("div",{className:"chart-title-small",children:"Performance des 3 derniers mois (revenu cumul /jour)"}),y.jsx("div",{className:"chart-body chart-body--glass",children:y.jsx(Xx,{data:Ke.data,options:dn})}),y.jsxs("div",{className:"chart-key",children:[y.jsxs("span",{className:"key",children:[y.jsx("i",{className:"dot",style:{background:He.gray}})," ",Ke.monthNames.m2.toUpperCase()," (N-2)"]}),y.jsxs("span",{className:"key",children:[y.jsx("i",{className:"dot",style:{background:He.secondary}})," ",Ke.monthNames.m1.toUpperCase()," (N-1)"]}),y.jsxs("span",{className:"key current",children:[y.jsx("i",{className:"dot",style:{background:He.primary}})," ",Ke.monthNames.m0.toUpperCase()," (N)"]})]}),y.jsxs("div",{className:"chart-footnote",children:["Lecture : chaque courbe reprsente le ",y.jsx("strong",{children:"CA cumul"})," jour par jour. On compare les ",Ke.currentDay," premiers jours de chaque mois (N, N-1, N-2)."]})]}),kt.length>0&&y.jsxs("div",{className:"chart-card kpi-card team-card",children:[y.jsxs("div",{className:"team-header",children:[y.jsx("div",{className:"team-title",children:"Performance par quipe commerciale"}),y.jsxs("div",{className:"team-subtitle",children:["Classement par CA ",ze==="all"?"toutes priodes confondues":"du mois slectionn"]})]}),y.jsx("div",{className:"team-grid",children:kt.map(ee=>y.jsxs("div",{className:"team-col",children:[y.jsxs("div",{className:"team-rank",children:["#",ee.rank]}),y.jsxs("div",{className:"team-captain",children:["quipe ",ee.captain]}),y.jsxs("div",{className:"team-meta",children:[ee.revenu.toLocaleString("fr-FR"),"   ",Math.round(ee.share)," %"]}),y.jsx("div",{className:"team-dots",children:(()=>{const nt=ee.dots,Ie=Ve=>{const Tt=Math.floor(nt/6);return Ve>=4-Tt?6:Ve===4-Tt-1?nt%6:0},Re=[];for(let Ve=0;Ve<4;Ve++){const Tt=Ie(Ve);for(let it=0;it<6;it++){const We=it<Tt;Re.push(y.jsx("span",{className:`team-dot ${We?"team-dot--filled":""}`,style:We?{background:ee.color}:void 0},`${Ve}-${it}`))}}return Re})()})]},ee.id))})]})]})]}),i&&y.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:e?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.25)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",transform:"translateZ(0)",willChange:"opacity",contain:"layout paint",animation:"modalBackdropIn 0.3s ease-out forwards"},onClick:S,children:y.jsxs("div",{onClick:ee=>ee.stopPropagation(),style:{position:"relative",width:"100%",maxWidth:"420px",background:e?"#242428":"#ffffff",borderRadius:"20px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,boxShadow:e?"0 24px 80px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255,255,255,0.05) inset":"0 24px 80px rgba(0, 0, 0, 0.2)",overflow:"hidden",animation:"modalSlideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards",transform:"translateZ(0)",isolation:"isolate"},children:[y.jsxs("div",{style:{padding:"24px 24px 0",textAlign:"center"},children:[y.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:`linear-gradient(135deg, ${He.primary}, ${He.primary}dd)`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"24px",boxShadow:`0 8px 24px ${He.primary}40`},children:f?"":""}),y.jsx("h2",{style:{margin:"0 0 6px",fontSize:"22px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f",letterSpacing:"-0.3px"},children:f?"Vente dclare !":"Dclarer une vente"}),y.jsx("p",{style:{margin:0,fontSize:"14px",color:e?"#8b8d93":"#86868b"},children:f?"La vente a t enregistre avec succs":"Renseignez les informations client"})]}),!f&&y.jsxs("form",{onSubmit:_,style:{padding:"24px"},children:[y.jsxs("div",{style:{marginBottom:"16px"},children:[y.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500,color:e?"#f5f5f7":"#1d1d1f"},children:"Adresse email"}),y.jsx("input",{type:"email",value:o.email,onChange:ee=>v("email",ee.target.value),required:!0,placeholder:"client@exemple.com",style:{width:"100%",padding:"14px 16px",borderRadius:"12px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,background:e?"#1a1a1e":"#f5f5f7",color:e?"#f5f5f7":"#1d1d1f",fontSize:"15px",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s",boxSizing:"border-box"},onFocus:ee=>{ee.target.style.borderColor=He.primary,ee.target.style.boxShadow=`0 0 0 4px ${He.primary}20`},onBlur:ee=>{ee.target.style.borderColor=e?"#333338":"#e5e5e5",ee.target.style.boxShadow="none"}})]}),y.jsxs("div",{style:{marginBottom:"16px"},children:[y.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"13px",fontWeight:500,color:e?"#f5f5f7":"#1d1d1f"},children:"Modalit de paiement"}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsxs("button",{type:"button",onClick:()=>v("paymentModality","M"),style:{flex:1,padding:"14px 16px",borderRadius:"12px",border:`2px solid ${o.paymentModality==="M"?He.primary:e?"#333338":"#e5e5e5"}`,background:o.paymentModality==="M"?e?`${He.primary}20`:`${He.primary}15`:e?"#1a1a1e":"#f5f5f7",color:o.paymentModality==="M"?He.primary:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:[y.jsx("span",{style:{fontSize:"18px",marginRight:"6px"},children:""}),"Mensuel"]}),y.jsxs("button",{type:"button",onClick:()=>v("paymentModality","A"),style:{flex:1,padding:"14px 16px",borderRadius:"12px",border:`2px solid ${o.paymentModality==="A"?He.primary:e?"#333338":"#e5e5e5"}`,background:o.paymentModality==="A"?e?`${He.primary}20`:`${He.primary}15`:e?"#1a1a1e":"#f5f5f7",color:o.paymentModality==="A"?He.primary:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:[y.jsx("span",{style:{fontSize:"18px",marginRight:"6px"},children:""}),"Annuel"]})]})]}),y.jsxs("div",{style:{marginBottom:"24px"},children:[y.jsx("label",{style:{display:"block",marginBottom:"10px",fontSize:"13px",fontWeight:500,color:e?"#f5f5f7":"#1d1d1f"},children:"Nombre de salaris"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"6px"},children:b.map(ee=>{const he=o.employeeRange===ee.id;return y.jsxs("button",{type:"button",onClick:()=>v("employeeRange",ee.id),style:{padding:"8px 4px",borderRadius:"8px",border:`2px solid ${he?He.primary:"transparent"}`,background:he?e?`${He.primary}20`:`${He.primary}10`:e?"#1a1a1e":"#f9f9f9",color:he?He.primary:e?"#f5f5f7":"#1d1d1f",fontSize:"12px",fontWeight:he?600:500,cursor:"pointer",transition:"all 0.15s ease",textAlign:"center",boxShadow:he?"none":`inset 0 0 0 1px ${e?"#333338":"#e5e5e5"}`},children:[ee.min,"-",ee.max]},ee.id)})})]}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{type:"button",onClick:S,disabled:u,style:{flex:1,padding:"14px 20px",borderRadius:"12px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,background:e?"#1a1a1e":"#ffffff",color:e?"#f5f5f7":"#1d1d1f",fontSize:"15px",fontWeight:500,cursor:u?"not-allowed":"pointer",opacity:u?.5:1,transition:"background 0.2s"},onMouseEnter:ee=>!u&&(ee.target.style.background=e?"#242428":"#f5f5f7"),onMouseLeave:ee=>ee.target.style.background=e?"#1a1a1e":"#ffffff",children:"Annuler"}),y.jsx("button",{type:"submit",disabled:u||!o.email||!o.employeeRange,style:{flex:1,padding:"14px 20px",borderRadius:"12px",border:"none",background:He.primary,color:"#ffffff",fontSize:"15px",fontWeight:600,cursor:u||!o.email||!o.employeeRange?"not-allowed":"pointer",opacity:u||!o.email||!o.employeeRange?.6:1,transition:"all 0.2s",boxShadow:`0 4px 12px ${He.primary}40`},children:u?y.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx("span",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),"Envoi..."]}):"Dclarer la vente"})]})]}),f&&y.jsx("div",{style:{height:"40px"}}),y.jsx("button",{onClick:S,style:{position:"absolute",top:"16px",right:"16px",width:"32px",height:"32px",borderRadius:"50%",border:"none",background:e?"#333338":"#f5f5f7",color:e?"#8b8d93":"#86868b",fontSize:"18px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:ee=>{ee.target.style.background=e?"#444":"#e5e5e5",ee.target.style.color=e?"#fff":"#1d1d1f"},onMouseLeave:ee=>{ee.target.style.background=e?"#333338":"#f5f5f7",ee.target.style.color=e?"#8b8d93":"#86868b"},children:""})]})}),y.jsx("style",{children:`
        @keyframes modalBackdropIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes modalSlideIn {
          from { 
            opacity: 0; 
            transform: scale(0.95) translateY(10px); 
          }
          to { 
            opacity: 1; 
            transform: scale(1) translateY(0); 
          }
        }
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        .hide-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .hide-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `})]})}const eC=$_("https://rqadrfwwqoqqigzravkt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWRyZnd3cW9xcWlnenJhdmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3MzA0NTAsImV4cCI6MjA2NTMwNjQ1MH0.YQUW6Sjt0JeWT11tagQQCzxcc7tmx82S80q5-AEkPm4");function tC(){var v,_,S,k;const{name:t}=E2(),e=_r(),[n,i]=R.useState(()=>document.documentElement.classList.contains("dark-mode")||document.body.classList.contains("dark-mode"));R.useEffect(()=>{const w=document.documentElement.classList.contains("dark-mode")||document.body.classList.contains("dark-mode");i(w);const E=new MutationObserver(()=>{const O=document.documentElement.classList.contains("dark-mode")||document.body.classList.contains("dark-mode");i(O)});return E.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),E.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>E.disconnect()},[]);const a=((v=e.state)==null?void 0:v.avatar)||"",o=((_=e.state)==null?void 0:_.ventes)??0,l=((S=e.state)==null?void 0:S.cash)??0,u=((k=e.state)==null?void 0:k.revenu)??0,[h,f]=R.useState([]),[p,b]=R.useState(!0);return R.useEffect(()=>{(async()=>{b(!0);const{data:w,error:E}=await eC.from("Info").select("created_at, client_name, tunnel, amount, mensualite, comment, payment_mode").ilike("employee_name",`%${t}%`).order("created_at",{ascending:!1});if(E){console.error(E),f([]),b(!1);return}const O=(w||[]).filter(M=>(Number(M.amount)||0)>0||(Number(M.mensualite)||0)>0);f(O),b(!1)})()},[t]),y.jsx("div",{className:`employee-page ${n?"dark-mode":""}`,children:y.jsxs("div",{className:"emp-container",children:[y.jsx(ek,{to:"/",className:"emp-back",children:" Retour au leaderboard"}),y.jsx("div",{className:"emp-header-card",children:y.jsxs("div",{className:"emp-left",children:[y.jsx("div",{className:"emp-avatar-wrap",children:a?y.jsx("img",{className:"emp-avatar",src:a,alt:t}):y.jsx("div",{className:"emp-avatar emp-placeholder","aria-label":"placeholder"})}),y.jsxs("div",{className:"emp-id-block",children:[y.jsx("h1",{className:"emp-name",children:t}),y.jsxs("div",{className:"emp-subtitle",children:[o," ventes ralises"]})]})]})}),y.jsxs("div",{className:"emp-stats",children:[y.jsxs("div",{className:"stat-card ventes",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsx("div",{className:"stat-value",children:o}),y.jsx("div",{className:"stat-label",children:"Total Ventes"})]}),y.jsxs("div",{className:"stat-card cash",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-value",children:[l.toLocaleString("fr-FR")," "]}),y.jsx("div",{className:"stat-label",children:"Cash Collect"})]}),y.jsxs("div",{className:"stat-card revenu",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-value",children:[u.toLocaleString("fr-FR")," "]}),y.jsx("div",{className:"stat-label",children:"Revenu Total"})]})]}),y.jsxs("div",{className:"emp-history-card",children:[y.jsx("div",{className:"emp-history-head",children:y.jsxs("div",{children:[y.jsx("h2",{children:"Historique des ventes"}),!p&&y.jsxs("div",{className:"emp-history-count",children:[h.length," vente",h.length>1?"s":""," trouve",h.length>1?"s":""]})]})}),p&&y.jsxs("div",{className:"emp-history-empty",children:[y.jsx("div",{className:"emp-loader"}),y.jsx("p",{children:"Chargement des donnes..."})]}),!p&&h.length===0&&y.jsxs("div",{className:"emp-history-empty",children:[y.jsx("div",{className:"emp-empty-icon",children:""}),y.jsx("p",{children:"Aucune vente enregistre pour le moment"})]}),!p&&h.length>0&&y.jsx("div",{className:"emp-history-table-wrap",children:y.jsxs("table",{className:"emp-history",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Date"}),y.jsx("th",{children:"Client"}),y.jsx("th",{align:"right",children:"Revenu"}),y.jsx("th",{align:"right",children:"Cash /mois"}),y.jsx("th",{children:"Modalit"}),y.jsx("th",{children:"Tunnel"}),y.jsx("th",{children:"Commentaire"})]})}),y.jsx("tbody",{children:h.map((w,E)=>{const M=new Date(w.created_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"});return y.jsxs("tr",{children:[y.jsx("td",{className:"emp-date",children:M}),y.jsx("td",{className:"emp-client",children:w.client_name||""}),y.jsxs("td",{align:"right",className:"emp-amount",children:[(Number(w.amount)||0).toLocaleString("fr-FR")," "]}),y.jsxs("td",{align:"right",className:"emp-mensualite",children:[(Number(w.mensualite)||0).toLocaleString("fr-FR")," "]}),y.jsx("td",{children:y.jsx("span",{className:`emp-chip ${w.payment_mode==="M"?"mode-m":w.payment_mode==="A"?"mode-a":"mode-default"}`,children:w.payment_mode==="M"?"Mensuel":w.payment_mode==="A"?"Annuel":w.payment_mode||""})}),y.jsx("td",{children:y.jsx("span",{className:"emp-chip tunnel",children:w.tunnel||""})}),y.jsx("td",{className:"emp-history-comment",children:w.comment||""})]},E)})})]})})]})]})})}function se(t,e,n){function i(u,h){var f;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(f=u._zod).traits??(f.traits=new Set),u._zod.traits.add(t),e(u,h);for(const p in l.prototype)p in u||Object.defineProperty(u,p,{value:l.prototype[p].bind(u)});u._zod.constr=l,u._zod.def=h}const a=(n==null?void 0:n.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function l(u){var h;const f=n!=null&&n.Parent?new o:this;i(f,u),(h=f._zod).deferred??(h.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(l,"init",{value:i}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var h,f;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(f=(h=u==null?void 0:u._zod)==null?void 0:h.traits)==null?void 0:f.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class fr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Kx extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Qx={};function oa(t){return Qx}function nC(t){const e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,a])=>e.indexOf(+i)===-1).map(([i,a])=>a)}function eg(t,e){return typeof e=="bigint"?e.toString():e}function Dg(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function zg(t){return t==null}function Ng(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function iC(t,e){const n=(t.toString().split(".")[1]||"").length,i=e.toString();let a=(i.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(i)){const h=i.match(/\d?e-(\d?)/);h!=null&&h[1]&&(a=Number.parseInt(h[1]))}const o=n>a?n:a,l=Number.parseInt(t.toFixed(o).replace(".","")),u=Number.parseInt(e.toFixed(o).replace(".",""));return l%u/10**o}const Iv=Symbol("evaluating");function ft(t,e,n){let i;Object.defineProperty(t,e,{get(){if(i!==Iv)return i===void 0&&(i=Iv,i=n()),i},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function sC(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function js(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function wr(...t){const e={};for(const n of t){const i=Object.getOwnPropertyDescriptors(n);Object.assign(e,i)}return Object.defineProperties({},e)}function Hv(t){return JSON.stringify(t)}const Jx="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function yu(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const aC=Dg(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function al(t){if(yu(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(yu(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function e1(t){return al(t)?{...t}:t}const rC=new Set(["string","number","symbol"]);function Ru(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ms(t,e,n){const i=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(i._zod.parent=t),i}function be(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function oC(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const lC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function cC(t,e){const n=t._zod.def,i=wr(t._zod.def,{get shape(){const a={};for(const o in e){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&(a[o]=n.shape[o])}return js(this,"shape",a),a},checks:[]});return Ms(t,i)}function uC(t,e){const n=t._zod.def,i=wr(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const o in e){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&delete a[o]}return js(this,"shape",a),a},checks:[]});return Ms(t,i)}function dC(t,e){if(!al(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=wr(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return js(this,"shape",o),o},checks:[]});return Ms(t,a)}function hC(t,e){if(!al(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const i={...t._zod.def.shape,...e};return js(this,"shape",i),i},checks:t._zod.def.checks};return Ms(t,n)}function fC(t,e){const n=wr(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e._zod.def.shape};return js(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return Ms(t,n)}function gC(t,e,n){const i=wr(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(o[l]=t?new t({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)o[l]=t?new t({type:"optional",innerType:a[l]}):a[l];return js(this,"shape",o),o},checks:[]});return Ms(e,i)}function pC(t,e,n){const i=wr(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const l in n){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(o[l]=new t({type:"nonoptional",innerType:a[l]}))}else for(const l in a)o[l]=new t({type:"nonoptional",innerType:a[l]});return js(this,"shape",o),o},checks:[]});return Ms(e,i)}function ur(t,e=0){var n;if(t.aborted===!0)return!0;for(let i=e;i<t.issues.length;i++)if(((n=t.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function t1(t,e){return e.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(t),n})}function Xc(t){return typeof t=="string"?t:t==null?void 0:t.message}function la(t,e,n){var a,o,l,u,h,f;const i={...t,path:t.path??[]};if(!t.message){const p=Xc((l=(o=(a=t.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:l.call(o,t))??Xc((u=e==null?void 0:e.error)==null?void 0:u.call(e,t))??Xc((h=n.customError)==null?void 0:h.call(n,t))??Xc((f=n.localeError)==null?void 0:f.call(n,t))??"Invalid input";i.message=p}return delete i.inst,delete i.continue,e!=null&&e.reportInput||delete i.input,i}function Lg(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function rl(...t){const[e,n,i]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:i}:{...e}}const n1=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,eg,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},i1=se("$ZodError",n1),s1=se("$ZodError",n1,{Parent:Error});function mC(t,e=n=>n.message){const n={},i=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:n}}function bC(t,e){const n=e||function(o){return o.message},i={_errors:[]},a=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)i._errors.push(n(l));else{let u=i,h=0;for(;h<l.path.length;){const f=l.path[h];h===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(l))):u[f]=u[f]||{_errors:[]},u=u[f],h++}}};return a(t),i}const yC=t=>(e,n,i,a)=>{const o=i?Object.assign(i,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new fr;if(l.issues.length){const u=new((a==null?void 0:a.Err)??t)(l.issues.map(h=>la(h,o,oa())));throw Jx(u,a==null?void 0:a.callee),u}return l.value},vC=t=>async(e,n,i,a)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((a==null?void 0:a.Err)??t)(l.issues.map(h=>la(h,o,oa())));throw Jx(u,a==null?void 0:a.callee),u}return l.value},a1=t=>(e,n,i)=>{const a=i?{...i,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new fr;return o.issues.length?{success:!1,error:new(t??i1)(o.issues.map(l=>la(l,a,oa())))}:{success:!0,data:o.value}},_C=a1(s1),r1=t=>async(e,n,i)=>{const a=i?Object.assign(i,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(l=>la(l,a,oa())))}:{success:!0,data:o.value}},xC=r1(s1),SC=/^[cC][^\s-]{8,}$/,wC=/^[0-9a-z]+$/,kC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,TC=/^[0-9a-vA-V]{20}$/,AC=/^[A-Za-z0-9]{27}$/,EC=/^[a-zA-Z0-9_-]{21}$/,jC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,MC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Fv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,OC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,RC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function CC(){return new RegExp(RC,"u")}const DC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,NC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,LC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,o1=/^[A-Za-z0-9_-]*$/,PC=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,BC=/^\+(?:[0-9]){6,14}[0-9]$/,l1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",$C=new RegExp(`^${l1}$`);function c1(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function IC(t){return new RegExp(`^${c1(t)}$`)}function HC(t){const e=c1({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${e}(?:${n.join("|")})`;return new RegExp(`^${l1}T(?:${i})$`)}const FC=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},qC=/^\d+$/,VC=/^-?\d+(?:\.\d+)?/i,ZC=/^[^A-Z]*$/,YC=/^[^a-z]*$/,Tn=se("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),u1={number:"number",bigint:"bigint",object:"date"},d1=se("$ZodCheckLessThan",(t,e)=>{Tn.init(t,e);const n=u1[typeof e.value];t._zod.onattach.push(i=>{const a=i._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:n,code:"too_big",maximum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),h1=se("$ZodCheckGreaterThan",(t,e)=>{Tn.init(t,e);const n=u1[typeof e.value];t._zod.onattach.push(i=>{const a=i._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:n,code:"too_small",minimum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),WC=se("$ZodCheckMultipleOf",(t,e)=>{Tn.init(t,e),t._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):iC(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),GC=se("$ZodCheckNumberFormat",(t,e)=>{var l;Tn.init(t,e),e.format=e.format||"float64";const n=(l=e.format)==null?void 0:l.includes("int"),i=n?"int":"number",[a,o]=lC[e.format];t._zod.onattach.push(u=>{const h=u._zod.bag;h.format=e.format,h.minimum=a,h.maximum=o,n&&(h.pattern=qC)}),t._zod.check=u=>{const h=u.value;if(n){if(!Number.isInteger(h)){u.issues.push({expected:i,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?u.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort}):u.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort});return}}h<a&&u.issues.push({origin:"number",input:h,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),h>o&&u.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inst:t})}}),XC=se("$ZodCheckMaxLength",(t,e)=>{var n;Tn.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!zg(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{const a=i.value;if(a.length<=e.maximum)return;const l=Lg(a);i.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),KC=se("$ZodCheckMinLength",(t,e)=>{var n;Tn.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!zg(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{const a=i.value;if(a.length>=e.minimum)return;const l=Lg(a);i.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),QC=se("$ZodCheckLengthEquals",(t,e)=>{var n;Tn.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!zg(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=i=>{const a=i.value,o=a.length;if(o===e.length)return;const l=Lg(a),u=o>e.length;i.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),Cu=se("$ZodCheckStringFormat",(t,e)=>{var n,i;Tn.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),JC=se("$ZodCheckRegex",(t,e)=>{Cu.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),eD=se("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=ZC),Cu.init(t,e)}),tD=se("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=YC),Cu.init(t,e)}),nD=se("$ZodCheckIncludes",(t,e)=>{Tn.init(t,e);const n=Ru(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=i,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(i)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),iD=se("$ZodCheckStartsWith",(t,e)=>{Tn.init(t,e);const n=new RegExp(`^${Ru(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),sD=se("$ZodCheckEndsWith",(t,e)=>{Tn.init(t,e);const n=new RegExp(`.*${Ru(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}}),aD=se("$ZodCheckOverwrite",(t,e)=>{Tn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class rD{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const i=e.split(`
`).filter(l=>l),a=Math.min(...i.map(l=>l.length-l.trimStart().length)),o=i.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const e=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const oD={major:4,minor:1,patch:0},Bt=se("$ZodType",(t,e)=>{var a;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=oD;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const o of i)for(const l of o._zod.onattach)l(t);if(i.length===0)(n=t._zod).deferred??(n.deferred=[]),(a=t._zod.deferred)==null||a.push(()=>{t._zod.run=t._zod.parse});else{const o=(u,h,f)=>{let p=ur(u),b;for(const v of h){if(v._zod.def.when){if(!v._zod.def.when(u))continue}else if(p)continue;const _=u.issues.length,S=v._zod.check(u);if(S instanceof Promise&&(f==null?void 0:f.async)===!1)throw new fr;if(b||S instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await S,u.issues.length!==_&&(p||(p=ur(u,_)))});else{if(u.issues.length===_)continue;p||(p=ur(u,_))}}return b?b.then(()=>u):u},l=(u,h,f)=>{if(ur(u))return u.aborted=!0,u;const p=o(h,i,f);if(p instanceof Promise){if(f.async===!1)throw new fr;return p.then(b=>t._zod.parse(b,f))}return t._zod.parse(p,f)};t._zod.run=(u,h)=>{if(h.skipChecks)return t._zod.parse(u,h);if(h.direction==="backward"){const p=t._zod.parse({value:u.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(b=>l(b,u,h)):l(p,u,h)}const f=t._zod.parse(u,h);if(f instanceof Promise){if(h.async===!1)throw new fr;return f.then(p=>o(p,i,h))}return o(f,i,h)}}t["~standard"]={validate:o=>{var l;try{const u=_C(t,o);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return xC(t,o).then(h=>{var f;return h.success?{value:h.data}:{issues:(f=h.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}}),Ug=se("$ZodString",(t,e)=>{var n;Bt.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??FC(t._zod.bag),t._zod.parse=(i,a)=>{if(e.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:t}),i}}),_t=se("$ZodStringFormat",(t,e)=>{Cu.init(t,e),Ug.init(t,e)}),lD=se("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=MC),_t.init(t,e)}),cD=se("$ZodUUID",(t,e)=>{if(e.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Fv(i))}else e.pattern??(e.pattern=Fv());_t.init(t,e)}),uD=se("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=OC),_t.init(t,e)}),dD=se("$ZodURL",(t,e)=>{_t.init(t,e),t._zod.check=n=>{try{const i=n.value.trim(),a=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:PC.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),hD=se("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=CC()),_t.init(t,e)}),fD=se("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=EC),_t.init(t,e)}),gD=se("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=SC),_t.init(t,e)}),pD=se("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=wC),_t.init(t,e)}),mD=se("$ZodULID",(t,e)=>{e.pattern??(e.pattern=kC),_t.init(t,e)}),bD=se("$ZodXID",(t,e)=>{e.pattern??(e.pattern=TC),_t.init(t,e)}),yD=se("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=AC),_t.init(t,e)}),vD=se("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=HC(e)),_t.init(t,e)}),_D=se("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=$C),_t.init(t,e)}),xD=se("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=IC(e)),_t.init(t,e)}),SD=se("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=jC),_t.init(t,e)}),wD=se("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=DC),_t.init(t,e),t._zod.onattach.push(n=>{const i=n._zod.bag;i.format="ipv4"})}),kD=se("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=zC),_t.init(t,e),t._zod.onattach.push(n=>{const i=n._zod.bag;i.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),TD=se("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=NC),_t.init(t,e)}),AD=se("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=LC),_t.init(t,e),t._zod.check=n=>{const[i,a]=n.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function f1(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const ED=se("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=UC),_t.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{f1(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function jD(t){if(!o1.test(t))return!1;const e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return f1(n)}const MD=se("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=o1),_t.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{jD(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),OD=se("$ZodE164",(t,e)=>{e.pattern??(e.pattern=BC),_t.init(t,e)});function RD(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const a=JSON.parse(atob(i));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const CD=se("$ZodJWT",(t,e)=>{_t.init(t,e),t._zod.check=n=>{RD(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),g1=se("$ZodNumber",(t,e)=>{Bt.init(t,e),t._zod.pattern=t._zod.bag.pattern??VC,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),DD=se("$ZodNumber",(t,e)=>{GC.init(t,e),g1.init(t,e)}),zD=se("$ZodUnknown",(t,e)=>{Bt.init(t,e),t._zod.parse=n=>n}),ND=se("$ZodNever",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function qv(t,e,n){t.issues.length&&e.issues.push(...t1(n,t.issues)),e.value[n]=t.value}const LD=se("$ZodArray",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,i)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let l=0;l<a.length;l++){const u=a[l],h=e.element._zod.run({value:u,issues:[]},i);h instanceof Promise?o.push(h.then(f=>qv(f,n,l))):qv(h,n,l)}return o.length?Promise.all(o).then(()=>n):n}});function vu(t,e,n,i){t.issues.length&&e.issues.push(...t1(n,t.issues)),t.value===void 0?n in i&&(e.value[n]=void 0):e.value[n]=t.value}function p1(t){const e=Object.keys(t.shape);for(const i of e)if(!t.shape[i]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const n=oC(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function m1(t,e,n,i,a,o){const l=[],u=a.keySet,h=a.catchall._zod,f=h.def.type;for(const p of Object.keys(e)){if(u.has(p))continue;if(f==="never"){l.push(p);continue}const b=h.run({value:e[p],issues:[]},i);b instanceof Promise?t.push(b.then(v=>vu(v,n,p,e))):vu(b,n,p,e)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const UD=se("$ZodObject",(t,e)=>{Bt.init(t,e);const n=Dg(()=>p1(e));ft(t._zod,"propValues",()=>{const l=e.shape,u={};for(const h in l){const f=l[h]._zod;if(f.values){u[h]??(u[h]=new Set);for(const p of f.values)u[h].add(p)}}return u});const i=yu,a=e.catchall;let o;t._zod.parse=(l,u)=>{o??(o=n.value);const h=l.value;if(!i(h))return l.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),l;l.value={};const f=[],p=o.shape;for(const b of o.keys){const _=p[b]._zod.run({value:h[b],issues:[]},u);_ instanceof Promise?f.push(_.then(S=>vu(S,l,b,h))):vu(_,l,b,h)}return a?m1(f,h,l,u,n.value,t):f.length?Promise.all(f).then(()=>l):l}}),PD=se("$ZodObjectJIT",(t,e)=>{UD.init(t,e);const n=t._zod.parse,i=Dg(()=>p1(e)),a=v=>{const _=new rD(["shape","payload","ctx"]),S=i.value,k=M=>{const z=Hv(M);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};_.write("const input = payload.value;");const w=Object.create(null);let E=0;for(const M of S.keys)w[M]=`key_${E++}`;_.write("const newResult = {}");for(const M of S.keys){const z=w[M],C=Hv(M);_.write(`const ${z} = ${k(M)};`),_.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        if (${z}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${z}.value;
        }
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const O=_.compile();return(M,z)=>O(v,M,z)};let o;const l=yu,u=!Qx.jitless,f=u&&aC.value,p=e.catchall;let b;t._zod.parse=(v,_)=>{b??(b=i.value);const S=v.value;return l(S)?u&&f&&(_==null?void 0:_.async)===!1&&_.jitless!==!0?(o||(o=a(e.shape)),v=o(v,_),p?m1([],S,v,_,b,t):v):n(v,_):(v.issues.push({expected:"object",code:"invalid_type",input:S,inst:t}),v)}});function Vv(t,e,n,i){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!ur(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(l=>la(l,i,oa())))}),e)}const BD=se("$ZodUnion",(t,e)=>{Bt.init(t,e),ft(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ft(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ft(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),ft(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>Ng(o.source)).join("|")})$`)}});const n=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return i(a,o);let l=!1;const u=[];for(const h of e.options){const f=h._zod.run({value:a.value,issues:[]},o);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(h=>Vv(h,a,t,o)):Vv(u,a,t,o)}}),$D=se("$ZodIntersection",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,i)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},i),l=e.right._zod.run({value:a,issues:[]},i);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([h,f])=>Zv(n,h,f)):Zv(n,o,l)}});function tg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(al(t)&&al(e)){const n=Object.keys(e),i=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of i){const l=tg(t[o],e[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};a[o]=l.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],l=tg(a,o);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Zv(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),ur(t))return t;const i=tg(e.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}const ID=se("$ZodEnum",(t,e)=>{Bt.init(t,e);const n=nC(e.entries),i=new Set(n);t._zod.values=i,t._zod.pattern=new RegExp(`^(${n.filter(a=>rC.has(typeof a)).map(a=>typeof a=="string"?Ru(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const l=a.value;return i.has(l)||a.issues.push({code:"invalid_value",values:n,input:l,inst:t}),a}}),HD=se("$ZodTransform",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new Kx(t.constructor.name);const a=e.transform(n.value,n);if(i.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(n.value=l,n));if(a instanceof Promise)throw new fr;return n.value=a,n}});function Yv(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const FD=se("$ZodOptional",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ft(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ft(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ng(n.source)})?$`):void 0}),t._zod.parse=(n,i)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(o=>Yv(o,n.value)):Yv(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,i)}}),qD=se("$ZodNullable",(t,e)=>{Bt.init(t,e),ft(t._zod,"optin",()=>e.innerType._zod.optin),ft(t._zod,"optout",()=>e.innerType._zod.optout),ft(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ng(n.source)}|null)$`):void 0}),ft(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,i)=>n.value===null?n:e.innerType._zod.run(n,i)}),VD=se("$ZodDefault",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(o=>Wv(o,e)):Wv(a,e)}});function Wv(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const ZD=se("$ZodPrefault",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,i))}),YD=se("$ZodNonOptional",(t,e)=>{Bt.init(t,e),ft(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),t._zod.parse=(n,i)=>{const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(o=>Gv(o,t)):Gv(a,t)}});function Gv(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const WD=se("$ZodCatch",(t,e)=>{Bt.init(t,e),ft(t._zod,"optin",()=>e.innerType._zod.optin),ft(t._zod,"optout",()=>e.innerType._zod.optout),ft(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(l=>la(l,i,oa()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>la(o,i,oa()))},input:n.value}),n.issues=[]),n)}}),GD=se("$ZodPipe",(t,e)=>{Bt.init(t,e),ft(t._zod,"values",()=>e.in._zod.values),ft(t._zod,"optin",()=>e.in._zod.optin),ft(t._zod,"optout",()=>e.out._zod.optout),ft(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,i)=>{if(i.direction==="backward"){const o=e.out._zod.run(n,i);return o instanceof Promise?o.then(l=>Kc(l,e.in,i)):Kc(o,e.in,i)}const a=e.in._zod.run(n,i);return a instanceof Promise?a.then(o=>Kc(o,e.out,i)):Kc(a,e.out,i)}});function Kc(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const XD=se("$ZodReadonly",(t,e)=>{Bt.init(t,e),ft(t._zod,"propValues",()=>e.innerType._zod.propValues),ft(t._zod,"values",()=>e.innerType._zod.values),ft(t._zod,"optin",()=>e.innerType._zod.optin),ft(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(Xv):Xv(a)}});function Xv(t){return t.value=Object.freeze(t.value),t}const KD=se("$ZodCustom",(t,e)=>{Tn.init(t,e),Bt.init(t,e),t._zod.parse=(n,i)=>n,t._zod.check=n=>{const i=n.value,a=e.fn(i);if(a instanceof Promise)return a.then(o=>Kv(o,n,i,t));Kv(a,n,i,t)}});function Kv(t,e,n,i){if(!t){const a={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(a.params=i._zod.def.params),e.issues.push(rl(a))}}class QD{constructor(){this._map=new Map,this._idmap=new Map}add(e,...n){const i=n[0];if(this._map.set(e,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const a={...i,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function JD(){return new QD}const Qc=JD();function ez(t,e){return new t({type:"string",...be(e)})}function tz(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...be(e)})}function Qv(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...be(e)})}function nz(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...be(e)})}function iz(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...be(e)})}function sz(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...be(e)})}function az(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...be(e)})}function rz(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...be(e)})}function oz(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...be(e)})}function lz(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...be(e)})}function cz(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...be(e)})}function uz(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...be(e)})}function dz(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...be(e)})}function hz(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...be(e)})}function fz(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...be(e)})}function gz(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...be(e)})}function pz(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...be(e)})}function mz(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...be(e)})}function bz(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...be(e)})}function yz(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...be(e)})}function vz(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...be(e)})}function _z(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...be(e)})}function xz(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...be(e)})}function Sz(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...be(e)})}function wz(t,e){return new t({type:"string",format:"date",check:"string_format",...be(e)})}function kz(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...be(e)})}function Tz(t,e){return new t({type:"string",format:"duration",check:"string_format",...be(e)})}function Az(t,e){return new t({type:"number",checks:[],...be(e)})}function Ez(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...be(e)})}function jz(t){return new t({type:"unknown"})}function Mz(t,e){return new t({type:"never",...be(e)})}function Jv(t,e){return new d1({check:"less_than",...be(e),value:t,inclusive:!1})}function _f(t,e){return new d1({check:"less_than",...be(e),value:t,inclusive:!0})}function e_(t,e){return new h1({check:"greater_than",...be(e),value:t,inclusive:!1})}function xf(t,e){return new h1({check:"greater_than",...be(e),value:t,inclusive:!0})}function t_(t,e){return new WC({check:"multiple_of",...be(e),value:t})}function b1(t,e){return new XC({check:"max_length",...be(e),maximum:t})}function _u(t,e){return new KC({check:"min_length",...be(e),minimum:t})}function y1(t,e){return new QC({check:"length_equals",...be(e),length:t})}function Oz(t,e){return new JC({check:"string_format",format:"regex",...be(e),pattern:t})}function Rz(t){return new eD({check:"string_format",format:"lowercase",...be(t)})}function Cz(t){return new tD({check:"string_format",format:"uppercase",...be(t)})}function Dz(t,e){return new nD({check:"string_format",format:"includes",...be(e),includes:t})}function zz(t,e){return new iD({check:"string_format",format:"starts_with",...be(e),prefix:t})}function Nz(t,e){return new sD({check:"string_format",format:"ends_with",...be(e),suffix:t})}function fl(t){return new aD({check:"overwrite",tx:t})}function Lz(t){return fl(e=>e.normalize(t))}function Uz(){return fl(t=>t.trim())}function Pz(){return fl(t=>t.toLowerCase())}function Bz(){return fl(t=>t.toUpperCase())}function $z(t,e,n){return new t({type:"array",element:e,...be(n)})}function Iz(t,e,n){return new t({type:"custom",check:"custom",fn:e,...be(n)})}function Hz(t){const e=Fz(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(rl(i,n.value,e._zod.def));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(rl(a))}},t(n.value,n)));return e}function Fz(t,e){const n=new Tn({check:"custom",...be(e)});return n._zod.check=t,n}const qz=se("ZodISODateTime",(t,e)=>{vD.init(t,e),St.init(t,e)});function Vz(t){return Sz(qz,t)}const Zz=se("ZodISODate",(t,e)=>{_D.init(t,e),St.init(t,e)});function Yz(t){return wz(Zz,t)}const Wz=se("ZodISOTime",(t,e)=>{xD.init(t,e),St.init(t,e)});function Gz(t){return kz(Wz,t)}const Xz=se("ZodISODuration",(t,e)=>{SD.init(t,e),St.init(t,e)});function Kz(t){return Tz(Xz,t)}const Qz=(t,e)=>{i1.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>bC(t,n)},flatten:{value:n=>mC(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,eg,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,eg,2)}},isEmpty:{get(){return t.issues.length===0}}})},Du=se("ZodError",Qz,{Parent:Error}),Jz=yC(Du),e5=vC(Du),t5=a1(Du),n5=r1(Du),Ht=se("ZodType",(t,e)=>(Bt.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),t.clone=(n,i)=>Ms(t,n,i),t.brand=()=>t,t.register=(n,i)=>(n.add(t,i),t),t.parse=(n,i)=>Jz(t,n,i,{callee:t.parse}),t.safeParse=(n,i)=>t5(t,n,i),t.parseAsync=async(n,i)=>e5(t,n,i,{callee:t.parseAsync}),t.safeParseAsync=async(n,i)=>n5(t,n,i),t.spa=t.safeParseAsync,t.refine=(n,i)=>t.check(Z5(n,i)),t.superRefine=n=>t.check(Y5(n)),t.overwrite=n=>t.check(fl(n)),t.optional=()=>a_(t),t.nullable=()=>r_(t),t.nullish=()=>a_(r_(t)),t.nonoptional=n=>B5(t,n),t.array=()=>x1(t),t.or=n=>M5([t,n]),t.and=n=>R5(t,n),t.transform=n=>o_(t,D5(n)),t.default=n=>L5(t,n),t.prefault=n=>P5(t,n),t.catch=n=>I5(t,n),t.pipe=n=>o_(t,n),t.readonly=()=>q5(t),t.describe=n=>{const i=t.clone();return Qc.add(i,{description:n}),i},Object.defineProperty(t,"description",{get(){var n;return(n=Qc.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Qc.get(t);const i=t.clone();return Qc.add(i,n[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),v1=se("_ZodString",(t,e)=>{Ug.init(t,e),Ht.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...i)=>t.check(Oz(...i)),t.includes=(...i)=>t.check(Dz(...i)),t.startsWith=(...i)=>t.check(zz(...i)),t.endsWith=(...i)=>t.check(Nz(...i)),t.min=(...i)=>t.check(_u(...i)),t.max=(...i)=>t.check(b1(...i)),t.length=(...i)=>t.check(y1(...i)),t.nonempty=(...i)=>t.check(_u(1,...i)),t.lowercase=i=>t.check(Rz(i)),t.uppercase=i=>t.check(Cz(i)),t.trim=()=>t.check(Uz()),t.normalize=(...i)=>t.check(Lz(...i)),t.toLowerCase=()=>t.check(Pz()),t.toUpperCase=()=>t.check(Bz())}),i5=se("ZodString",(t,e)=>{Ug.init(t,e),v1.init(t,e),t.email=n=>t.check(tz(s5,n)),t.url=n=>t.check(rz(a5,n)),t.jwt=n=>t.check(xz(_5,n)),t.emoji=n=>t.check(oz(r5,n)),t.guid=n=>t.check(Qv(n_,n)),t.uuid=n=>t.check(nz(Jc,n)),t.uuidv4=n=>t.check(iz(Jc,n)),t.uuidv6=n=>t.check(sz(Jc,n)),t.uuidv7=n=>t.check(az(Jc,n)),t.nanoid=n=>t.check(lz(o5,n)),t.guid=n=>t.check(Qv(n_,n)),t.cuid=n=>t.check(cz(l5,n)),t.cuid2=n=>t.check(uz(c5,n)),t.ulid=n=>t.check(dz(u5,n)),t.base64=n=>t.check(yz(b5,n)),t.base64url=n=>t.check(vz(y5,n)),t.xid=n=>t.check(hz(d5,n)),t.ksuid=n=>t.check(fz(h5,n)),t.ipv4=n=>t.check(gz(f5,n)),t.ipv6=n=>t.check(pz(g5,n)),t.cidrv4=n=>t.check(mz(p5,n)),t.cidrv6=n=>t.check(bz(m5,n)),t.e164=n=>t.check(_z(v5,n)),t.datetime=n=>t.check(Vz(n)),t.date=n=>t.check(Yz(n)),t.time=n=>t.check(Gz(n)),t.duration=n=>t.check(Kz(n))});function pn(t){return ez(i5,t)}const St=se("ZodStringFormat",(t,e)=>{_t.init(t,e),v1.init(t,e)}),s5=se("ZodEmail",(t,e)=>{uD.init(t,e),St.init(t,e)}),n_=se("ZodGUID",(t,e)=>{lD.init(t,e),St.init(t,e)}),Jc=se("ZodUUID",(t,e)=>{cD.init(t,e),St.init(t,e)}),a5=se("ZodURL",(t,e)=>{dD.init(t,e),St.init(t,e)}),r5=se("ZodEmoji",(t,e)=>{hD.init(t,e),St.init(t,e)}),o5=se("ZodNanoID",(t,e)=>{fD.init(t,e),St.init(t,e)}),l5=se("ZodCUID",(t,e)=>{gD.init(t,e),St.init(t,e)}),c5=se("ZodCUID2",(t,e)=>{pD.init(t,e),St.init(t,e)}),u5=se("ZodULID",(t,e)=>{mD.init(t,e),St.init(t,e)}),d5=se("ZodXID",(t,e)=>{bD.init(t,e),St.init(t,e)}),h5=se("ZodKSUID",(t,e)=>{yD.init(t,e),St.init(t,e)}),f5=se("ZodIPv4",(t,e)=>{wD.init(t,e),St.init(t,e)}),g5=se("ZodIPv6",(t,e)=>{kD.init(t,e),St.init(t,e)}),p5=se("ZodCIDRv4",(t,e)=>{TD.init(t,e),St.init(t,e)}),m5=se("ZodCIDRv6",(t,e)=>{AD.init(t,e),St.init(t,e)}),b5=se("ZodBase64",(t,e)=>{ED.init(t,e),St.init(t,e)}),y5=se("ZodBase64URL",(t,e)=>{MD.init(t,e),St.init(t,e)}),v5=se("ZodE164",(t,e)=>{OD.init(t,e),St.init(t,e)}),_5=se("ZodJWT",(t,e)=>{CD.init(t,e),St.init(t,e)}),_1=se("ZodNumber",(t,e)=>{g1.init(t,e),Ht.init(t,e),t.gt=(i,a)=>t.check(e_(i,a)),t.gte=(i,a)=>t.check(xf(i,a)),t.min=(i,a)=>t.check(xf(i,a)),t.lt=(i,a)=>t.check(Jv(i,a)),t.lte=(i,a)=>t.check(_f(i,a)),t.max=(i,a)=>t.check(_f(i,a)),t.int=i=>t.check(i_(i)),t.safe=i=>t.check(i_(i)),t.positive=i=>t.check(e_(0,i)),t.nonnegative=i=>t.check(xf(0,i)),t.negative=i=>t.check(Jv(0,i)),t.nonpositive=i=>t.check(_f(0,i)),t.multipleOf=(i,a)=>t.check(t_(i,a)),t.step=(i,a)=>t.check(t_(i,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function x5(t){return Az(_1,t)}const S5=se("ZodNumberFormat",(t,e)=>{DD.init(t,e),_1.init(t,e)});function i_(t){return Ez(S5,t)}const w5=se("ZodUnknown",(t,e)=>{zD.init(t,e),Ht.init(t,e)});function s_(){return jz(w5)}const k5=se("ZodNever",(t,e)=>{ND.init(t,e),Ht.init(t,e)});function T5(t){return Mz(k5,t)}const A5=se("ZodArray",(t,e)=>{LD.init(t,e),Ht.init(t,e),t.element=e.element,t.min=(n,i)=>t.check(_u(n,i)),t.nonempty=n=>t.check(_u(1,n)),t.max=(n,i)=>t.check(b1(n,i)),t.length=(n,i)=>t.check(y1(n,i)),t.unwrap=()=>t.element});function x1(t,e){return $z(A5,t,e)}const E5=se("ZodObject",(t,e)=>{PD.init(t,e),Ht.init(t,e),ft(t,"shape",()=>e.shape),t.keyof=()=>S1(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:s_()}),t.loose=()=>t.clone({...t._zod.def,catchall:s_()}),t.strict=()=>t.clone({...t._zod.def,catchall:T5()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>dC(t,n),t.safeExtend=n=>hC(t,n),t.merge=n=>fC(t,n),t.pick=n=>cC(t,n),t.omit=n=>uC(t,n),t.partial=(...n)=>gC(w1,t,n[0]),t.required=(...n)=>pC(k1,t,n[0])});function kr(t,e){const n={type:"object",get shape(){return js(this,"shape",t?sC(t):{}),this.shape},...be(e)};return new E5(n)}const j5=se("ZodUnion",(t,e)=>{BD.init(t,e),Ht.init(t,e),t.options=e.options});function M5(t,e){return new j5({type:"union",options:t,...be(e)})}const O5=se("ZodIntersection",(t,e)=>{$D.init(t,e),Ht.init(t,e)});function R5(t,e){return new O5({type:"intersection",left:t,right:e})}const ng=se("ZodEnum",(t,e)=>{ID.init(t,e),Ht.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(i,a)=>{const o={};for(const l of i)if(n.has(l))o[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new ng({...e,checks:[],...be(a),entries:o})},t.exclude=(i,a)=>{const o={...e.entries};for(const l of i)if(n.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new ng({...e,checks:[],...be(a),entries:o})}});function S1(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new ng({type:"enum",entries:n,...be(e)})}const C5=se("ZodTransform",(t,e)=>{HD.init(t,e),Ht.init(t,e),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new Kx(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(rl(o,n.value,e));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(rl(l))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function D5(t){return new C5({type:"transform",transform:t})}const w1=se("ZodOptional",(t,e)=>{FD.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function a_(t){return new w1({type:"optional",innerType:t})}const z5=se("ZodNullable",(t,e)=>{qD.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function r_(t){return new z5({type:"nullable",innerType:t})}const N5=se("ZodDefault",(t,e)=>{VD.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function L5(t,e){return new N5({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e1(e)}})}const U5=se("ZodPrefault",(t,e)=>{ZD.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function P5(t,e){return new U5({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e1(e)}})}const k1=se("ZodNonOptional",(t,e)=>{YD.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function B5(t,e){return new k1({type:"nonoptional",innerType:t,...be(e)})}const $5=se("ZodCatch",(t,e)=>{WD.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function I5(t,e){return new $5({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const H5=se("ZodPipe",(t,e)=>{GD.init(t,e),Ht.init(t,e),t.in=e.in,t.out=e.out});function o_(t,e){return new H5({type:"pipe",in:t,out:e})}const F5=se("ZodReadonly",(t,e)=>{XD.init(t,e),Ht.init(t,e),t.unwrap=()=>t._zod.def.innerType});function q5(t){return new F5({type:"readonly",innerType:t})}const V5=se("ZodCustom",(t,e)=>{KD.init(t,e),Ht.init(t,e)});function Z5(t,e={}){return Iz(V5,t,e)}function Y5(t){return Hz(t)}const Pg=t=>(t||"").replace(/\D+/g,""),W5=t=>{let e=0,n=!1;for(let i=t.length-1;i>=0;i--){let a=t.charCodeAt(i)-48;if(a<0||a>9)return!1;n&&(a*=2,a>9&&(a-=9)),e+=a,n=!n}return e%10===0},G5=t=>Pg(t).replace(/(\d{3})(\d{3})(\d{3})/,"$1 $2 $3"),T1=kr({line1:pn().min(3,"Adresse trop courte"),postalCode:pn().regex(/^\d{5}$/,"Code postal FR  5 chiffres"),city:pn().min(2,"Ville requise"),country:pn().default("France")}),X5=kr({fullName:pn().min(3,"Nom du reprsentant requis"),role:pn().min(2,"Fonction du reprsentant requise")}),A1=kr({legalName:pn().min(2,"Raison sociale requise"),legalForm:S1(["SARL","SAS","SASU","SA","EURL","SCI","Autre"]),siren:pn().transform(Pg).refine(t=>/^\d{9}$/.test(t),"SIREN = 9 chiffres"),rcsCity:pn().min(2,"Ville du RCS requise"),headOffice:T1,representatives:x1(X5).min(1,"Ajoute au moins 1 reprsentant (fonction + nom)")}),K5=kr({name:pn().min(2,"Nom du client requis"),email:pn().email("Email client invalide"),address:T1.optional()}),Q5=kr({amount:x5().nonnegative().optional(),startDate:pn().optional(),endDate:pn().optional(),scope:pn().optional()});kr({company:A1,client:K5,templateKey:pn().default("standard_v1"),variables:Q5.optional()});const J5=(t={})=>{var n,i,a;return[(n=t.line1)==null?void 0:n.trim(),t.postalCode&&t.city?`${String(t.postalCode).trim()} ${t.city.trim()}`:(i=t.city)==null?void 0:i.trim(),(a=t.country)==null?void 0:a.trim()].filter(Boolean).join(", ")},eN=(t=[])=>{const e=t.map(n=>({fullName:(n.fullName||"").trim(),role:(n.role||"").trim()})).filter(n=>n.fullName&&n.role);return e.length?e.length===1?`son ${e[0].role} ${e[0].fullName}`:e.length===2?`son ${e[0].role} ${e[0].fullName} et de son ${e[1].role} ${e[1].fullName}`:e.map((n,i)=>`${i===0?"son":"de son"} ${n.role} ${n.fullName}`).join(", ").replace(/, ([^,]*)$/," et $1"):"ses reprsentants lgaux"};function tN({company:t}){const{legalName:e,legalForm:n,siren:i,rcsCity:a,headOffice:o,representatives:l=[]}=t,u=eN(l);return`La Socit ${e} (${n}), immatricule sous le SIREN n ${G5(i)} au RCS de ${a}, dont le sige social est situ ${J5(o)}, prise en la personne de ${u}, domicilis en cette qualit audit sige, et des ventuelles socits lies  la socit sus-mentionne.`}const nN=["SARL","SAS","SASU","SA","EURL","SCI","EI"],iN=["Ambulance","Micro crche","Dentiste","Pharmacie","Salle de sport","Esthtique","Tech","Htellerie","Grande Distribution","Tertiaire","BTP","Boulangerie","Immobilier","Restauration","Gnrales"],l_=t=>t==="EI"?"Autre":t;function sN(){const[t,e]=R.useState({legalName:"",legalForm:"SARL",siren:"",rcsCity:"",email:"",phone:"",headOffice:{line1:"",postalCode:"",city:"",country:"France"},representatives:[{fullName:"",role:"Prsident"}],businessType:"Gnrales"}),[n,i]=R.useState({}),[a,o]=R.useState({}),[l,u]=R.useState(!1),[h,f]=R.useState(""),[p,b]=R.useState(0),[v,_]=R.useState(()=>document.documentElement.classList.contains("dark-mode")||document.body.classList.contains("dark-mode"));R.useEffect(()=>{const $=document.documentElement.classList.contains("dark-mode")||document.body.classList.contains("dark-mode");_($);const N=new MutationObserver(()=>{const A=document.documentElement.classList.contains("dark-mode")||document.body.classList.contains("dark-mode");_(A)});return N.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),N.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>N.disconnect()},[]);const S=($="")=>$.normalize("NFD").replace(/[\u0300-\u036f]/g,""),k=($="")=>S($).replace(/[^a-zA-Z0-9 _.\-]+/g,"").replace(/\s+/g," ").trim(),w=$=>{var Z,W,I;const U=`${((I=(W=(Z=$==null?void 0:$.representatives)==null?void 0:Z[0])==null?void 0:W.fullName)==null?void 0:I.trim())||($==null?void 0:$.legalName)||"Document"} - Clause de confidentialit`;return`${k(U)||"Clause de confidentialite"}.pdf`},E=$=>o(N=>N[$]?N:{...N,[$]:!0}),O=($,N)=>{e(A=>{const U=structuredClone(A),Z=$.split(".");let W=U;for(let I=0;I<Z.length-1;I++)W=W[Z[I]];return W[Z.at(-1)]=N,$==="legalForm"&&N==="EI"&&(U.rcsCity=""),U})},M=($,N,A)=>{e(U=>{const Z=[...U.representatives];return Z[$]={...Z[$],[N]:A},{...U,representatives:Z}})},z=()=>e($=>({...$,representatives:[...$.representatives,{fullName:"",role:""}]})),C=$=>e(N=>({...N,representatives:N.representatives.filter((A,U)=>U!==$)})),G=$=>{const N={},A=($.email||"").trim();A?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A)||(N.email="Email invalide"):N.email="Email requis";const U=($.phone||"").trim();U&&!/^[\d+\s().-]{6,}$/.test(U)&&(N.phone="Numro invalide");const{businessType:Z,...W}=$,I={...W,legalForm:l_($.legalForm),rcsCity:$.legalForm==="EI"?"":$.rcsCity},ae=A1.safeParse(I);if(!ae.success)for(const qe of ae.error.issues){const et=qe.path.join(".");N[et]||(N[et]=qe.message)}$.legalForm==="EI"&&delete N.rcsCity;const oe=Object.keys(N).length===0,De={...I,legalForm:$.legalForm};let fe="";return oe&&(fe=tN({company:De}),$.legalForm==="EI"&&(fe=fe.replace(/\s*au RCS de\s*,\s*/i," "))),{ok:oe,flat:N,previewText:fe}},Y=()=>{const{ok:$,flat:N,previewText:A}=G(t);return i(N),f(A),$};R.useEffect(()=>{Y()},[t]);const q=R.useMemo(()=>[{key:"identite",title:"Identit",fields:["legalName","legalForm","siren","rcsCity"]},{key:"contacts",title:"Contacts",fields:["email","phone"]},{key:"siege",title:"Sige social",fields:["headOffice.line1","headOffice.postalCode","headOffice.city","headOffice.country"]},{key:"reps",title:"Reprsentants",fields:[]},{key:"apercu",title:"Aperu & PDF",fields:[]}],[]),te=q[p].fields,Q=$=>n[$]&&(a[$]||l),le=Pg(t.siren),re=(a.siren||l)&&le.length===9&&!W5(le)&&!n.siren,Te=()=>{const{flat:$}=G(t);return te.length?!(t.legalForm==="EI"?te.filter(A=>A!=="rcsCity"):te).some(A=>$[A]):!0},_e=()=>{te.forEach($=>E($)),Te()&&b($=>Math.min($+1,q.length-1))},de=()=>b($=>Math.max($-1,0)),B=$=>b($),ie=async()=>{if(!Y()){u(!0),alert("Corrige les erreurs avant de gnrer le PDF.");return}try{const{businessType:N,...A}=t,U={...A,legalForm:l_(t.legalForm),rcsCity:t.legalForm==="EI"?"":t.rcsCity},Z=await fetch("/api/contract-preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:U,meta:{typeEntreprise:t.businessType||"Gnral"}})});if(!Z.ok){alert("Erreur gnration PDF: "+await Z.text());return}const W=await Z.blob(),I=URL.createObjectURL(W),ae=document.createElement("a");ae.href=I,ae.download=w(U),document.body.appendChild(ae),ae.click(),ae.remove(),URL.revokeObjectURL(I)}catch(N){console.error(N),alert("Erreur rseau lors de la gnration du PDF.")}};return y.jsx("div",{className:`wizard-outer ${v?"dark-mode":""}`,children:y.jsxs("div",{className:"wizard",children:[y.jsxs("aside",{className:"wizard-side",children:[y.jsx("div",{className:"wizard-brand",children:y.jsx("img",{src:v?ol:Su,alt:"OWNER",style:{width:48,height:48,borderRadius:12}})}),y.jsx("div",{className:"wizard-steps",children:q.map(($,N)=>{const A=N<p?"done":N===p?"active":"todo";return y.jsxs("button",{type:"button",className:`step ${A}`,onClick:()=>B(N),children:[y.jsx("span",{className:"bullet",children:N+1}),y.jsx("span",{className:"label",children:$.title})]},$.key)})})]}),y.jsxs("section",{className:"wizard-content",children:[y.jsx("h1",{className:"contract-title",children:"Clause de confidentialit"}),y.jsx("p",{className:"contract-subtitle",children:"Renseigne les infos de lentreprise."}),p===0&&y.jsxs("form",{children:[y.jsxs("label",{className:"field",children:["Raison sociale *",y.jsx("input",{value:t.legalName,onChange:$=>O("legalName",$.target.value),onBlur:()=>E("legalName"),className:"input",placeholder:"OWNER"}),Q("legalName")&&y.jsx("span",{className:"error",children:n.legalName})]}),y.jsxs("div",{className:"grid2",children:[y.jsxs("label",{className:"field",children:["Forme juridique *",y.jsx("select",{value:t.legalForm,onChange:$=>O("legalForm",$.target.value),onBlur:()=>E("legalForm"),className:"input",children:nN.map($=>y.jsx("option",{value:$,children:$},$))}),Q("legalForm")&&y.jsx("span",{className:"error",children:n.legalForm})]}),y.jsxs("label",{className:"field",children:["SIREN (9 chiffres) *",y.jsx("input",{value:t.siren,onChange:$=>O("siren",$.target.value),onBlur:()=>E("siren"),className:"input",placeholder:"981 817 166"}),Q("siren")&&y.jsx("span",{className:"error",children:n.siren}),re&&y.jsx("span",{className:"warn",children:" SIREN non valide."})]})]}),t.legalForm!=="EI"&&y.jsxs("label",{className:"field",children:["Ville du RCS *",y.jsx("input",{value:t.rcsCity,onChange:$=>O("rcsCity",$.target.value),onBlur:()=>E("rcsCity"),className:"input",placeholder:"Lille"}),Q("rcsCity")&&y.jsx("span",{className:"error",children:n.rcsCity})]})]},p),p===1&&y.jsxs("form",{children:[y.jsxs("label",{className:"field",children:["Email (contact) *",y.jsx("input",{type:"email",value:t.email,onChange:$=>O("email",$.target.value),onBlur:()=>E("email"),className:"input",placeholder:"contact@domaine.com"}),Q("email")&&y.jsx("span",{className:"error",children:n.email})]}),y.jsxs("label",{className:"field",children:["Numro (tlphone)",y.jsx("input",{value:t.phone,onChange:$=>O("phone",$.target.value),onBlur:()=>E("phone"),className:"input",placeholder:"+33 6 12 34 56 78"}),Q("phone")&&y.jsx("span",{className:"error",children:n.phone})]})]},p),p===2&&y.jsx("form",{children:y.jsxs("fieldset",{className:"card",children:[y.jsx("legend",{children:"Sige social *"}),y.jsxs("label",{className:"field",children:["Adresse (ligne 1)",y.jsx("input",{value:t.headOffice.line1,onChange:$=>O("headOffice.line1",$.target.value),onBlur:()=>E("headOffice.line1"),className:"input",placeholder:"18 rue du commerce"}),Q("headOffice.line1")&&y.jsx("span",{className:"error",children:n["headOffice.line1"]})]}),y.jsxs("div",{className:"grid2",children:[y.jsxs("label",{className:"field",children:["Code postal",y.jsx("input",{value:t.headOffice.postalCode,onChange:$=>O("headOffice.postalCode",$.target.value),onBlur:()=>E("headOffice.postalCode"),className:"input",placeholder:"59000"}),Q("headOffice.postalCode")&&y.jsx("span",{className:"error",children:n["headOffice.postalCode"]})]}),y.jsxs("label",{className:"field",children:["Ville",y.jsx("input",{value:t.headOffice.city,onChange:$=>O("headOffice.city",$.target.value),onBlur:()=>E("headOffice.city"),className:"input",placeholder:"Lille"}),Q("headOffice.city")&&y.jsx("span",{className:"error",children:n["headOffice.city"]})]})]}),y.jsxs("label",{className:"field",children:["Pays",y.jsx("input",{value:t.headOffice.country,onChange:$=>O("headOffice.country",$.target.value),onBlur:()=>E("headOffice.country"),className:"input",placeholder:"France"})]})]})},p),p===3&&y.jsxs("form",{children:[y.jsxs("fieldset",{className:"card",children:[y.jsx("legend",{children:"Reprsentant(s) lgal(aux)"}),t.representatives.map(($,N)=>{const A=`representatives.${N}.fullName`,U=`representatives.${N}.role`;return y.jsxs("div",{className:"reps-row",children:[y.jsxs("label",{className:"field",children:["Nom complet (Obligatoire)",y.jsx("input",{value:$.fullName,onChange:Z=>M(N,"fullName",Z.target.value),onBlur:()=>E(A),className:"input",placeholder:"Nom et prnom"}),n[A]&&(a[A]||l)&&y.jsx("span",{className:"error",children:n[A]})]}),y.jsxs("label",{className:"field",children:["Fonction (Obligatoire)",y.jsx("input",{value:$.role||"",onChange:Z=>M(N,"role",Z.target.value),onBlur:()=>E(U),className:"input",placeholder:"Grant"}),n[U]&&(a[U]||l)&&y.jsx("span",{className:"error",children:n[U]})]}),y.jsx("button",{type:"button",onClick:()=>C(N),className:"btn-ghost",disabled:t.representatives.length===1,children:"Suppr"})]},N)}),y.jsx("button",{type:"button",onClick:z,className:"btn-ghost",children:"+ Ajouter un reprsentant"})]}),y.jsxs("label",{className:"field",style:{marginTop:12},children:["Type D'entreprise",y.jsx("select",{value:t.businessType,onChange:$=>O("businessType",$.target.value),className:"input",children:iN.map($=>y.jsx("option",{value:$,children:$},$))})]})]},p),p===4&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"preview card",children:[y.jsx("div",{className:"preview-title",children:"Aperu"}),y.jsx("div",{className:"preview-body",children:h||"Complte les champs."})]}),y.jsx("div",{className:"actions-bottom",children:y.jsx("button",{type:"button",className:"export-btn",onClick:ie,children:"Gnrer PDF"})})]}),y.jsxs("div",{className:"wizard-nav",children:[y.jsx("button",{type:"button",className:"btn-ghost",onClick:de,disabled:p===0,children:" Prcdent"}),p<q.length-1?y.jsx("button",{type:"button",className:"export-btn",onClick:_e,children:"Suivant "}):y.jsx("span",{})]})]})]})})}Sr.register(Zx);const fn={primary:"#6366f1",secondary:"#fb923c",tertiary:"#10b981",gray:"#94a3b8",purple:"#a78bfa",cyan:"#22d3ee",pink:"#f472b6",yellow:"#fbbf24"};function aN(){var G,Y;const t=Bi(),[e,n]=R.useState(()=>localStorage.getItem("darkMode")==="true");R.useEffect(()=>{localStorage.setItem("darkMode",e),e?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[e]);const[i,a]=R.useState(null),[o,l]=R.useState(!1),[u,h]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const te=we.getToken(),Q=we.getUser();if(!te||!Q){t("/login");return}a({user:{email:Q.email,user_metadata:{name:Q.name}}}),Q.role==="admin"||we.hasAccess("admin_leads")?l(!0):t("/")}catch(te){console.error("Access check error:",te),t("/login")}finally{h(!1)}})()},[t]);const[f,p]=R.useState(null),[b,v]=R.useState([]),[_,S]=R.useState(!0),k=async()=>{var q;S(!0);try{const[te,Q]=await Promise.all([we.get("/api/v1/admin/leads/stats").catch(re=>(console.error("Error fetching stats:",re),null)),we.get("/api/v1/leads?page=1&limit=500").catch(re=>(console.error("Error fetching leads:",re),{leads:[],items:[],data:[]}))]);console.log(" Stats response:",te),console.log(" Stats by_source keys:",te!=null&&te.by_source?Object.keys(te.by_source):"NO by_source"),console.log(" Leads response:",Q),p(te);const le=(Q==null?void 0:Q.leads)||(Q==null?void 0:Q.items)||(Q==null?void 0:Q.data)||(Array.isArray(Q)?Q:[]);v(le),console.log(" Leads set:",le.length,"items")}catch(te){console.error("Fetch error:",te),(q=te.message)!=null&&q.includes("401")&&t("/login")}finally{S(!1)}};R.useEffect(()=>{o&&k()},[o]);const w=R.useMemo(()=>{if(!f)return{total:0,byOrigin:{},entries:[],avgPerDay:"0.0"};const q=f.by_source||{},te=f.total_leads||0,Q=Object.entries(q).sort((B,ie)=>ie[1]-B[1]),le=new Date,re=new Date("2025-12-24"),Te=1e3*60*60*24,_e=Math.max(1,Math.ceil((le-re)/Te)),de=(te/_e).toFixed(1);return{total:te,byOrigin:q,entries:Q,avgPerDay:de}},[f]),E=R.useMemo(()=>{if(!f||!f.recent_activity||f.recent_activity.length===0)return{total:0,byOrigin:{},top:{origin:"Aucun",count:0}};const q=f.recent_activity[f.recent_activity.length-1],te=(q==null?void 0:q.count)||0,Q=f.by_source||{},re=Object.entries(Q).sort((Te,_e)=>_e[1]-Te[1])[0]||["Aucun",0];return{total:te,byOrigin:Q,top:{origin:re[0],count:re[1]}}},[f]),O=R.useMemo(()=>{const q=w.entries,te=q.map(([re])=>re),Q=q.map(([,re])=>re),le=[fn.primary,fn.secondary,fn.tertiary,fn.purple,fn.cyan,fn.pink,fn.yellow,fn.gray];return{labels:te,datasets:[{label:"Nombre de leads",data:Q,backgroundColor:le.slice(0,q.length),borderWidth:0,borderRadius:6}]}},[w]),M=R.useMemo(()=>({indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:q=>{const te=w.total||1,Q=(q.parsed.x/te*100).toFixed(1);return`${q.parsed.x} leads (${Q}%)`}},backgroundColor:e?"#020617":"#ffffff",titleColor:e?"#e5e7eb":"#000000",bodyColor:e?"#f9fafb":"#000000",borderColor:e?"#1f2937":"#e5e7eb",borderWidth:1,padding:12},datalabels:{anchor:"end",align:"end",color:e?"#e5e7eb":"#374151",font:{size:12,weight:600},formatter:(q,te)=>{const Q=w.total||1,le=(q/Q*100).toFixed(0);return`${q} (${le}%)`}}},scales:{x:{beginAtZero:!0,ticks:{color:e?"#9ba3af":"#4b5563",font:{size:11}},grid:{color:e?"rgba(148, 163, 184, 0.15)":"rgba(209, 213, 219, 0.5)"}},y:{ticks:{color:e?"#9ba3af":"#4b5563",font:{size:12,weight:500}},grid:{display:!1}}}}),[e,w.total]),z=R.useMemo(()=>{const q=new Date,te=new Date(q.getFullYear(),q.getMonth()+1,0).getDate(),Q=Array.from({length:te},(_e,de)=>(de+1).toString()),le=w.entries.slice(0,3).map(([_e])=>_e),re={};b.forEach(_e=>{const de=_e.origin||"Unknown";if(!le.includes(de))return;const B=new Date(_e.created_at).getDate();re[de]||(re[de]=Array(te).fill(0)),re[de][B-1]+=1});const Te=Object.entries(re).map(([_e,de],B)=>{const ie=de.reduce((A,U,Z)=>(A[Z]=(Z===0?0:A[Z-1])+U,A),[]),N=[fn.primary,fn.secondary,fn.tertiary][B];return{label:_e,data:ie,borderColor:N,backgroundColor:"transparent",borderWidth:3,tension:.4,pointRadius:0,fill:!1}});return{labels:Q,datasets:Te}},[b,w]),C=R.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:e?"#e5e7eb":"#374151",font:{size:14,weight:600},padding:20,usePointStyle:!0,pointStyle:"line"}},tooltip:{callbacks:{label:q=>`${q.dataset.label}: ${q.parsed.y} leads cumuls`},backgroundColor:e?"#020617":"#ffffff",titleColor:e?"#e5e7eb":"#000000",bodyColor:e?"#f9fafb":"#000000",borderColor:e?"#1f2937":"#e5e7eb",borderWidth:1,padding:12},datalabels:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{color:e?"#9ba3af":"#4b5563",font:{size:12}},grid:{color:e?"rgba(148, 163, 184, 0.15)":"rgba(209, 213, 219, 0.5)"}},x:{ticks:{color:e?"#9ba3af":"#4b5563",font:{size:11}},grid:{display:!1}}}}),[e]);return u||!o?y.jsx("p",{style:{padding:24},children:"Loading..."}):y.jsxs("div",{style:{padding:0,fontFamily:"sans-serif",background:e?"#1a1a1e":"#f5f5f7",minHeight:"100vh",paddingTop:"16px"},children:[y.jsx(ul,{session:i,darkMode:e,setDarkMode:n}),y.jsxs("div",{className:"board-frame",children:[y.jsxs("div",{style:{position:"absolute",top:"var(--space-xl)",left:"var(--space-2xl)",right:"var(--space-2xl)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-md)"},children:[y.jsx("img",{src:e?ol:Su,alt:"OWNER",style:{width:48,height:48,borderRadius:12}}),y.jsx("h1",{className:"leaderboard-title",style:{margin:0},children:"Monitoring des Leads"})]}),y.jsx("div",{style:{display:"flex",gap:"var(--space-md)",alignItems:"center"},children:y.jsx("button",{className:"export-btn",onClick:()=>k(),title:"Refresh data",children:" Refresh"})})]}),y.jsx("div",{style:{height:"80px"}})," ",_&&y.jsx("p",{children:"Chargement des donnes..."}),!_&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"totals-block",children:y.jsxs("div",{className:"totals-row",children:[y.jsxs("div",{children:[y.jsx("span",{className:"totals-label",children:" Aujourd'hui"}),y.jsx("br",{}),y.jsxs("span",{className:"totals-value cash dot-boost",children:[E.total," leads"]})]}),y.jsxs("div",{children:[y.jsx("span",{className:"totals-label",children:" Top origine"}),y.jsx("br",{}),y.jsxs("span",{className:"totals-value revenu dot-boost",children:[E.top.origin," (",E.top.count,")"]})]})]})}),y.jsxs("div",{style:{width:"100%",maxWidth:"100%",margin:"0 auto",padding:"0 20px"},children:[y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",marginBottom:"30px"},children:[y.jsxs("div",{className:"chart-card kpi-card",style:{padding:"20px",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",textTransform:"uppercase",marginBottom:"8px"},children:" Meilleure source"}),y.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:fn.primary,marginBottom:"4px"},children:((G=w.entries[0])==null?void 0:G[0])||"N/A"}),y.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[((Y=w.entries[0])==null?void 0:Y[1])||0," leads (",w.entries[0]?(w.entries[0][1]/w.total*100).toFixed(0):0,"%)"]})]}),y.jsxs("div",{className:"chart-card kpi-card",style:{padding:"20px",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",textTransform:"uppercase",marginBottom:"8px"},children:" Total ce mois"}),y.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:fn.secondary,marginBottom:"4px"},children:w.total}),y.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[w.entries.length," sources actives"]})]}),y.jsxs("div",{className:"chart-card kpi-card",style:{padding:"20px",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",textTransform:"uppercase",marginBottom:"8px"},children:" Moyenne / jour"}),y.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:fn.tertiary,marginBottom:"4px"},children:w.avgPerDay}),y.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:"leads par jour"})]})]}),y.jsxs("div",{className:"charts-side-by-side",children:[y.jsxs("div",{className:"chart-card kpi-card",children:[y.jsxs("div",{className:"gauge-header",children:[y.jsx("div",{className:"gauge-title",children:" Leads par origine - Ce mois"}),y.jsxs("div",{className:"gauge-subtitle",children:["Rpartition des ",w.total," leads reus"]})]}),y.jsx("div",{style:{height:450,marginTop:20},children:y.jsx(YR,{data:O,options:M})})]}),y.jsxs("div",{className:"chart-card kpi-card chart--weeks",children:[y.jsx("div",{className:"chart-header kpi-header",children:y.jsxs("div",{children:[y.jsx("div",{className:"kpi-label",children:" volution TOP 3 sources"}),y.jsx("div",{className:"kpi-sub",children:"Leads cumuls des 3 meilleures sources"})]})}),y.jsx("div",{className:"chart-body chart-body--glass",style:{height:450},children:y.jsx(Xx,{data:z,options:C})})]})]}),E.total>0&&y.jsxs("div",{className:"chart-card kpi-card",style:{marginTop:30},children:[y.jsxs("div",{className:"gauge-header",children:[y.jsx("div",{className:"gauge-title",children:" Dtail des leads d'aujourd'hui"}),y.jsxs("div",{className:"gauge-subtitle",children:[E.total," lead",E.total>1?"s":""," reu",E.total>1?"s":""]})]}),y.jsx("div",{className:"leaderboard-wrapper",style:{marginTop:20},children:y.jsxs("table",{className:"leaderboard",style:{width:"100%",tableLayout:"fixed"},children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{style:{width:"60px",textAlign:"center"},children:"#"}),y.jsx("th",{style:{width:"80px",textAlign:"center"},children:"Heure"}),y.jsx("th",{style:{width:"200px",textAlign:"left"},children:"Nom complet"}),y.jsx("th",{style:{width:"250px",textAlign:"left"},children:"Email"}),y.jsx("th",{style:{width:"140px",textAlign:"center"},children:"Tlphone"}),y.jsx("th",{style:{width:"140px",textAlign:"center"},children:"Origine"})]})}),y.jsx("tbody",{children:b.filter(q=>{const te=new Date(q.created_at),Q=new Date,le=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()),re=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()+1);return te>=le&&te<re}).sort((q,te)=>new Date(te.created_at)-new Date(q.created_at)).map((q,te)=>{const Q=new Date(q.created_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});return y.jsxs("tr",{children:[y.jsx("td",{style:{textAlign:"center"},children:te+1}),y.jsx("td",{style:{textAlign:"center"},children:Q}),y.jsx("td",{style:{textAlign:"left",fontWeight:600},children:q.full_name||"-"}),y.jsx("td",{style:{textAlign:"left"},children:q.email||"-"}),y.jsx("td",{style:{textAlign:"center"},children:q.phone||"-"}),y.jsx("td",{style:{textAlign:"center"},children:y.jsx("span",{style:{padding:"4px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:500,background:e?"rgba(99, 102, 241, 0.2)":"rgba(99, 102, 241, 0.1)",color:fn.primary},children:q.origin})})]},q.id)})})]})})]})]})]})]})]})}const or={primary:"#6366f1",secondary:"#fb923c",tertiary:"#10b981"};function rN(){const t=Bi(),[e,n]=R.useState(()=>localStorage.getItem("darkMode")==="true");R.useEffect(()=>{localStorage.setItem("darkMode",e),e?(document.body.classList.add("dark-mode"),document.documentElement.classList.add("dark-mode")):(document.body.classList.remove("dark-mode"),document.documentElement.classList.remove("dark-mode"))},[e]);const[i,a]=R.useState(null),[o,l]=R.useState(!1),[u,h]=R.useState(!0),[f,p]=R.useState(!1);R.useEffect(()=>{(async()=>{try{const ae=we.getToken(),oe=we.getUser();if(!ae||!oe){t("/login");return}a({user:{email:oe.email,user_metadata:{name:oe.name}}}),oe.role==="admin"||we.hasAccess("leads_management")?(l(!0),p(oe.role==="admin")):t("/")}catch(ae){console.error("Access check error:",ae),t("/login")}finally{h(!1)}})()},[t]);const[b,v]=R.useState([]),[_,S]=R.useState([]),[k,w]=R.useState([]),[E,O]=R.useState([]),[M,z]=R.useState([]),[C,G]=R.useState(!0),Y={"youcefamrane227@gmail.com":"Youcef Amran"},[q,te]=R.useState(()=>{const I=new Date;return`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`}),[Q,le]=R.useState(null),[re,Te]=R.useState(!1),[_e,de]=R.useState(new Set),B=async()=>{var I;G(!0);try{const[ae,oe,De,fe,qe]=await Promise.all([we.get("/api/v1/leads?page=1&limit=200").catch(ue=>(console.error("Error fetching leads:",ue),{leads:[],items:[],data:[]})),we.get("/api/v1/clients?limit=1000").catch(ue=>(console.error("Error fetching clients:",ue),{clients:[],items:[],data:[]})),gy.from("Info").select("*"),gy.from("tracking_sheets").select("sales_email").eq("is_active",!0),we.getAssignableUsers().catch(ue=>(console.error("Error fetching assignable users:",ue),{users:[]}))]);console.log(" Leads API response:",ae),console.log(" Clients API response:",oe),console.log(" Assignable users:",qe);const et=(ae==null?void 0:ae.leads)||(ae==null?void 0:ae.items)||(ae==null?void 0:ae.data)||(Array.isArray(ae)?ae:[]);v(et),console.log(" Leads set:",et.length,"items");const Xe=(oe==null?void 0:oe.clients)||(oe==null?void 0:oe.items)||(oe==null?void 0:oe.data)||(Array.isArray(oe)?oe:[]);S(Xe),console.log(" Clients set:",Xe.length,"items");const X=(qe==null?void 0:qe.users)||[];z(X),console.log(" Assignable users set:",X.length,"users"),De.error?console.error("Error fetching sales:",De.error):w(De.data||[]),fe.error?console.error("Error fetching sales team:",fe.error):O(fe.data||[])}catch(ae){console.error("Fetch error:",ae),(I=ae.message)!=null&&I.includes("401")&&t("/login")}finally{setTimeout(()=>G(!1),150)}};R.useEffect(()=>{o&&B()},[o]);const ie=R.useMemo(()=>{const I=b.length,ae=new Set(_.map(Xe=>{var X;return(X=Xe.email)==null?void 0:X.toLowerCase().trim()}).filter(Boolean)),oe=b.filter(Xe=>{var ue;const X=(ue=Xe.email)==null?void 0:ue.toLowerCase().trim();return X&&ae.has(X)}),De=oe.length,fe=I>0?De/I*100:0,qe=oe.reduce((Xe,X)=>{var me;const ue=(me=X.email)==null?void 0:me.toLowerCase().trim(),Nt=k.filter(Ae=>{var $e;return(($e=Ae.email)==null?void 0:$e.toLowerCase().trim())===ue}).reduce((Ae,$e)=>Ae+(Number($e.amount)||0),0);return Xe+Nt},0);let et=0;if(q&&q!=="all"){const[Xe,X]=q.split("-").map(Number),ue=new Date(Xe,X-1,1),ye=new Date(Xe,X,0,23,59,59,999);et=k.filter(Nt=>{const me=new Date(Nt.created_at);return me>=ue&&me<=ye}).length}else et=k.length;return{totalLeads:I,matchedCount:De,conversionRate:fe,totalRevenue:qe,monthlySales:et}},[b,_,k,q]),$=I=>I?new Date(I).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",N=I=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(I),A=I=>{le(I),Te(!0)},U=()=>{Te(!1),setTimeout(()=>le(null),300)},Z=R.useMemo(()=>{const I=[{value:"all",label:"Tous les mois"}],ae=new Date;for(let oe=0;oe<12;oe++){const De=new Date(ae.getFullYear(),ae.getMonth()-oe,1),fe=`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}`,qe=De.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});I.push({value:fe,label:qe.charAt(0).toUpperCase()+qe.slice(1)})}return I},[]),W=async(I,ae,oe)=>{var qe;if(oe.stopPropagation(),_e.has(I)){console.log("Assignment already in progress for lead:",I);return}de(et=>new Set(et).add(I));const De=b.find(et=>et.id===I),fe={assigned_to:ae||null,assigned_at:ae?new Date().toISOString():null,assigned_by:ae?((qe=i==null?void 0:i.user)==null?void 0:qe.email)||"admin":null};v(et=>et.map(Xe=>Xe.id===I?{...Xe,...fe}:Xe));try{ae?await we.assignLead(I,ae):await we.unassignLead(I)}catch(et){console.error("Assignment error:",et),v(Xe=>Xe.map(X=>X.id===I?De:X)),alert("Erreur lors de l'assignation. Veuillez ressayer.")}finally{de(et=>{const Xe=new Set(et);return Xe.delete(I),Xe})}};return u?y.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:e?"#1a1a1e":"#f5f5f7"},children:y.jsx("p",{style:{color:e?"#8b8d93":"#86868b"},children:"Vrification des accs..."})}):o?y.jsxs("div",{style:{padding:0,fontFamily:"sans-serif",background:e?"#1a1a1e":"#f5f5f7",minHeight:"100vh",paddingTop:"16px"},children:[y.jsx(ul,{session:i,darkMode:e,setDarkMode:n}),y.jsxs("div",{className:"board-frame",children:[y.jsxs("div",{style:{position:"absolute",top:"var(--space-xl)",left:"var(--space-2xl)",right:"var(--space-2xl)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10},children:[y.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",alignItems:"center"},children:[y.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f"},children:"Gestion des Leads"}),y.jsx("span",{style:{fontSize:"11px",color:e?"#8b8d93":"#86868b",padding:"4px 8px",borderRadius:"6px",background:e?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",fontWeight:500},children:"200 plus rcents"})]}),y.jsx("select",{value:q,onChange:I=>te(I.target.value),className:"range-select",style:{padding:"8px 14px",paddingRight:"32px",borderRadius:"12px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,background:e?"#2a2b2e":"#ffffff",color:e?"#f5f5f7":"#1d1d1f",fontWeight:500,fontSize:"14px",cursor:"pointer"},children:Z.map(I=>y.jsx("option",{value:I.value,children:I.label},I.value))})]}),y.jsx("div",{style:{marginTop:"80px",padding:"0 var(--space-2xl) var(--space-2xl)"},children:C?y.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-2xl)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",marginBottom:"24px"},children:[y.jsx("div",{style:{fontSize:"42px",opacity:.3},children:""}),y.jsx("div",{className:"skeleton",style:{width:"300px",height:"42px"}})]}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",maxWidth:"1200px",margin:"0 auto 32px"},children:[1,2,3,4].map(I=>y.jsx("div",{className:"skeleton",style:{height:"120px"}},I))}),y.jsx("div",{className:"skeleton",style:{height:"400px",borderRadius:"16px"}})]}):y.jsxs("div",{className:"content-fade-in",children:[y.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-2xl)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",marginBottom:"24px"},children:[y.jsx("div",{style:{fontSize:"42px",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),y.jsx("h1",{style:{fontSize:"32px",fontWeight:700,margin:0,color:e?"#f5f5f7":"#1d1d1f"},children:"Gestion des Leads"})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",maxWidth:"1000px",margin:"0 auto 32px"},children:[y.jsxs("div",{style:{padding:"24px 32px",borderRadius:"16px",background:e?"rgba(255,255,255,0.03)":"#ffffff",border:`1px solid ${e?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.06)"}`,textAlign:"center",minWidth:"200px",boxShadow:e?"none":"0 2px 8px rgba(0,0,0,0.04)"},children:[y.jsx("div",{style:{fontSize:"11px",color:e?"#8b8d93":"#86868b",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Taux de Conversion"}),y.jsxs("div",{style:{fontSize:"36px",fontWeight:700,color:or.primary},children:[ie.conversionRate.toFixed(1),"%"]}),y.jsxs("div",{style:{fontSize:"11px",color:e?"#8b8d93":"#86868b",marginTop:"4px"},children:[ie.matchedCount," / ",ie.totalLeads]})]}),y.jsxs("div",{style:{padding:"24px 32px",borderRadius:"16px",background:e?"rgba(255,255,255,0.03)":"#ffffff",border:`1px solid ${e?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.06)"}`,textAlign:"center",minWidth:"200px",boxShadow:e?"none":"0 2px 8px rgba(0,0,0,0.04)"},children:[y.jsx("div",{style:{fontSize:"11px",color:e?"#8b8d93":"#86868b",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Revenu Total"}),y.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:or.tertiary},children:N(ie.totalRevenue)})]}),y.jsxs("div",{style:{padding:"24px 32px",borderRadius:"16px",background:e?"rgba(255,255,255,0.03)":"#ffffff",border:`1px solid ${e?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.06)"}`,textAlign:"center",minWidth:"200px",boxShadow:e?"none":"0 2px 8px rgba(0,0,0,0.04)"},children:[y.jsx("div",{style:{fontSize:"11px",color:e?"#8b8d93":"#86868b",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Ventes du Mois"}),y.jsx("div",{style:{fontSize:"36px",fontWeight:700,color:or.secondary},children:ie.monthlySales})]})]})]}),y.jsx("div",{style:{background:e?"#1e1e22":"#ffffff",borderRadius:"16px",overflow:"hidden",boxShadow:e?"0 4px 24px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05)":"0 4px 24px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.04)"},children:b.length===0?y.jsx("div",{style:{padding:"60px",textAlign:"center"},children:y.jsx("p",{style:{color:e?"#8b8d93":"#86868b",fontSize:"14px"},children:"Aucun lead trouv"})}):y.jsx("div",{style:{overflowX:"auto"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[y.jsx("thead",{children:y.jsx("tr",{children:[{label:"Origine",width:"130px",align:"left"},{label:"Date",width:"110px",align:"center"},{label:"Nom & Prnom",width:"200px",align:"left"},{label:"Nb Salaris",width:"110px",align:"center"},{label:"CA",width:"180px",align:"left"},{label:"Assign ",width:"200px",align:"center"}].map((I,ae,oe)=>y.jsx("th",{style:{padding:"16px 20px",textAlign:I.align,fontSize:"11px",fontWeight:700,color:e?"#9ca3af":"#6b7280",textTransform:"uppercase",letterSpacing:"0.8px",background:e?"#252529":"#f8fafc",borderBottom:`2px solid ${e?"#3f3f46":"#e2e8f0"}`,borderRight:ae<oe.length-1?`1px solid ${e?"#3f3f46":"#e2e8f0"}`:"none",width:I.width,whiteSpace:"nowrap"},children:I.label},I.label))})}),y.jsx("tbody",{children:b.map((I,ae)=>{const De=ae%2===0?"transparent":e?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.015)";return y.jsxs("tr",{onClick:()=>A(I),style:{background:De,cursor:"pointer",transition:"all 0.15s ease"},onMouseEnter:fe=>{fe.currentTarget.style.background=e?"rgba(99, 102, 241, 0.08)":"rgba(99, 102, 241, 0.04)"},onMouseLeave:fe=>{fe.currentTarget.style.background=De},children:[y.jsx("td",{style:{padding:"14px 20px",fontSize:"13px",color:e?"#f5f5f7":"#1d1d1f",borderBottom:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,borderRight:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,fontWeight:500},children:y.jsx("span",{style:{display:"inline-block",padding:"4px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:500,background:e?"rgba(99, 102, 241, 0.15)":"rgba(99, 102, 241, 0.08)",color:or.primary,border:`1px solid ${e?"rgba(99, 102, 241, 0.3)":"rgba(99, 102, 241, 0.2)"}`},children:I.origin||"-"})}),y.jsx("td",{style:{padding:"14px 20px",fontSize:"13px",color:e?"#a1a1aa":"#71717a",borderBottom:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,borderRight:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,textAlign:"center",fontFamily:"monospace",letterSpacing:"0.5px"},children:$(I.created_at)}),y.jsx("td",{style:{padding:"14px 20px",fontSize:"14px",color:e?"#f5f5f7":"#1d1d1f",borderBottom:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,borderRight:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,fontWeight:600},children:I.full_name||"-"}),y.jsx("td",{style:{padding:"14px 20px",fontSize:"13px",color:e?"#a1a1aa":"#52525b",borderBottom:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,borderRight:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,textAlign:"center",fontWeight:500},children:I.headcount||"-"}),y.jsx("td",{style:{padding:"14px 20px",fontSize:"13px",color:e?"#a1a1aa":"#52525b",borderBottom:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,borderRight:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,fontWeight:500},children:I.revenue||"-"}),y.jsx("td",{style:{padding:"14px 16px",borderBottom:`1px solid ${e?"#2d2d32":"#f1f5f9"}`,textAlign:"center"},children:y.jsxs("select",{value:I.assigned_to||"",onChange:fe=>W(I.id,fe.target.value,fe),onClick:fe=>fe.stopPropagation(),disabled:_e.has(I.id),style:{padding:"8px 12px",paddingRight:"28px",borderRadius:"8px",border:I.assigned_to?`2px solid ${or.tertiary}40`:`1px solid ${e?"#3f3f46":"#e2e8f0"}`,background:I.assigned_to?e?"rgba(16, 185, 129, 0.1)":"rgba(16, 185, 129, 0.05)":e?"#2a2b2e":"#ffffff",color:I.assigned_to?or.tertiary:e?"#9ca3af":"#6b7280",fontSize:"13px",fontWeight:I.assigned_to?600:400,cursor:_e.has(I.id)?"wait":"pointer",width:"100%",maxWidth:"180px",transition:"all 0.2s ease",opacity:_e.has(I.id)?.5:1,appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='${e?"%239ca3af":"%236b7280"}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 10px center"},children:[y.jsx("option",{value:"",children:_e.has(I.id)?"Assignation...":"Non assign"}),M.length>0?M.map(fe=>y.jsxs("option",{value:fe.email||fe.id,children:[fe.full_name," (",fe.role,")"]},fe.id)):E.map(fe=>y.jsx("option",{value:fe.sales_email,children:Y[fe.sales_email]||fe.sales_email},fe.sales_email))]})})]},I.id||ae)})})]})})})]})})]}),re&&Q&&y.jsx("div",{onClick:U,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"24px"},children:y.jsxs("div",{onClick:I=>I.stopPropagation(),style:{background:e?"#242428":"#fff",borderRadius:"20px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",border:`1px solid ${e?"#333338":"#e5e5e5"}`,boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},children:[y.jsxs("div",{style:{padding:"24px",borderBottom:`1px solid ${e?"#333338":"#e5e5e5"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f"},children:"Dtails du Lead"}),y.jsx("button",{onClick:U,style:{background:"transparent",border:"none",fontSize:"28px",cursor:"pointer",color:e?"#8b8d93":"#86868b",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1},children:""})]}),y.jsx("div",{style:{padding:"24px"},children:y.jsx("div",{style:{display:"grid",gap:"20px"},children:[{label:"Origine",value:Q.origin},{label:"Date",value:$(Q.created_at)},{label:"Nom & Prnom",value:Q.full_name},{label:"Tlphone",value:Q.phone},{label:"Email",value:Q.email},{label:"Plateforme",value:Q.platform},{label:"Source",value:Q.source},{label:"Nombre de Salaris",value:Q.headcount},{label:"Chiffre d'Affaires",value:Q.revenue},{label:"Projet",value:Q.project},{label:"Assign ",value:(()=>{const I=M.find(ae=>ae.email===Q.assigned_to||ae.id===Q.assigned_to);return I?I.full_name:Y[Q.assigned_to]||Q.assigned_to||"Non assign"})()},{label:"Statut",value:Q.status||" traiter"},{label:"Notes",value:Q.notes,isMultiline:!0}].map((I,ae)=>y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"11px",color:e?"#8b8d93":"#86868b",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:I.label}),y.jsx("div",{style:{fontSize:"15px",color:e?"#f5f5f7":"#1d1d1f",wordBreak:"break-word",whiteSpace:I.isMultiline?"pre-wrap":"normal"},children:I.value||"-"})]},ae))})})]})})]}):null}const eu={primary:"#6366f1",tertiary:"#10b981"},oN=[" traiter"," rappeler","RDV fix","Rpondeur","Non pertinent","Pas intress"],lN=["1-2","3-5","6-10","11-19","20-29","30-39","40-49","50-74","75-99","100-149","150-199","200-249","250-299","300-349","350-400"];function cN(){const t=Bi(),[e,n]=R.useState(()=>localStorage.getItem("darkMode")==="true");R.useEffect(()=>{localStorage.setItem("darkMode",e),e?(document.body.classList.add("dark-mode"),document.documentElement.classList.add("dark-mode")):(document.body.classList.remove("dark-mode"),document.documentElement.classList.remove("dark-mode"))},[e]);const[i,a]=R.useState(null),[o,l]=R.useState(!1),[u,h]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const A=we.getToken(),U=we.getUser();if(!A||!U){t("/login");return}a({user:{email:U.email,user_metadata:{name:U.name}}});const Z=await we.get("/api/v1/tracking/my-sheets");!Z.sheets||Z.sheets.length===0?t("/"):l(!0)}catch(A){console.error("Access check error:",A),t("/login")}finally{h(!1)}})()},[t]);const[f,p]=R.useState([]),[b,v]=R.useState(!0),[_,S]=R.useState(null),[k,w]=R.useState(!1),[E,O]=R.useState(""),[M,z]=R.useState(""),[C,G]=R.useState(new Set),[Y,q]=R.useState(new Set),te=async()=>{var N;v(!0);try{if(!i)return;const A=await we.get("/api/v1/tracking/my-leads");p(A.leads||[])}catch(A){console.error("Fetch error:",A),(N=A.message)!=null&&N.includes("401")&&t("/login")}finally{setTimeout(()=>v(!1),150)}};R.useEffect(()=>{o&&i&&te()},[o,i]);const Q=N=>N?new Date(N).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",le=N=>N?new Date(N).toISOString().split("T")[0]:"",re=N=>{S(N),O(N.notes||""),z(N.employee_range||""),w(!0)},Te=()=>{w(!1),setTimeout(()=>{S(null),O(""),z("")},300)},_e=async(N,A,U)=>{if(U.stopPropagation(),Y.has(N))return;q(W=>new Set(W).add(N));const Z=f.find(W=>W.id===N);p(W=>W.map(I=>I.id===N?{...I,status:A}:I));try{await we.patch(`/api/v1/tracking/leads/${N}`,{status:A})}catch(W){console.error("Status update error:",W),p(I=>I.map(ae=>ae.id===N?Z:ae)),alert("Erreur lors de la mise  jour du statut.")}finally{q(W=>{const I=new Set(W);return I.delete(N),I})}},de=async(N,A)=>{if(!_||C.has(N))return;G(Z=>new Set(Z).add(N));const U={..._};S(Z=>({...Z,[N]:A})),p(Z=>Z.map(W=>W.id===_.id?{...W,[N]:A}:W));try{await we.patch(`/api/v1/tracking/leads/${_.id}`,{[N]:A||null})}catch(Z){console.error(`${N} update error:`,Z),S(U),p(W=>W.map(I=>I.id===_.id?U:I)),alert(`Erreur lors de la sauvegarde de ${N}.`)}finally{G(Z=>{const W=new Set(Z);return W.delete(N),W})}},B=async N=>{if(!_||C.has("employee_range"))return;G(U=>new Set(U).add("employee_range")),z(N);const A={..._};S(U=>({...U,employee_range:N})),p(U=>U.map(Z=>Z.id===_.id?{...Z,employee_range:N}:Z));try{await we.patch(`/api/v1/tracking/leads/${_.id}`,{employee_range:N})}catch(U){console.error("Employee range update error:",U),S(A),z(A.employee_range||""),p(Z=>Z.map(W=>W.id===_.id?A:W)),alert("Erreur lors de la sauvegarde du nombre de salaris.")}finally{G(U=>{const Z=new Set(U);return Z.delete("employee_range"),Z})}},ie=async()=>{if(!_||C.has("notes"))return;G(A=>new Set(A).add("notes"));const N={..._};S(A=>({...A,notes:E})),p(A=>A.map(U=>U.id===_.id?{...U,notes:E}:U));try{await we.patch(`/api/v1/tracking/leads/${_.id}`,{notes:E})}catch(A){console.error("Notes save error:",A),S(N),O(N.notes||""),p(U=>U.map(Z=>Z.id===_.id?N:Z)),alert("Erreur lors de la sauvegarde des notes.")}finally{G(A=>{const U=new Set(A);return U.delete("notes"),U})}},$=()=>{alert("L'envoi de contrat sera disponible prochainement.")};return u?y.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:e?"#1a1a1e":"#f5f5f7"},children:y.jsx("p",{style:{color:e?"#8b8d93":"#86868b"},children:"Vrification des accs..."})}):o?y.jsxs("div",{style:{padding:0,fontFamily:"sans-serif",background:e?"#1a1a1e":"#f5f5f7",minHeight:"100vh",paddingTop:"16px"},children:[y.jsx(ul,{session:i,darkMode:e,setDarkMode:n}),y.jsxs("div",{className:"board-frame",style:{width:"fit-content",maxWidth:"none",margin:"var(--space-xl) auto",minWidth:"1400px"},children:[y.jsx("div",{style:{position:"absolute",top:"var(--space-xl)",left:"var(--space-2xl)",right:"var(--space-2xl)",zIndex:10},children:y.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f"},children:"Tracking Sheet"})}),y.jsx("div",{style:{marginTop:"80px",padding:"0 var(--space-2xl) var(--space-2xl)"},children:b?y.jsx("div",{style:{textAlign:"center",padding:"60px"},children:y.jsx("p",{style:{color:e?"#8b8d93":"#86868b"},children:"Chargement..."})}):y.jsx("div",{className:"content-fade-in",children:y.jsx("div",{style:{background:e?"#1e1e22":"#ffffff",borderRadius:"16px",overflow:"hidden",boxShadow:e?"0 4px 24px rgba(0,0,0,0.4)":"0 4px 24px rgba(0,0,0,0.08)",border:`1px solid ${e?"#2d2d32":"#e2e8f0"}`},children:f.length===0?y.jsx("div",{style:{padding:"60px",textAlign:"center"},children:y.jsx("p",{style:{color:e?"#8b8d93":"#86868b"},children:"Aucun lead assign"})}):y.jsx("div",{style:{overflowX:"auto"},children:y.jsxs("table",{style:{width:"100%",minWidth:"1360px",borderCollapse:"separate",borderSpacing:0},children:[y.jsx("thead",{children:y.jsx("tr",{children:[{label:"Date Assign",width:"130px",align:"center"},{label:"Origine",width:"140px",align:"center"},{label:"Nom & Prnom",width:"200px",align:"left"},{label:"Email",width:"260px",align:"left"},{label:"Tlphone",width:"150px",align:"center"},{label:"Nb Salaris",width:"120px",align:"center"},{label:"CA",width:"180px",align:"left"},{label:"Statut",width:"180px",align:"center"}].map((N,A,U)=>y.jsx("th",{style:{padding:"16px 20px",textAlign:N.align,fontSize:"11px",fontWeight:700,color:e?"#9ca3af":"#6b7280",textTransform:"uppercase",letterSpacing:"0.8px",background:e?"#252529":"#f8fafc",borderBottom:`2px solid ${e?"#3f3f46":"#e2e8f0"}`,borderRight:A<U.length-1?`1px solid ${e?"#3f3f46":"#e2e8f0"}`:"none",width:N.width,whiteSpace:"nowrap"},children:N.label},N.label))})}),y.jsx("tbody",{children:f.map((N,A)=>{const Z={Owner:{bg:e?"rgba(99,102,241,0.15)":"rgba(99,102,241,0.1)",text:"#6366f1"},Agicap:{bg:e?"rgba(16,185,129,0.15)":"rgba(16,185,129,0.1)",text:"#10b981"},"Batch du jour":{bg:e?"rgba(245,158,11,0.15)":"rgba(245,158,11,0.1)",text:"#f59e0b"},WhatsApp:{bg:e?"rgba(34,197,94,0.15)":"rgba(34,197,94,0.1)",text:"#22c55e"}}[N.origin]||{bg:e?"rgba(107,114,128,0.15)":"rgba(107,114,128,0.1)",text:e?"#9ca3af":"#6b7280"};return y.jsxs("tr",{onClick:()=>re(N),style:{cursor:"pointer",transition:"background 0.15s",background:A%2===0?e?"#1e1e22":"#ffffff":e?"#232327":"#f8fafc"},onMouseEnter:W=>W.currentTarget.style.background=e?"#2a2a2e":"#f1f5f9",onMouseLeave:W=>W.currentTarget.style.background=A%2===0?e?"#1e1e22":"#ffffff":e?"#232327":"#f8fafc",children:[y.jsx("td",{style:{padding:"16px 20px",fontSize:"14px",color:e?"#e5e7eb":"#374151",borderBottom:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,borderRight:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,textAlign:"center",whiteSpace:"nowrap"},children:Q(N.assigned_at)}),y.jsx("td",{style:{padding:"16px 20px",fontSize:"14px",borderBottom:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,borderRight:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,textAlign:"center"},children:y.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:600,background:Z.bg,color:Z.text},children:N.origin||"-"})}),y.jsx("td",{style:{padding:"16px 20px",fontSize:"14px",fontWeight:500,color:e?"#f5f5f7":"#1d1d1f",borderBottom:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,borderRight:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,textAlign:"left"},children:N.full_name||"-"}),y.jsx("td",{style:{padding:"16px 20px",fontSize:"14px",color:e?"#9ca3af":"#6b7280",borderBottom:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,borderRight:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,textAlign:"left"},children:N.email||"-"}),y.jsx("td",{style:{padding:"16px 20px",fontSize:"14px",color:e?"#e5e7eb":"#374151",borderBottom:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,borderRight:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,textAlign:"center",fontFamily:"monospace"},children:N.phone||"-"}),y.jsx("td",{style:{padding:"16px 20px",fontSize:"14px",color:e?"#e5e7eb":"#374151",borderBottom:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,borderRight:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,textAlign:"center"},children:N.headcount||"-"}),y.jsx("td",{style:{padding:"16px 20px",fontSize:"14px",color:e?"#e5e7eb":"#374151",borderBottom:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,borderRight:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,textAlign:"left"},children:N.revenue||"-"}),y.jsx("td",{style:{padding:"12px 16px",borderBottom:`1px solid ${e?"#2d2d32":"#e2e8f0"}`,textAlign:"center"},children:y.jsxs("div",{style:{position:"relative",display:"inline-block",width:"100%"},children:[y.jsx("select",{value:N.status||" traiter",onChange:W=>_e(N.id,W.target.value,W),onClick:W=>W.stopPropagation(),disabled:Y.has(N.id),style:{width:"100%",padding:"8px 32px 8px 12px",borderRadius:"8px",border:`1px solid ${e?"#3f3f46":"#d1d5db"}`,background:Y.has(N.id)?e?"#1a1a1e":"#f5f5f7":e?"#2a2a2e":"#ffffff",color:e?"#f5f5f7":"#1d1d1f",fontSize:"13px",fontWeight:500,cursor:Y.has(N.id)?"wait":"pointer",opacity:Y.has(N.id)?.6:1,appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:oN.map(W=>y.jsx("option",{value:W,children:W},W))}),y.jsx("div",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:y.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:y.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:e?"#9ca3af":"#6b7280",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]},N.id||A)})})]})})})})})]}),k&&_&&y.jsx("div",{onClick:Te,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"24px"},children:y.jsxs("div",{onClick:N=>N.stopPropagation(),style:{background:e?"#242428":"#fff",borderRadius:"20px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"auto",border:`1px solid ${e?"#333338":"#e5e5e5"}`,boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},children:[y.jsxs("div",{style:{padding:"24px",borderBottom:`1px solid ${e?"#333338":"#e5e5e5"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f"},children:_.full_name||"Lead"}),y.jsx("button",{onClick:Te,style:{background:"transparent",border:"none",fontSize:"28px",cursor:"pointer",color:e?"#8b8d93":"#86868b",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),y.jsxs("div",{style:{padding:"24px"},children:[y.jsxs("div",{style:{marginBottom:"24px"},children:[y.jsx("h3",{style:{fontSize:"14px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f",marginBottom:"12px"},children:"Placer les RDV"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[{label:"R1",field:"r1"},{label:"R2",field:"r2"},{label:"RDV Lancement",field:"rdv_lancement"},{label:"RDV Onboarding",field:"rdv_onboarding"}].map(({label:N,field:A})=>y.jsxs("div",{children:[y.jsx("label",{style:{fontSize:"11px",color:e?"#8b8d93":"#86868b",marginBottom:"6px",display:"block",textTransform:"uppercase"},children:N}),y.jsx("input",{type:"date",value:le(_[A]),onChange:U=>de(A,U.target.value),disabled:C.has(A),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,background:e?"#2a2b2e":"#ffffff",color:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",cursor:C.has(A)?"wait":"pointer",opacity:C.has(A)?.6:1}})]},A))})]}),y.jsxs("div",{style:{marginBottom:"24px"},children:[y.jsx("h3",{style:{fontSize:"14px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f",marginBottom:"12px"},children:"Nombre de salaris"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"8px"},children:lN.map(N=>y.jsx("button",{onClick:()=>B(N),disabled:C.has("employee_range"),style:{padding:"10px",borderRadius:"8px",border:`1px solid ${M===N?eu.primary:e?"#333338":"#e5e5e5"}`,background:M===N?eu.primary:e?"#2a2b2e":"#ffffff",color:M===N?"#fff":e?"#f5f5f7":"#1d1d1f",fontSize:"13px",fontWeight:M===N?600:400,cursor:C.has("employee_range")?"wait":"pointer",transition:"all 0.2s",opacity:C.has("employee_range")?.6:1},children:N},N))})]}),y.jsxs("div",{style:{marginBottom:"24px"},children:[y.jsx("h3",{style:{fontSize:"14px",fontWeight:600,color:e?"#f5f5f7":"#1d1d1f",marginBottom:"12px"},children:"Notes / Commentaires"}),y.jsx("textarea",{value:E,onChange:N=>O(N.target.value),placeholder:"Ajouter des commentaires internes...",style:{width:"100%",minHeight:"100px",padding:"12px",borderRadius:"8px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,background:e?"#2a2b2e":"#ffffff",color:e?"#f5f5f7":"#1d1d1f",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}}),y.jsx("button",{onClick:ie,disabled:C.has("notes"),style:{marginTop:"8px",padding:"8px 16px",borderRadius:"8px",border:"none",background:C.has("notes")?e?"#333338":"#e5e5e5":eu.primary,color:"#fff",fontSize:"14px",fontWeight:500,cursor:C.has("notes")?"wait":"pointer"},children:C.has("notes")?"Sauvegarde...":"Sauvegarder les notes"})]}),y.jsx("button",{onClick:$,style:{width:"100%",padding:"16px",borderRadius:"12px",border:"none",background:eu.tertiary,color:"#fff",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.target.style.transform="scale(1.02)",onMouseLeave:N=>N.target.style.transform="scale(1)",children:" Envoyer le contrat"})]})]})})]}):null}const vt={primary:"#6366f1",secondary:"#fb923c",tertiary:"#10b981"},uN=t=>t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):"",dN=t=>t?uN(t).toLowerCase().trim().replace(/\s+/g," ").replace(/[^a-z\s'-]/g,""):"unknown",hN={"kyle dif":"kail",kail:"kail",kyle:"kail",yohan:"yohan debowski","yohan debowski":"yohan debowski",debowski:"yohan debowski",leo:"leo mafrici","leo mafrici":"leo mafrici",mafrici:"leo mafrici",yanis:"yanis zairi","yanis zairi":"yanis zairi",zairi:"yanis zairi",youness:"youness el boukhrissi","youness el boukhrissi":"youness el boukhrissi","el boukhrissi":"youness el boukhrissi",mourad:"mourad derradji","mourad derradji":"mourad derradji",derradji:"mourad derradji",alex:"alex gaudrillet","alex gaudrillet":"alex gaudrillet",gaudrillet:"alex gaudrillet",sebastien:"sebastien itema","sebastien itema":"sebastien itema",itema:"sebastien itema",quentin:"quentin rattez","quentin rattez":"quentin rattez",rattez:"quentin rattez",gwenael:"gwenael",gwenaelle:"gwenael",david:"david",eva:"eva",aurelie:"aurelie briquet","aurelie briquet":"aurelie briquet",briquet:"aurelie briquet",selim:"selim kouay","selim kouay":"selim kouay",kouay:"selim kouay",mehdi:"mehdi bouffessil","mehdi bouffessil":"mehdi bouffessil",bouffessil:"mehdi bouffessil",sarah:"sarah amroune","sarah amroune":"sarah amroune",amroune:"sarah amroune",sara:"sara benabid","sara benabid":"sara benabid",benabid:"sara benabid",mohamed:"mohamed bouaksa","mohamed bouaksa":"mohamed bouaksa",bouaksa:"mohamed bouaksa",youcef:"youcef amran","youcef amran":"youcef amran",amran:"youcef amran"},fN={"yohan debowski":"Yohan Debowski","leo mafrici":"Lo Mafrici","mourad derradji":"Mourad Derradji","youness el boukhrissi":"Youness El Boukhrissi","yanis zairi":"Yanis Zari","alex gaudrillet":"Alex Gaudrillet","sebastien itema":"Sbastien ITEMA","selim kouay":"Selim Kouay",eva:"Eva",david:"David","aurelie briquet":"Aurlie Briquet",gwenael:"Gwenal","quentin rattez":"Quentin Rattez","mehdi bouffessil":"Mehdi BOUFFESSIL","sarah amroune":"Sarah Amroune","sara benabid":"Sara BENABID","mohamed bouaksa":"Mohamed Bouaksa",kail:"Kal","youcef amran":"Youcef Amran"},ig=t=>{const e=dN(t);return hN[e]??e},gN=t=>{const e=ig(t);return fN[e]??(t==null?void 0:t.trim())??"Unknown"},pN=new Set(["mohamed bouaksa","sara benabid"]);function mN(){var Te,_e,de,B,ie,$,N,A,U,Z,W,I,ae,oe,De,fe,qe,et,Xe;const t=Bi(),[e,n]=R.useState(()=>localStorage.getItem("darkMode")==="true");R.useEffect(()=>{localStorage.setItem("darkMode",e),e?(document.body.classList.add("dark-mode"),document.documentElement.classList.add("dark-mode")):(document.body.classList.remove("dark-mode"),document.documentElement.classList.remove("dark-mode"))},[e]);const[i,a]=R.useState(null),[o,l]=R.useState(!1),[u,h]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const ue=we.getToken(),ye=we.getUser();if(!ue||!ye){t("/login");return}a({user:{email:ye.email,user_metadata:{name:ye.name}}}),ye.role==="admin"||we.hasAccess("monitoring_perf")?l(!0):t("/")}catch(ue){console.error("Access check error:",ue),t("/login")}finally{h(!1)}})()},[t]);const[f,p]=R.useState("perf_sales"),[b,v]=R.useState(null),[_,S]=R.useState(!0),[k,w]=R.useState(null),[E,O]=R.useState(!1),[M,z]=R.useState(()=>{const X=new Date;return X<new Date("2026-02-01")?"2026-02":`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}`}),[C,G]=R.useState(()=>{const X=new Date;return`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}`}),[Y,q]=R.useState("global"),te=async()=>{var X;S(!0);try{let ue;C==="all"?ue="all":C.match(/^\d{4}-\d{2}$/)?ue=C:ue="current_month",console.log(" Fetching performance data V2 with period:",ue);const ye=await we.get(`/api/v1/monitoring/performance/v2?period=${ue}`);console.log(" Backend V2 response:",ye),console.log(" global_view:",ye==null?void 0:ye.global_view),console.log(" ads_view:",ye==null?void 0:ye.ads_view),console.log(" cc_view:",ye==null?void 0:ye.cc_view),v(ye)}catch(ue){console.error("Fetch error:",ue),(X=ue.message)!=null&&X.includes("401")&&t("/login")}finally{setTimeout(()=>S(!1),150)}};R.useEffect(()=>{o&&te()},[o,C]);const Q=async()=>{var X;O(!0);try{const ue=M||"current_month";console.log(" Fetching lead quality data with period:",ue);const ye=await we.get(`/api/v1/monitoring/lead-quality?period=${ue}`);console.log(" Lead quality response:",ye),w(ye)}catch(ue){console.error("Lead quality fetch error:",ue),(X=ue.message)!=null&&X.includes("401")&&t("/login")}finally{setTimeout(()=>O(!1),150)}};R.useEffect(()=>{o&&f==="lead_quality"&&Q()},[o,f,M]);const le=R.useMemo(()=>{if(!b)return[];let X;if(Y==="ads"?X=b.ads_view:Y==="cc"?X=b.cc_view:X=b.global_view,!(X!=null&&X.by_person))return[];const ue=X.by_person.filter(me=>!pN.has(ig(me.name))).map(me=>{const Ae=me.nbr_appel||0,$e=me.nbr_appel_d||0,ze=me.r1p||0,un=me.r1r||0,Mt=me.r2p||0,Ft=me.r2r||0,tt=me.nbr_signature||0,Zn=me.total_revenue||0,An=me.total_cash||0,Ot=me.conversion_global||($e>0?tt/$e*100:0),Ke=me.conv_calls_to_answered||(Ae>0?$e/Ae*100:0),dn=me.conv_answered_to_r1p||($e>0?ze/$e*100:0),wt=me.conv_r1p_to_r1r||(ze>0?un/ze*100:0),di=me.conv_r2p_to_r2r||(Mt>0?Ft/Mt*100:0),$i=me.conv_sales||(Ft>0?tt/Ft*100:0);return{salesName:gN(me.name),salesKey:ig(me.name),calls_total:Ae,calls_answered:$e,r1_placed:ze,r1_done:un,r2_placed:Mt,r2_done:Ft,signatures:tt,revenue:Zn,cashCollected:An,avatar:"",conv_global:Ot,conv_calls_to_answered:Ke,conv_answered_to_r1p:dn,conv_r1p_to_r1r:wt,conv_r2p_to_r2r:di,conv_sales:$i}}),ye=new Set,Nt=ue.filter(me=>ye.has(me.salesKey)?!1:(ye.add(me.salesKey),!0));return Nt.sort((me,Ae)=>Ae.conv_global!==me.conv_global?Ae.conv_global-me.conv_global:Ae.signatures!==me.signatures?Ae.signatures-me.signatures:Ae.calls_total-me.calls_total),Nt},[b,Y]),re=R.useMemo(()=>{if(!le||le.length===0)return{calls:0,answered:0,signatures:0,revenue:0,cashCollected:0,r1_placed:0,r1_done:0,r2_placed:0,r2_done:0,conv_global:0,conv_calls_to_answered:0,conv_answered_to_r1p:0,conv_r1p_to_r1r:0,conv_r2p_to_r2r:0,conv_sales:0};const X=le.reduce((ue,ye)=>({calls:ue.calls+ye.calls_total,answered:ue.answered+ye.calls_answered,r1_placed:ue.r1_placed+ye.r1_placed,r1_done:ue.r1_done+ye.r1_done,r2_placed:ue.r2_placed+ye.r2_placed,r2_done:ue.r2_done+ye.r2_done,signatures:ue.signatures+ye.signatures,revenue:ue.revenue+ye.revenue,cashCollected:ue.cashCollected+ye.cashCollected}),{calls:0,answered:0,r1_placed:0,r1_done:0,r2_placed:0,r2_done:0,signatures:0,revenue:0,cashCollected:0});return{...X,conv_global:X.answered>0?X.signatures/X.answered*100:0,conv_calls_to_answered:X.calls>0?X.answered/X.calls*100:0,conv_answered_to_r1p:X.answered>0?X.r1_placed/X.answered*100:0,conv_r1p_to_r1r:X.r1_placed>0?X.r1_done/X.r1_placed*100:0,conv_r2p_to_r2r:X.r2_placed>0?X.r2_done/X.r2_placed*100:0,conv_sales:X.r2_done>0?X.signatures/X.r2_done*100:0}},[le]);return u?y.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:e?"#1a1a1e":"#f5f5f7",fontFamily:"sans-serif"},children:y.jsx("p",{style:{color:e?"#8b8d93":"#86868b"},children:"Vrification des accs..."})}):o?y.jsxs("div",{style:{padding:0,fontFamily:"sans-serif",background:e?"#1a1a1e":"#f5f5f7",minHeight:"100vh",paddingTop:"16px"},children:[y.jsx(ul,{session:i,darkMode:e,setDarkMode:n}),y.jsxs("div",{className:"board-frame",style:{width:"fit-content",maxWidth:"none",margin:"var(--space-xl) auto",minWidth:"1200px",transition:"all 0.3s ease-out"},children:[y.jsxs("div",{className:"title-bar",children:[y.jsx("img",{src:e?ol:Su,className:"title-logo",alt:"logo"}),y.jsx("h1",{className:"leaderboard-title",children:"Monitoring Perf. Sales"})]}),y.jsxs("div",{style:{position:"absolute",top:"var(--space-xl)",left:"var(--space-2xl)",right:"var(--space-2xl)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10},children:[y.jsxs("div",{style:{display:"flex",gap:"var(--space-md)",alignItems:"center"},children:[y.jsx("button",{className:f==="perf_sales"?"toggle-btn active":"toggle-btn",onClick:()=>p("perf_sales"),children:"Perf.sales"}),y.jsx("button",{className:f==="lead_quality"?"toggle-btn active":"toggle-btn",onClick:()=>p("lead_quality"),children:"Qualit Leads"})]}),y.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:f==="perf_sales"?y.jsxs(y.Fragment,{children:[y.jsx("select",{value:C,onChange:X=>G(X.target.value),className:"range-select",style:{padding:"8px 14px",paddingRight:"32px",borderRadius:"12px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,background:e?"#2a2b2e":"#ffffff",color:e?"#f5f5f7":"#1d1d1f",fontWeight:500,fontSize:"14px",cursor:"pointer"},children:(()=>{const X=[],ue=new Date("2025-09-01"),ye=new Date,Nt=[],me=new Date(ue),Ae=ye.getFullYear()*100+ye.getMonth();for(;;){const $e=me.getFullYear(),ze=me.getMonth();if($e*100+ze>Ae)break;const Mt=new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}).format(me),Ft=`${$e}-${String(ze+1).padStart(2,"0")}`;Nt.unshift({value:Ft,label:Mt.charAt(0).toUpperCase()+Mt.slice(1)}),me.setMonth(me.getMonth()+1)}return Nt.forEach($e=>{X.push(y.jsx("option",{value:$e.value,children:$e.label},$e.value))}),X.push(y.jsx("option",{value:"all",children:"All time"},"all")),X})()}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsx("button",{className:Y==="global"?"toggle-btn active":"toggle-btn",onClick:()=>q("global"),children:"Global"}),y.jsx("button",{className:Y==="ads"?"toggle-btn active":"toggle-btn",onClick:()=>q("ads"),children:"ADS"}),y.jsx("button",{className:Y==="cc"?"toggle-btn active":"toggle-btn",onClick:()=>q("cc"),children:"CC"})]})]}):y.jsx("select",{value:M,onChange:X=>z(X.target.value),className:"range-select",style:{padding:"8px 14px",paddingRight:"32px",borderRadius:"12px",border:`1px solid ${e?"#333338":"#e5e5e5"}`,background:e?"#2a2b2e":"#ffffff",color:e?"#f5f5f7":"#1d1d1f",fontWeight:500,fontSize:"14px",cursor:"pointer"},children:(()=>{const X=[],ue=new Date("2026-02-01"),ye=new Date,Nt=[],me=new Date(ue),Ae=ye.getFullYear()*100+ye.getMonth();for(;;){const $e=me.getFullYear(),ze=me.getMonth();if($e*100+ze>Ae)break;const Mt=new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}).format(me),Ft=`${$e}-${String(ze+1).padStart(2,"0")}`;Nt.unshift({value:Ft,label:Mt.charAt(0).toUpperCase()+Mt.slice(1)}),me.setMonth(me.getMonth()+1)}return Nt.forEach($e=>{X.push(y.jsx("option",{value:$e.value,children:$e.label},$e.value))}),X})()})})]}),f==="perf_sales"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"totals-block",children:[y.jsxs("div",{className:"totals-row",style:{gap:"32px",justifyContent:"center"},children:[y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Appels"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value perf-neutral dot-boost",children:((Te=re.calls)==null?void 0:Te.toLocaleString("fr-FR"))||0})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Dcrochs"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value perf-neutral dot-boost",children:((_e=re.answered)==null?void 0:_e.toLocaleString("fr-FR"))||0})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"R1 effectu"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value perf-neutral dot-boost",children:((de=re.r1_done)==null?void 0:de.toLocaleString("fr-FR"))||0})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Ventes"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value cash dot-boost",children:((B=re.signatures)==null?void 0:B.toLocaleString("fr-FR"))||0})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Revenue"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value revenu dot-boost",children:re.revenue>0?`${Math.round(re.revenue).toLocaleString("fr-FR")} `:"0 "})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Cash"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value cash dot-boost",children:re.cashCollected>0?`${Math.round(re.cashCollected).toLocaleString("fr-FR")} `:"0 "})]})]}),y.jsx("div",{className:"money-float-container",style:{display:"inline-block",marginTop:"12px"},children:y.jsxs("div",{className:"totals-sales dot-boost",children:["Taux de dcrochage: ",((ie=re.conv_calls_to_answered)==null?void 0:ie.toFixed(1))||0,"% | R1 convertis: ",(($=re.conv_r1p_to_r1r)==null?void 0:$.toFixed(0))||0,"% | Taux de conversion: ",((N=re.conv_global)==null?void 0:N.toFixed(2))||0,"%"]})})]}),_&&y.jsx("div",{style:{textAlign:"center",padding:"60px",color:e?"#8b8d93":"#86868b",animation:"fadeIn 0.3s ease-out"},children:y.jsx("p",{children:"Chargement des donnes..."})}),!_&&le.length===0&&y.jsx("p",{style:{textAlign:"center",padding:"60px",color:e?"#8b8d93":"#86868b",animation:"fadeIn 0.3s ease-out"},children:"Aucune donne disponible"}),!_&&le.length>0&&y.jsx("div",{className:"leaderboard-wrapper",style:{animation:"fadeIn 0.4s ease-out"},children:y.jsxs("table",{className:"leaderboard",style:{fontSize:"0.8rem",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)",textAlign:"center"},children:"#"}),y.jsx("th",{style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)",textAlign:"center"},children:"Sales"}),y.jsx("th",{align:"center",title:"Ventes / Appels Dcrochs",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Conv. %"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Appels"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Dcrochs"}),y.jsx("th",{align:"center",title:"Appels Dcrochs / Appels Totaux",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Tx Dcr."}),y.jsx("th",{align:"center",title:"R1 Placs / Appels Dcrochs",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"R1/Dcr"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"R1p"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"R1E"}),y.jsx("th",{align:"center",title:"R1 Raliss / R1 Placs",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Tx R1"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"R2p"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"R2E"}),y.jsx("th",{align:"center",title:"R2 Raliss / R2 Placs",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Tx R2"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Ventes"}),y.jsx("th",{align:"center",title:"Ventes / R2 Raliss",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Conv. V."}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Revenue"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap"},children:"Cash"})]})}),y.jsx("tbody",{children:le.map((X,ue)=>{var un,Mt,Ft,tt,Zn,An,Ot,Ke,dn,wt,di,$i,Ii;const ye=kt=>kt>=5?vt.tertiary:kt>=2?vt.secondary:e?"#f5f5f7":"#1d1d1f",Nt=kt=>kt>=80?vt.tertiary:kt>=50?vt.secondary:"#ff453a",me=kt=>kt>=80?vt.tertiary:kt>=50?vt.secondary:"#ff453a",Ae=kt=>kt>=40?vt.tertiary:kt>=20?vt.secondary:e?"#f5f5f7":"#1d1d1f",$e=kt=>kt>=30?vt.tertiary:kt>=15?vt.secondary:e?"#f5f5f7":"#1d1d1f",ze={borderRight:"1px solid rgba(128,128,128,0.15)"};return y.jsxs("tr",{children:[y.jsx("td",{style:ze,children:ue===0?y.jsx("img",{src:Tf,alt:"1st",style:{width:22,height:22}}):ue===1?y.jsx("img",{src:Af,alt:"2nd",style:{width:22,height:22}}):ue===2?y.jsx("img",{src:Ef,alt:"3rd",style:{width:22,height:22}}):ue+1}),y.jsxs("td",{className:"name-cell",style:ze,children:[y.jsx("div",{className:"avatar-wrap",children:X.avatar?y.jsx("img",{src:X.avatar,className:"avatar",alt:X.salesName,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover"}}):y.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:ue===0?vt.tertiary:ue===1?vt.secondary:vt.primary,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#fff",fontWeight:600},children:X.salesName.charAt(0).toUpperCase()})}),y.jsx("span",{style:{fontWeight:ue<3?700:500,fontSize:"0.85rem",whiteSpace:"nowrap"},children:X.salesName})]}),y.jsxs("td",{align:"center",style:{fontWeight:700,color:ye(X.conv_global),...ze},children:[((un=X.conv_global)==null?void 0:un.toFixed(2))||0,"%"]}),y.jsx("td",{align:"center",style:{fontWeight:500,...ze},children:((Mt=X.calls_total)==null?void 0:Mt.toLocaleString("fr-FR"))||0}),y.jsx("td",{align:"center",style:{fontWeight:500,...ze},children:((Ft=X.calls_answered)==null?void 0:Ft.toLocaleString("fr-FR"))||0}),y.jsxs("td",{align:"center",style:{fontWeight:600,color:Nt(X.conv_calls_to_answered),...ze},children:[((tt=X.conv_calls_to_answered)==null?void 0:tt.toFixed(1))||0,"%"]}),y.jsxs("td",{align:"center",style:{fontWeight:600,color:$e(X.conv_answered_to_r1p),...ze},children:[((Zn=X.conv_answered_to_r1p)==null?void 0:Zn.toFixed(1))||0,"%"]}),y.jsx("td",{align:"center",style:{fontWeight:500,...ze},children:((An=X.r1_placed)==null?void 0:An.toLocaleString("fr-FR"))||0}),y.jsx("td",{align:"center",style:{fontWeight:500,...ze},children:((Ot=X.r1_done)==null?void 0:Ot.toLocaleString("fr-FR"))||0}),y.jsxs("td",{align:"center",style:{fontWeight:600,color:me(X.conv_r1p_to_r1r),...ze},children:[((Ke=X.conv_r1p_to_r1r)==null?void 0:Ke.toFixed(0))||0,"%"]}),y.jsx("td",{align:"center",style:{fontWeight:500,...ze},children:((dn=X.r2_placed)==null?void 0:dn.toLocaleString("fr-FR"))||0}),y.jsx("td",{align:"center",style:{fontWeight:500,...ze},children:((wt=X.r2_done)==null?void 0:wt.toLocaleString("fr-FR"))||0}),y.jsxs("td",{align:"center",style:{fontWeight:600,color:me(X.conv_r2p_to_r2r),...ze},children:[((di=X.conv_r2p_to_r2r)==null?void 0:di.toFixed(0))||0,"%"]}),y.jsx("td",{align:"center",style:{fontWeight:600,color:vt.tertiary,...ze},children:(($i=X.signatures)==null?void 0:$i.toLocaleString("fr-FR"))||0}),y.jsxs("td",{align:"center",style:{fontWeight:600,color:Ae(X.conv_sales),...ze},children:[((Ii=X.conv_sales)==null?void 0:Ii.toFixed(1))||0,"%"]}),y.jsx("td",{align:"center",style:{fontWeight:500,color:vt.secondary,...ze},children:X.revenue>0?`${Math.round(X.revenue).toLocaleString("fr-FR")}`:""}),y.jsx("td",{align:"center",style:{fontWeight:500,color:vt.tertiary},children:X.cashCollected>0?`${Math.round(X.cashCollected).toLocaleString("fr-FR")}`:""})]},`${Y}-${ue}-${X.salesKey}`)})})]})})]}),f==="lead_quality"&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"totals-block",children:y.jsxs("div",{className:"totals-row",style:{gap:"32px",justifyContent:"center"},children:[y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Total Leads"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value perf-neutral dot-boost",children:((U=(A=k==null?void 0:k.summary)==null?void 0:A.total_leads)==null?void 0:U.toLocaleString("fr-FR"))||0})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Total Clients"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value cash dot-boost",children:((W=(Z=k==null?void 0:k.summary)==null?void 0:Z.total_clients)==null?void 0:W.toLocaleString("fr-FR"))||0})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Taux Conv. Global"}),y.jsx("br",{}),y.jsxs("span",{className:"totals-value cash dot-boost",children:[((ae=(I=k==null?void 0:k.summary)==null?void 0:I.global_conversion_rate)==null?void 0:ae.toFixed(1))||0,"%"]})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Total Appels"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value perf-neutral dot-boost",children:((De=(oe=k==null?void 0:k.summary)==null?void 0:oe.total_calls)==null?void 0:De.toLocaleString("fr-FR"))||0})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Appels Dcrochs"}),y.jsx("br",{}),y.jsx("span",{className:"totals-value perf-neutral dot-boost",children:((qe=(fe=k==null?void 0:k.summary)==null?void 0:fe.total_answered)==null?void 0:qe.toLocaleString("fr-FR"))||0})]}),y.jsxs("div",{className:"money-float-container",children:[y.jsx("span",{className:"totals-label",children:"Taux Dcr. Global"}),y.jsx("br",{}),y.jsxs("span",{className:"totals-value revenu dot-boost",children:[((Xe=(et=k==null?void 0:k.summary)==null?void 0:et.global_answer_rate)==null?void 0:Xe.toFixed(1))||0,"%"]})]})]})}),E&&y.jsx("div",{style:{textAlign:"center",padding:"60px",color:e?"#8b8d93":"#86868b",animation:"fadeIn 0.3s ease-out"},children:y.jsx("p",{children:"Chargement des donnes qualit leads..."})}),!E&&(!(k!=null&&k.by_origin)||k.by_origin.length===0)&&y.jsx("p",{style:{textAlign:"center",padding:"60px",color:e?"#8b8d93":"#86868b",animation:"fadeIn 0.3s ease-out"},children:"Aucune donne disponible pour cette priode"}),!E&&(k==null?void 0:k.by_origin)&&k.by_origin.length>0&&y.jsx("div",{className:"leaderboard-wrapper",style:{animation:"fadeIn 0.4s ease-out"},children:y.jsxs("table",{className:"leaderboard",style:{fontSize:"0.85rem",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)",textAlign:"center"},children:"#"}),y.jsx("th",{style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)",textAlign:"left"},children:"Origine"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Leads"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Clients"}),y.jsx("th",{align:"center",title:"Clients / Leads",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Conv. %"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Appels"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Dcrochs"}),y.jsx("th",{align:"center",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Manqus"}),y.jsx("th",{align:"center",title:"Dcrochs / Total Appels",style:{whiteSpace:"nowrap",borderRight:"1px solid rgba(128,128,128,0.15)"},children:"Tx Dcr."}),y.jsx("th",{align:"center",title:"Manqus / Total Appels",style:{whiteSpace:"nowrap"},children:"Tx Manqus"})]})}),y.jsx("tbody",{children:k.by_origin.sort((X,ue)=>(ue.conversion_rate||0)-(X.conversion_rate||0)).map((X,ue)=>{var $e,ze,un,Mt,Ft,tt,Zn,An;const ye=Ot=>Ot>=10?vt.tertiary:Ot>=5?vt.secondary:e?"#f5f5f7":"#1d1d1f",Nt=Ot=>Ot>=80?vt.tertiary:Ot>=60?vt.secondary:"#ff453a",me=Ot=>Ot<=20?vt.tertiary:Ot<=40?vt.secondary:"#ff453a",Ae={borderRight:"1px solid rgba(128,128,128,0.15)"};return y.jsxs("tr",{children:[y.jsx("td",{style:{...Ae,textAlign:"center"},children:ue===0?y.jsx("img",{src:Tf,alt:"1st",style:{width:22,height:22}}):ue===1?y.jsx("img",{src:Af,alt:"2nd",style:{width:22,height:22}}):ue===2?y.jsx("img",{src:Ef,alt:"3rd",style:{width:22,height:22}}):ue+1}),y.jsx("td",{style:{...Ae,fontWeight:ue<3?700:500},children:y.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:600,background:e?"rgba(99, 102, 241, 0.15)":"rgba(99, 102, 241, 0.1)",color:vt.primary},children:X.origin||"Inconnu"})}),y.jsx("td",{align:"center",style:{fontWeight:500,...Ae},children:(($e=X.leads_count)==null?void 0:$e.toLocaleString("fr-FR"))||0}),y.jsx("td",{align:"center",style:{fontWeight:600,color:vt.tertiary,...Ae},children:((ze=X.clients_count)==null?void 0:ze.toLocaleString("fr-FR"))||0}),y.jsxs("td",{align:"center",style:{fontWeight:700,color:ye(X.conversion_rate),...Ae},children:[((un=X.conversion_rate)==null?void 0:un.toFixed(1))||0,"%"]}),y.jsx("td",{align:"center",style:{fontWeight:500,...Ae},children:((Mt=X.calls_total)==null?void 0:Mt.toLocaleString("fr-FR"))||0}),y.jsx("td",{align:"center",style:{fontWeight:500,...Ae},children:((Ft=X.calls_answered)==null?void 0:Ft.toLocaleString("fr-FR"))||0}),y.jsx("td",{align:"center",style:{fontWeight:500,...Ae},children:((tt=X.calls_missed)==null?void 0:tt.toLocaleString("fr-FR"))||0}),y.jsxs("td",{align:"center",style:{fontWeight:600,color:Nt(X.answer_rate),...Ae},children:[((Zn=X.answer_rate)==null?void 0:Zn.toFixed(1))||0,"%"]}),y.jsxs("td",{align:"center",style:{fontWeight:600,color:me(X.missed_rate)},children:[((An=X.missed_rate)==null?void 0:An.toFixed(1))||0,"%"]})]},X.origin||ue)})})]})})]})]})]}):null}function bN(){const[t,e]=R.useState(""),[n,i]=R.useState(""),[a,o]=R.useState(""),[l,u]=R.useState(!1),h=Bi(),f=async p=>{p.preventDefault(),o(""),u(!0);try{const b=await we.login(t.trim().toLowerCase(),n);console.log("LOGIN RES:",b),console.log("TOKEN AFTER LOGIN:",we.getToken()),console.log("USER AFTER LOGIN:",we.getUser());const v=we.getToken(),_=we.getUser();if(!v||!_)throw new Error("Login OK mais token/user non stocks (apiClient incohrent).");h("/")}catch(b){o(b.message||"Email ou mot de passe incorrect")}finally{u(!1)}};return y.jsx("div",{className:"login-container",children:y.jsxs("div",{className:"login-card",children:[y.jsxs("div",{className:"login-header",children:[y.jsx("div",{className:"login-logo",children:y.jsx("img",{src:ol,alt:"Owner Technology",style:{width:"52px",height:"52px",objectFit:"contain"}})}),y.jsx("h1",{children:"Owner Technology"}),y.jsx("p",{children:"Connectez-vous  votre espace"})]}),y.jsxs("form",{onSubmit:f,className:"login-form",children:[a&&y.jsx("div",{className:"login-error",children:a}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email professionnel"}),y.jsxs("div",{className:"input-wrapper",children:[y.jsx("span",{className:"input-icon",children:""}),y.jsx("input",{type:"email",id:"email",value:t,onChange:p=>e(p.target.value),placeholder:"vous@ownertechnology.com",required:!0})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Mot de passe"}),y.jsxs("div",{className:"input-wrapper",children:[y.jsx("span",{className:"input-icon",children:""}),y.jsx("input",{type:"password",id:"password",value:n,onChange:p=>i(p.target.value),placeholder:"",required:!0})]})]}),y.jsx("button",{type:"submit",disabled:l,children:l?"Connexion":"Se connecter"})]})]})})}function c_({children:t,allowedRoles:e=null}){const[n,i]=R.useState(!0),[a,o]=R.useState(!1);R.useEffect(()=>{l()},[]);const l=async()=>{const u=we.getToken(),h=we.getUser();if(!u||!h){o(!1),i(!1);return}if(e&&!e.includes(h.role)&&h.role!=="admin"){o(!1),i(!1);return}try{await we.getMe(),o(!0)}catch(f){console.error("getMe failed:",f),o(!1)}i(!1)};return n?y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#1a1a2e",color:"#fff"},children:"Chargement..."}):a?t:y.jsx(H2,{to:"/login",replace:!0})}function yN({size:t=10,lag:e=.15,color:n="#071a31ff",boostScale:i=2.5,enabled:a=!0}){const o=R.useRef(0);return R.useEffect(()=>{if(!a||"ontouchstart"in window&&matchMedia("(pointer: coarse)").matches)return;let l=document.getElementById("mouse-dot");l||(l=document.createElement("div"),l.id="mouse-dot",l.className="mouse-dot",document.body.appendChild(l)),l.style.cssText=`
      position: fixed;
      width: ${t}px;
      height: ${t}px;
      z-index: 999999;
      pointer-events: none;
      border-radius: 50%;
      left: 0;
      top: 0;
      will-change: transform;
      transition: width 0.2s ease, height 0.2s ease, opacity 0.2s ease;
    `;let u=0,h=0,f=0,p=0,b=t,v=!1;const _=()=>{const O=document.body.classList.contains("dark-mode");l.style.backgroundColor=O?"rgba(255, 255, 255, 0.75)":n};_();const S=new MutationObserver(_);S.observe(document.body,{attributes:!0,attributeFilter:["class"]});const k=O=>{const z=O.target.closest(".dot-boost");z&&!v?(v=!0,b=t*i,l.style.width=`${b}px`,l.style.height=`${b}px`,l.style.opacity="0.5"):!z&&v&&(v=!1,b=t,l.style.width=`${t}px`,l.style.height=`${t}px`,l.style.opacity="1")},w=O=>{f=O.clientX,p=O.clientY,k(O)};window.addEventListener("mousemove",w,{passive:!0});const E=()=>{u+=(f-u)*e,h+=(p-h)*e,l.style.transform=`translate3d(${u-b/2}px, ${h-b/2}px, 0)`,o.current=requestAnimationFrame(E)};return o.current=requestAnimationFrame(E),()=>{cancelAnimationFrame(o.current),window.removeEventListener("mousemove",w),S.disconnect()}},[a,t,e,n,i]),null}function vN(){return y.jsxs(K2,{children:[y.jsx(yN,{size:10,lag:.15,color:"#071a31ff"}),y.jsxs(q2,{children:[y.jsx(ji,{path:"/",element:y.jsx(JR,{})}),y.jsx(ji,{path:"/login",element:y.jsx(bN,{})}),y.jsx(ji,{path:"/admin/leads",element:y.jsx(aN,{})}),y.jsx(ji,{path:"/leads-management",element:y.jsx(rN,{})}),y.jsx(ji,{path:"/tracking-sheet",element:y.jsx(cN,{})}),y.jsx(ji,{path:"/monitoring-perf",element:y.jsx(mN,{})}),y.jsx(ji,{path:"/employee/:name",element:y.jsx(c_,{children:y.jsx(tC,{})})}),y.jsx(ji,{path:"/contracts/new",element:y.jsx(c_,{children:y.jsx(sN,{})})})]})]})}Kw.createRoot(document.getElementById("root")).render(y.jsx(vN,{}));
